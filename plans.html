<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plans & Pricing - Purple Squirrel Media</title>
    <meta name="description" content="Choose your Purple Squirrel Media membership. Free TV pass or premium subscriptions. Pay with Solana.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script>
    <style>
        :root {
            --primary: #7c3aed;
            --primary-dark: #1a0a2e;
            --bg-dark: #0f0518;
            --bg-card: #1e1028;
            --text-primary: #ffffff;
            --text-muted: #a1a1aa;
            --success: #22c55e;
            --solana: #9945ff;
            --free-green: #22c55e;
            --entertainment-purple: #8b5cf6;
            --creator-gold: #f59e0b;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Poppins', sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            min-height: 100vh;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 40px;
            background: rgba(26, 10, 46, 0.9);
            backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            color: white;
            font-weight: 600;
        }
        .logo-icon { font-size: 24px; }
        .nav-links { display: flex; gap: 30px; }
        .nav-links a {
            color: var(--text-muted);
            text-decoration: none;
            font-size: 14px;
            transition: color 0.3s;
        }
        .nav-links a:hover { color: white; }

        /* Hero */
        .hero {
            text-align: center;
            padding: 80px 20px 40px;
            background: linear-gradient(135deg, var(--bg-dark) 0%, var(--primary-dark) 100%);
        }
        .hero h1 {
            font-size: 48px;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #fff 0%, #a78bfa 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .hero p {
            color: var(--text-muted);
            font-size: 18px;
            max-width: 700px;
            margin: 0 auto 30px;
        }
        .solana-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(153, 69, 255, 0.15);
            border: 1px solid var(--solana);
            padding: 12px 24px;
            border-radius: 50px;
            color: white;
            font-size: 14px;
        }

        /* Pricing Grid */
        .pricing-section {
            padding: 60px 20px 80px;
            max-width: 1200px;
            margin: 0 auto;
        }
        .pricing-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
        }

        /* Plan Cards */
        .plan-card {
            background: var(--bg-card);
            border-radius: 24px;
            padding: 40px 30px;
            border: 2px solid rgba(255,255,255,0.1);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }
        .plan-card:hover {
            transform: translateY(-8px);
        }

        /* Free TV Pass - Green Theme */
        .plan-card.free {
            border-color: rgba(34, 197, 94, 0.3);
            background: linear-gradient(135deg, var(--bg-card) 0%, rgba(34, 197, 94, 0.1) 100%);
        }
        .plan-card.free:hover { border-color: var(--free-green); }
        .plan-card.free .plan-badge {
            background: linear-gradient(135deg, #22c55e, #16a34a);
        }
        .plan-card.free .plan-icon { color: var(--free-green); }
        .plan-card.free .plan-btn { background: linear-gradient(135deg, #22c55e, #16a34a); }

        /* Entertainment - Purple Theme (Featured) */
        .plan-card.entertainment {
            border-color: var(--entertainment-purple);
            background: linear-gradient(135deg, var(--bg-card) 0%, rgba(139, 92, 246, 0.15) 100%);
            transform: scale(1.02);
        }
        .plan-card.entertainment:hover { transform: scale(1.04) translateY(-8px); }
        .plan-card.entertainment .plan-badge {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
        }
        .plan-card.entertainment .plan-icon { color: var(--entertainment-purple); }
        .plan-card.entertainment .plan-btn { background: linear-gradient(135deg, #8b5cf6, #7c3aed); }

        /* Creator - Gold Theme */
        .plan-card.creator {
            border-color: rgba(245, 158, 11, 0.3);
            background: linear-gradient(135deg, var(--bg-card) 0%, rgba(245, 158, 11, 0.1) 100%);
        }
        .plan-card.creator:hover { border-color: var(--creator-gold); }
        .plan-card.creator .plan-badge {
            background: linear-gradient(135deg, #f59e0b, #d97706);
        }
        .plan-card.creator .plan-icon { color: var(--creator-gold); }
        .plan-card.creator .plan-btn { background: linear-gradient(135deg, #f59e0b, #d97706); }

        .plan-badge {
            position: absolute;
            top: 0;
            right: 0;
            padding: 8px 20px;
            border-radius: 0 22px 0 16px;
            font-size: 12px;
            font-weight: 600;
            color: white;
        }

        .plan-icon {
            font-size: 48px;
            margin-bottom: 20px;
        }

        .plan-name {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .plan-tagline {
            color: var(--text-muted);
            font-size: 14px;
            margin-bottom: 25px;
        }

        .plan-price {
            margin-bottom: 30px;
        }
        .plan-price .amount {
            font-size: 48px;
            font-weight: 700;
        }
        .plan-price .currency {
            font-size: 20px;
            opacity: 0.8;
        }
        .plan-price .period {
            font-size: 16px;
            color: var(--text-muted);
        }
        .plan-price .type {
            display: block;
            font-size: 14px;
            color: var(--text-muted);
            margin-top: 5px;
        }

        .plan-features {
            list-style: none;
            margin-bottom: 30px;
        }
        .plan-features li {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 15px;
            font-size: 14px;
            color: rgba(255,255,255,0.9);
        }
        .plan-features li i {
            color: var(--success);
            width: 20px;
            margin-top: 3px;
        }
        .plan-features li.disabled {
            color: var(--text-muted);
        }
        .plan-features li.disabled i {
            color: var(--text-muted);
        }

        .plan-btn {
            width: 100%;
            padding: 18px;
            border: none;
            border-radius: 14px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            color: white;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        .plan-btn:hover {
            transform: scale(1.02);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        /* NFT Explanation */
        .nft-section {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--bg-dark) 100%);
            padding: 80px 20px;
        }
        .nft-container {
            max-width: 1000px;
            margin: 0 auto;
            text-align: center;
        }
        .nft-section h2 {
            font-size: 36px;
            margin-bottom: 20px;
        }
        .nft-section > p {
            color: var(--text-muted);
            max-width: 600px;
            margin: 0 auto 50px;
        }
        .nft-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
        }
        .nft-card {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 30px 20px;
            text-align: center;
        }
        .nft-card i {
            font-size: 40px;
            color: var(--solana);
            margin-bottom: 15px;
        }
        .nft-card h4 {
            font-size: 18px;
            margin-bottom: 10px;
        }
        .nft-card p {
            font-size: 13px;
            color: var(--text-muted);
        }

        /* Comparison Table */
        .comparison-section {
            padding: 80px 20px;
            max-width: 1000px;
            margin: 0 auto;
        }
        .comparison-section h2 {
            text-align: center;
            font-size: 36px;
            margin-bottom: 40px;
        }
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--bg-card);
            border-radius: 16px;
            overflow: hidden;
        }
        .comparison-table th,
        .comparison-table td {
            padding: 20px 15px;
            text-align: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .comparison-table th {
            background: rgba(139, 92, 246, 0.2);
            font-weight: 600;
        }
        .comparison-table th:first-child,
        .comparison-table td:first-child {
            text-align: left;
            padding-left: 25px;
        }
        .comparison-table .check { color: var(--success); }
        .comparison-table .x { color: var(--text-muted); }

        /* FAQ */
        .faq-section {
            padding: 80px 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        .faq-section h2 {
            text-align: center;
            font-size: 36px;
            margin-bottom: 40px;
        }
        .faq-item {
            background: var(--bg-card);
            border-radius: 12px;
            margin-bottom: 15px;
            overflow: hidden;
        }
        .faq-question {
            padding: 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 500;
        }
        .faq-question i { color: var(--text-muted); transition: transform 0.3s; }
        .faq-item.open .faq-question i { transform: rotate(180deg); }
        .faq-answer {
            padding: 0 20px;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s;
            color: var(--text-muted);
            font-size: 14px;
            line-height: 1.8;
        }
        .faq-item.open .faq-answer {
            padding: 0 20px 20px;
            max-height: 300px;
        }

        /* Footer */
        .footer {
            background: var(--primary-dark);
            padding: 40px 20px;
            text-align: center;
        }
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 20px;
        }
        .footer-links a {
            color: var(--text-muted);
            text-decoration: none;
            font-size: 14px;
        }
        .footer-links a:hover { color: white; }
        .footer p { color: var(--text-muted); font-size: 14px; }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.85);
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        .modal.show { display: flex; }
        .modal-content {
            background: var(--bg-card);
            padding: 40px;
            border-radius: 24px;
            max-width: 450px;
            width: 90%;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .modal-content h3 { font-size: 24px; margin-bottom: 10px; }
        .modal-content .subtitle { color: var(--text-muted); margin-bottom: 30px; }
        .modal-icon {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 25px;
            font-size: 48px;
        }
        .modal-icon.free { background: rgba(34, 197, 94, 0.2); color: var(--free-green); }
        .modal-icon.entertainment { background: rgba(139, 92, 246, 0.2); color: var(--entertainment-purple); }
        .modal-icon.creator { background: rgba(245, 158, 11, 0.2); color: var(--creator-gold); }
        .payment-amount {
            font-size: 42px;
            font-weight: 700;
            margin: 20px 0 5px;
        }
        .payment-usd {
            color: var(--text-muted);
            font-size: 14px;
            margin-bottom: 25px;
        }
        .modal-btn {
            width: 100%;
            padding: 18px;
            border: none;
            border-radius: 14px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        .modal-btn.phantom {
            background: linear-gradient(135deg, #ab9ff2, #512da8);
            color: white;
        }
        .modal-btn.cancel {
            background: rgba(255,255,255,0.1);
            color: white;
        }
        .modal-note {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .hero h1 { font-size: 32px; }
            .pricing-grid { grid-template-columns: 1fr; }
            .plan-card.entertainment { transform: none; }
            .plan-card.entertainment:hover { transform: translateY(-8px); }
            .header { padding: 15px 20px; }
            .nav-links { display: none; }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <a href="index.html" class="logo">
            <span class="logo-icon">üêøÔ∏è</span>
            <span>Purple Squirrel Media</span>
        </a>
        <nav class="nav-links">
            <a href="index.html">Home</a>
            <a href="free-tv.html">Free TV</a>
            <a href="watch.html">Premium</a>
            <a href="about.html">About</a>
            <a href="contact.html">Contact</a>
        </nav>
    </header>

    <!-- Hero -->
    <section class="hero">
        <h1>Choose Your Access Pass</h1>
        <p>Get a lifetime Free TV pass or subscribe for full access to movies, shows, and creator tools. All powered by Solana NFTs.</p>
        <div class="solana-badge">
            <i class="fab fa-ethereum"></i>
            Pay with SOL or USDC ‚Ä¢ Zero Platform Fees
        </div>
    </section>

    <!-- Pricing Grid -->
    <section class="pricing-section">
        <div class="pricing-grid">
            <!-- Free TV Pass -->
            <div class="plan-card free">
                <div class="plan-badge">Lifetime</div>
                <div class="plan-icon">üì∫</div>
                <h3 class="plan-name">Free TV Pass</h3>
                <p class="plan-tagline">Access 50+ live channels forever</p>
                <div class="plan-price">
                    <span class="amount">FREE</span>
                    <span class="type">One-time NFT mint (just pay gas ~0.001 SOL)</span>
                </div>
                <ul class="plan-features">
                    <li><i class="fas fa-check"></i> 50+ live TV channels</li>
                    <li><i class="fas fa-check"></i> News, sports, entertainment</li>
                    <li><i class="fas fa-check"></i> Music & kids channels</li>
                    <li><i class="fas fa-check"></i> Lifetime access - never expires</li>
                    <li><i class="fas fa-check"></i> Transferable NFT</li>
                    <li class="disabled"><i class="fas fa-times"></i> Movies & premium shows</li>
                    <li class="disabled"><i class="fas fa-times"></i> 4K streaming</li>
                    <li class="disabled"><i class="fas fa-times"></i> Creator tools</li>
                </ul>
                <button class="plan-btn" onclick="selectPlan('free')">
                    <i class="fas fa-wallet"></i> Mint Free Pass
                </button>
            </div>

            <!-- Entertainment -->
            <div class="plan-card entertainment">
                <div class="plan-badge">Most Popular</div>
                <div class="plan-icon">üé¨</div>
                <h3 class="plan-name">Entertainment</h3>
                <p class="plan-tagline">Full library of TV shows & movies</p>
                <div class="plan-price">
                    <span class="currency">$</span><span class="amount">9.99</span><span class="period">/month</span>
                    <span class="type">~0.05 SOL ‚Ä¢ Subscription NFT</span>
                </div>
                <ul class="plan-features">
                    <li><i class="fas fa-check"></i> Everything in Free TV Pass</li>
                    <li><i class="fas fa-check"></i> Unlimited movies & TV shows</li>
                    <li><i class="fas fa-check"></i> 4K HDR streaming</li>
                    <li><i class="fas fa-check"></i> Download for offline</li>
                    <li><i class="fas fa-check"></i> Ad-free experience</li>
                    <li><i class="fas fa-check"></i> Watch on 4 devices</li>
                    <li><i class="fas fa-check"></i> New releases weekly</li>
                    <li class="disabled"><i class="fas fa-times"></i> Creator Studio access</li>
                </ul>
                <button class="plan-btn" onclick="selectPlan('entertainment')">
                    <i class="fas fa-play"></i> Subscribe Now
                </button>
            </div>

            <!-- Creator -->
            <div class="plan-card creator">
                <div class="plan-badge">For Creators</div>
                <div class="plan-icon">üëë</div>
                <h3 class="plan-name">Creator</h3>
                <p class="plan-tagline">Everything + upload & monetize</p>
                <div class="plan-price">
                    <span class="currency">$</span><span class="amount">29.99</span><span class="period">/month</span>
                    <span class="type">~0.15 SOL ‚Ä¢ Creator NFT</span>
                </div>
                <ul class="plan-features">
                    <li><i class="fas fa-check"></i> Everything in Entertainment</li>
                    <li><i class="fas fa-check"></i> Creator Studio access</li>
                    <li><i class="fas fa-check"></i> Unlimited video uploads</li>
                    <li><i class="fas fa-check"></i> Monetization tools</li>
                    <li><i class="fas fa-check"></i> Analytics dashboard</li>
                    <li><i class="fas fa-check"></i> Priority transcoding</li>
                    <li><i class="fas fa-check"></i> Custom channel page</li>
                    <li><i class="fas fa-check"></i> Revenue share (80% to you)</li>
                </ul>
                <button class="plan-btn" onclick="selectPlan('creator')">
                    <i class="fas fa-crown"></i> Become a Creator
                </button>
            </div>
        </div>
    </section>

    <!-- NFT Benefits -->
    <section class="nft-section">
        <div class="nft-container">
            <h2>Why NFT Memberships?</h2>
            <p>Your membership is a real digital asset you own, not just a subscription.</p>
            <div class="nft-grid">
                <div class="nft-card">
                    <i class="fas fa-wallet"></i>
                    <h4>True Ownership</h4>
                    <p>Your NFT lives in your wallet. You control it, not us.</p>
                </div>
                <div class="nft-card">
                    <i class="fas fa-exchange-alt"></i>
                    <h4>Transferable</h4>
                    <p>Sell or gift your membership on secondary markets.</p>
                </div>
                <div class="nft-card">
                    <i class="fas fa-shield-alt"></i>
                    <h4>No Cancel Hassle</h4>
                    <p>Just don't renew. Your NFT expires but you keep it.</p>
                </div>
                <div class="nft-card">
                    <i class="fas fa-percentage"></i>
                    <h4>Zero Fees</h4>
                    <p>Solana payments mean no credit card fees passed to you.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Comparison Table -->
    <section class="comparison-section">
        <h2>Compare Plans</h2>
        <table class="comparison-table">
            <thead>
                <tr>
                    <th>Feature</th>
                    <th>Free TV</th>
                    <th>Entertainment</th>
                    <th>Creator</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Live TV Channels (50+)</td>
                    <td><i class="fas fa-check check"></i></td>
                    <td><i class="fas fa-check check"></i></td>
                    <td><i class="fas fa-check check"></i></td>
                </tr>
                <tr>
                    <td>Movies & TV Shows</td>
                    <td><i class="fas fa-times x"></i></td>
                    <td><i class="fas fa-check check"></i></td>
                    <td><i class="fas fa-check check"></i></td>
                </tr>
                <tr>
                    <td>4K HDR Quality</td>
                    <td><i class="fas fa-times x"></i></td>
                    <td><i class="fas fa-check check"></i></td>
                    <td><i class="fas fa-check check"></i></td>
                </tr>
                <tr>
                    <td>Offline Downloads</td>
                    <td><i class="fas fa-times x"></i></td>
                    <td><i class="fas fa-check check"></i></td>
                    <td><i class="fas fa-check check"></i></td>
                </tr>
                <tr>
                    <td>Ad-Free</td>
                    <td><i class="fas fa-times x"></i></td>
                    <td><i class="fas fa-check check"></i></td>
                    <td><i class="fas fa-check check"></i></td>
                </tr>
                <tr>
                    <td>Simultaneous Streams</td>
                    <td>1</td>
                    <td>4</td>
                    <td>Unlimited</td>
                </tr>
                <tr>
                    <td>Upload Content</td>
                    <td><i class="fas fa-times x"></i></td>
                    <td><i class="fas fa-times x"></i></td>
                    <td><i class="fas fa-check check"></i></td>
                </tr>
                <tr>
                    <td>Monetization</td>
                    <td><i class="fas fa-times x"></i></td>
                    <td><i class="fas fa-times x"></i></td>
                    <td>80% revenue</td>
                </tr>
                <tr>
                    <td>Price</td>
                    <td><strong>Free</strong></td>
                    <td><strong>$9.99/mo</strong></td>
                    <td><strong>$29.99/mo</strong></td>
                </tr>
            </tbody>
        </table>
    </section>

    <!-- FAQ -->
    <section class="faq-section">
        <h2>Frequently Asked Questions</h2>

        <div class="faq-item">
            <div class="faq-question">
                <span>What wallet do I need?</span>
                <i class="fas fa-chevron-down"></i>
            </div>
            <div class="faq-answer">
                We recommend Phantom wallet for the best experience. It's free, secure, and works on desktop and mobile. Download at phantom.app. Other Solana wallets like Solflare also work.
            </div>
        </div>

        <div class="faq-item">
            <div class="faq-question">
                <span>How does the Free TV Pass work?</span>
                <i class="fas fa-chevron-down"></i>
            </div>
            <div class="faq-answer">
                The Free TV Pass is a one-time NFT mint. You only pay the Solana network gas fee (~0.001 SOL, about $0.20). Once minted, you have lifetime access to all 50+ live channels. The NFT never expires and can be transferred or sold.
            </div>
        </div>

        <div class="faq-item">
            <div class="faq-question">
                <span>How do subscriptions work with NFTs?</span>
                <i class="fas fa-chevron-down"></i>
            </div>
            <div class="faq-answer">
                When you subscribe to Entertainment or Creator, you receive an NFT with an expiration date. As long as the NFT is valid, you have access. To renew, simply pay again to extend your NFT. If you don't renew, the NFT remains in your wallet but no longer grants access.
            </div>
        </div>

        <div class="faq-item">
            <div class="faq-question">
                <span>Can I cancel my subscription?</span>
                <i class="fas fa-chevron-down"></i>
            </div>
            <div class="faq-answer">
                There's no "cancel" button needed! Simply don't renew when your current period ends. You keep full access until your NFT expires. No hidden fees, no hassle.
            </div>
        </div>

        <div class="faq-item">
            <div class="faq-question">
                <span>Can I sell my membership NFT?</span>
                <i class="fas fa-chevron-down"></i>
            </div>
            <div class="faq-answer">
                Yes! Your NFT is a real digital asset. You can list it on NFT marketplaces like Magic Eden or Tensor. The new owner will receive all membership benefits. This is especially valuable for the Free TV Pass which never expires.
            </div>
        </div>

        <div class="faq-item">
            <div class="faq-question">
                <span>What payment methods do you accept?</span>
                <i class="fas fa-chevron-down"></i>
            </div>
            <div class="faq-answer">
                We accept SOL (Solana's native token) and USDC (a stablecoin pegged to USD). Paying with USDC means you always pay the exact dollar amount shown. SOL prices may vary with market conditions.
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-links">
            <a href="terms.html">Terms of Service</a>
            <a href="privacy.html">Privacy Policy</a>
            <a href="dmca.html">DMCA</a>
            <a href="contact.html">Contact</a>
        </div>
        <p>&copy; 2024 Purple Squirrel Media. All rights reserved.</p>
    </footer>

    <!-- Payment Modal -->
    <div class="modal" id="paymentModal">
        <div class="modal-content">
            <div class="modal-icon" id="modalIcon">üì∫</div>
            <h3 id="modalTitle">Free TV Pass</h3>
            <p class="subtitle" id="modalSubtitle">Lifetime access to 50+ channels</p>
            <div class="payment-amount" id="modalAmount">FREE</div>
            <div class="payment-usd" id="modalUsd">Gas only: ~0.001 SOL</div>
            <button class="modal-btn phantom" onclick="connectAndPay()">
                <i class="fab fa-ethereum"></i> Connect Phantom & Mint
            </button>
            <button class="modal-btn cancel" onclick="closeModal()">Cancel</button>
            <p class="modal-note">You'll be prompted to approve the transaction in your wallet.</p>
        </div>
    </div>

    <script src="js/auth.js"></script>
    <script src="js/solana-pay.js"></script>
    <script>
        // Plan data
        const PLANS = {
            free: {
                name: 'Free TV Pass',
                subtitle: 'Lifetime access to 50+ channels',
                icon: 'üì∫',
                iconClass: 'free',
                amount: 'FREE',
                usd: 'Gas only: ~0.001 SOL (~$0.20)',
                sol: 0, // Just gas
                tier: 'free'
            },
            entertainment: {
                name: 'Entertainment',
                subtitle: 'Full TV & Movies access - 1 month',
                icon: 'üé¨',
                iconClass: 'entertainment',
                amount: '0.05 SOL',
                usd: '~$9.99 USD',
                sol: 0.05,
                tier: 'entertainment'
            },
            creator: {
                name: 'Creator',
                subtitle: 'Full access + Creator Studio - 1 month',
                icon: 'üëë',
                iconClass: 'creator',
                amount: '0.15 SOL',
                usd: '~$29.99 USD',
                sol: 0.15,
                tier: 'creator'
            }
        };

        let selectedPlan = null;

        function selectPlan(planKey) {
            selectedPlan = PLANS[planKey];

            // Update modal
            document.getElementById('modalIcon').textContent = selectedPlan.icon;
            document.getElementById('modalIcon').className = 'modal-icon ' + selectedPlan.iconClass;
            document.getElementById('modalTitle').textContent = selectedPlan.name;
            document.getElementById('modalSubtitle').textContent = selectedPlan.subtitle;
            document.getElementById('modalAmount').textContent = selectedPlan.amount;
            document.getElementById('modalUsd').textContent = selectedPlan.usd;

            // Show modal
            document.getElementById('paymentModal').classList.add('show');
        }

        function closeModal() {
            document.getElementById('paymentModal').classList.remove('show');
        }

        async function connectAndPay() {
            if (!window.solana?.isPhantom) {
                window.open('https://phantom.app/', '_blank');
                return;
            }

            try {
                // Connect wallet
                await window.solana.connect();

                if (selectedPlan.sol === 0) {
                    // Free mint - just gas
                    const result = await PSM_NFT.mintMembershipNFT(selectedPlan.tier, 'free-mint');
                    if (result.success) {
                        alert('Free TV Pass minted! Check your wallet.');
                        closeModal();
                        window.location.href = 'free-tv.html';
                    } else {
                        alert('Minting failed: ' + result.error);
                    }
                } else {
                    // Paid subscription
                    const result = await PSM_PAY.payWithWallet(selectedPlan.tier, false);
                    if (result.success) {
                        alert(`${selectedPlan.name} subscription activated!`);
                        closeModal();
                        window.location.href = 'watch.html';
                    } else {
                        alert('Payment failed: ' + result.error);
                    }
                }
            } catch (error) {
                console.error('Payment error:', error);
                alert('Error: ' + error.message);
            }
        }

        // FAQ toggles
        document.querySelectorAll('.faq-question').forEach(q => {
            q.addEventListener('click', () => {
                q.parentElement.classList.toggle('open');
            });
        });

        // Close modal on escape
        document.addEventListener('keydown', e => {
            if (e.key === 'Escape') closeModal();
        });
    </script>
</body>
</html>
