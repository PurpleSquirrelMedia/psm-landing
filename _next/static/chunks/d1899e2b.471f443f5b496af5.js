"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2802],{4467:function(e,t,r){let n,i,s,a,o,l,c,u,d,h;r.r(t),r.d(t,{fetchOptions:function(){return lw},signAndSendTransaction:function(){return lm}});var g,f,p,y=r(63753),w=r(75359),m=r(73109),A=r(10285),z=r(90686),b=r(9433),v=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},U=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};class _ extends Event{get detail(){return v(this,p,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),p.set(this,void 0),U(this,p,e,"f")}preventDefault(){throw Error("preventDefault cannot be called")}stopImmediatePropagation(){throw Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw Error("stopPropagation cannot be called")}}p=new WeakMap;var E,M={exports:{}},S=(E||(E=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,a){if("function"!=typeof n)throw TypeError("The listener must be a function");var o=new i(n,s||e,a),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,a=Array(s);i<s;i++)a[i]=n[i].fn;return a},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,i,s,a){var o=r?r+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,s),!0;case 6:return u.fn.call(u.context,t,n,i,s,a),!0}for(c=1,l=Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,g=u.length;for(c=0;c<g;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,i);break;default:if(!l)for(h=1,l=Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,i){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return a(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||i&&!o.once||n&&o.context!==n||a(this,s);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||i&&!o[l].once||n&&o[l].context!==n)&&c.push(o[l]);c.length?this._events[s]=1===c.length?c[0]:c:a(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o}(M)),M.exports);let I=(0,y.g)(S);var T="aptos:signAndSubmitTransaction",N="aptos:signIn",x="aptos:signMessage",k="aptos:signTransaction",D="aptos:connect",C="aptos:disconnect",j="aptos:account",B="aptos:network",O="aptos:onAccountChange",L="aptos:onNetworkChange",P=class e extends w.B{constructor({address:e,publicKey:t,ansName:r}){super(),this.address=w.l.from(e),this.publicKey=t,this.ansName=r}serialize(e){if(this.address.serialize(e),this.publicKey instanceof w.f)e.serializeU32AsUleb128(w.E.Ed25519);else if(this.publicKey instanceof w.F)e.serializeU32AsUleb128(w.E.MultiEd25519);else if(this.publicKey instanceof w.k)e.serializeU32AsUleb128(w.E.SingleKey);else if(this.publicKey instanceof w.S)e.serializeU32AsUleb128(w.E.MultiKey);else throw Error("Unsupported public key");this.publicKey.serialize(e),e.serializeStr(this.ansName??"")}static deserialize(t){let r=w.l.deserialize(t),n=t.deserializeUleb128AsU32(),i;switch(n){case w.E.Ed25519:i=w.f.deserialize(t);break;case w.E.MultiEd25519:i=w.F.deserialize(t);break;case w.E.SingleKey:i=w.k.deserialize(t);break;case w.E.MultiKey:i=w.S.deserialize(t);break;default:throw Error(`Unknown variant index for WrappedPublicKey: ${n}`)}return new e({address:r,publicKey:i,ansName:t.deserializeStr()||void 0})}},K=["aptos:devnet","aptos:testnet","aptos:localnet","aptos:mainnet"],R=["aptos:account","aptos:connect","aptos:disconnect","aptos:network","aptos:onAccountChange","aptos:onNetworkChange","aptos:signMessage","aptos:signTransaction"];function W(e,t=[]){return[...R,...t].every(t=>t in e.features)}function H(){let{get:e,on:t}=(0,A.g)(),r=e(),n=[];return r.map(e=>{W(e)&&n.push(e)}),{aptosWallets:n,on:t}}var V,F=((i=F||{})[i.Unauthorized=4100]="Unauthorized",i[i.Unsupported=4200]="Unsupported",i[i.InternalError=-30001]="InternalError",i),Q=Object.freeze({4100:{status:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},[-30001]:{status:"Internal error",message:"Something went wrong within the wallet."},4200:{status:"Unsupported",message:"The requested feature is not supported."}}),G=class e extends Error{constructor(t,r){super(r??Q[t]?.message??"Unknown error occurred"),this.code=t,this.status=Q[t]?.status??"Unknown error",this.name="AptosWalletError",Object.setPrototypeOf(this,e.prototype)}},q=((s=q||{}).APPROVED="Approved",s.REJECTED="Rejected",s),Y={exports:{}},$=Y.exports,J=(V||(V=1,af=function(e){if(!e)throw Error("tweetnacl not loaded");var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},r=t(),n=t([1]),i=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),s=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function a(e){var t,r;for(r=0;r<16;r++)e[r]+=65536,t=Math.floor(e[r]/65536),e[(r+1)*(r<15?1:0)]+=t-1+37*(t-1)*(15===r?1:0),e[r]-=65536*t}function o(e,t,r){var n;for(n=0;n<16;n++)e[n]=t[n]+r[n]|0}function l(e,t,r){var n;for(n=0;n<16;n++)e[n]=t[n]-r[n]|0}function c(e,t,r){var n,i,s=new Float64Array(31);for(n=0;n<31;n++)s[n]=0;for(n=0;n<16;n++)for(i=0;i<16;i++)s[n+i]+=t[n]*r[i];for(n=0;n<15;n++)s[n]+=38*s[n+16];for(n=0;n<16;n++)e[n]=s[n];a(e),a(e)}function u(e,r){var n,i,s,o=t(),l=t();for(n=0;n<16;n++)l[n]=r[n];for(a(l),a(l),a(l),i=0;i<2;i++){for(o[0]=l[0]-65517,n=1;n<15;n++)o[n]=l[n]-65535-(o[n-1]>>16&1),o[n-1]&=65535;o[15]=l[15]-32767-(o[14]>>16&1),s=o[15]>>16&1,o[14]&=65535,function(e,t,r){for(var n,i=~(r-1),s=0;s<16;s++)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}(l,o,1-s)}for(n=0;n<16;n++)e[2*n]=255&l[n],e[2*n+1]=l[n]>>8}function d(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return u(r,e),u(n,t),function(e,t,r,n,i){var s,a=0;for(s=0;s<32;s++)a|=e[0+s]^r[0+s];return(1&a-1>>>8)-1}(r,0,n,0,0)}function h(e){var a,h,g,f,p,y,w,m,A,z,b,v,U=new Uint8Array(32),_=[t(),t(),t(),t()],E=t(),M=t();if(a=t(),h=t(),g=t(),f=t(),p=t(),y=t(),w=t(),function(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}(_[2],n),function(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(_[1],e),c(g,m=_[1],m),c(f,g,i),l(g,g,_[2]),o(f,_[2],f),c(p,f,f),c(y,p,p),c(w,y,p),c(a,w,g),c(a,a,f),function(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)c(i,i,i),1!==n&&c(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}(a,a),c(a,a,g),c(a,a,f),c(a,a,f),c(_[0],a,f),c(h,A=_[0],A),c(h,h,f),d(h,g)&&c(_[0],_[0],s),c(h,z=_[0],z),c(h,h,f),d(h,g)?-1:(b=_[0],u(v=new Uint8Array(32),b),(1&v[0])==e[31]>>7&&l(_[0],r,_[0]),c(_[3],_[0],_[1]),0))return null;var S=_[1];return o(E,n,S),l(M,n,S),function(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)c(i,i,i),2!==n&&4!==n&&c(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}(M,M),c(E,E,M),u(U,E),U}function g(t){var r,n=new Uint8Array(64),i=new Uint8Array(32);for(e.lowlevel.crypto_hash(n,t,32),n[0]&=248,n[31]&=127,n[31]|=64,r=0;r<32;r++)i[r]=n[r];for(r=0;r<64;r++)n[r]=0;return i}return{convertPublicKey:h,convertSecretKey:g,convertKeyPair:function(e){var t=h(e.publicKey);return t?{publicKey:t,secretKey:g(e.secretKey)}:null}}},Y.exports?Y.exports=af((0,z.av)()):$.ed2curve=af($.nacl)),Y.exports);let Z=(0,y.g)(J);function X(e){return[w.e.MAINNET,w.e.TESTNET,w.e.DEVNET].includes(e)}function ee(e,t){if(t instanceof w.f)e.serializeU32AsUleb128(w.E.Ed25519);else if(t instanceof w.F)e.serializeU32AsUleb128(w.E.MultiEd25519);else if(t instanceof w.k)e.serializeU32AsUleb128(w.E.SingleKey);else if(t instanceof w.S)e.serializeU32AsUleb128(w.E.MultiKey);else throw Error("Unexpected public key type");e.serialize(t)}function et(e){let t=e.deserializeUleb128AsU32();switch(t){case w.E.Ed25519:return e.deserialize(w.f);case w.E.MultiEd25519:return e.deserialize(w.F);case w.E.SingleKey:return e.deserialize(w.k);case w.E.MultiKey:return e.deserialize(w.S);default:throw Error(`Unknown signing scheme: ${t}`)}}function er(e,t){e.serialize(t.address),ee(e,t.publicKey),e.serializeStr(t.name??"")}function en(e){let t=e.deserialize(w.l),r=et(e),n=e.deserializeStr();return{address:t,publicKey:r,...n.length>0?{name:n}:void 0}}function ei(e,t){e.serialize(t.address),e.serializeBool(void 0!==t.publicKey),t.publicKey&&ee(e,t.publicKey)}function es(e){return{address:e.deserialize(w.l),publicKey:e.deserializeBool()?et(e):void 0}}function ea(e,t){e.serializeStr(t.domain),e.serializeStr(t.name),e.serializeBool(void 0!==t.imageURI),void 0!==t.imageURI&&e.serializeStr(t.imageURI)}function eo(e){let t=e.deserializeStr(),r=e.deserializeStr();return{domain:t,imageURI:e.deserializeBool()?e.deserializeStr():void 0,name:r}}function el(e,t){if(t instanceof w.h)e.serializeU32AsUleb128(w.E.Ed25519);else if(t instanceof w._)e.serializeU32AsUleb128(w.E.MultiEd25519);else if(t instanceof w.O)e.serializeU32AsUleb128(w.E.SingleKey);else throw Error("Unexpected signature type");e.serialize(t)}function ec(e){let t=e.deserializeUleb128AsU32();switch(t){case w.E.Ed25519:return e.deserialize(w.h);case w.E.MultiEd25519:return e.deserialize(w._);case w.E.SingleKey:return e.deserialize(w.O);default:throw Error(`Unknown signing scheme: ${t}`)}}function eu(e,t){for(let r of(e.serializeU32AsUleb128(t.length),t)){let t="string"==typeof r?(0,w.A)(r,{allowGenerics:!0}):r;e.serialize(t)}}function ed(e){let t=[],r=e.deserializeUleb128AsU32();for(let n=0;n<r;n+=1){let r=e.deserialize(w.U);t.push(r)}return t}function eh(e,t){for(let r of(e.serializeU32AsUleb128(t.length),t))!function e(t,r){if(null==r){t.serializeU32AsUleb128(0);return}if(Array.isArray(r)){for(let n of(t.serializeU32AsUleb128(1),t.serializeU32AsUleb128(r.length),r))e(t,n);return}if("string"==typeof r||"number"==typeof r||"boolean"==typeof r||"bigint"==typeof r){t.serializeU32AsUleb128(2),t.serializeStr(r.toString());return}if(r instanceof Uint8Array){t.serializeU32AsUleb128(3),t.serializeBytes(r);return}if(r instanceof ArrayBuffer){t.serializeU32AsUleb128(3),t.serializeBytes(new Uint8Array(r));return}if("values"in r){for(let n of(t.serializeU32AsUleb128(1),t.serializeU32AsUleb128(r.values.length),r.values))e(t,n);return}if("data"in r){t.serializeU32AsUleb128(4),t.serialize(r);return}if(void 0===r.value){t.serializeU32AsUleb128(0),t.serialize(r);return}if(r.value instanceof Uint8Array){t.serializeU32AsUleb128(5),t.serializeBytes(r.value);return}t.serializeU32AsUleb128(2),t.serializeStr(r.value.toString())}(e,r)}function eg(e){let t=e.deserializeUleb128AsU32(),r=[];for(let n=0;n<t;n+=1){let t=function e(t){switch(t.deserializeUleb128AsU32()){case 0:return;case 1:{let r=t.deserializeUleb128AsU32(),n=[];for(let i=0;i<r;i+=1){let r=e(t);n.push(r)}return n}case 3:return t.deserializeBytes();case 4:return t.deserialize(w.l);case 2:return t.deserializeStr();case 5:{let e=t.deserializeBytes();return new w.t(e)}default:throw Error("Unexpected variant")}}(e);r.push(t)}return r}function ef(e,t){if("multisigAddress"in t){e.serializeU32AsUleb128(2),e.serializeStr(t.function),eh(e,t.functionArguments),eu(e,t.typeArguments??[]);let r=w.l.from(t.multisigAddress);e.serialize(r)}else if("function"in t)e.serializeU32AsUleb128(0),e.serializeStr(t.function),eh(e,t.functionArguments),eu(e,t.typeArguments??[]);else{e.serializeU32AsUleb128(1);let r=w.b.fromHexInput(t.bytecode);for(let n of(e.serializeBytes(r.toUint8Array()),e.serializeU32AsUleb128(t.functionArguments.length),t.functionArguments))n.serializeForScriptFunction(e);eu(e,t.typeArguments??[])}}function ep(e){switch(e.deserializeUleb128AsU32()){case 2:{let t=e.deserializeStr(),r=eg(e),n=ed(e);return{function:t,functionArguments:r,multisigAddress:e.deserialize(w.l),typeArguments:n}}case 0:return{function:e.deserializeStr(),functionArguments:eg(e),typeArguments:ed(e)};case 1:{let t=e.deserializeBytes(),r=e.deserializeUleb128AsU32(),n=[];for(let t=0;t<r;t+=1){let t=(0,w.M)(e);n.push(t)}return{bytecode:t,functionArguments:n,typeArguments:ed(e)}}default:throw Error("Unexpected variant")}}function ey({dappInfo:e,name:t,version:r}){let n=new w.n;return ea(n,e),{data:n.toUint8Array(),name:t,version:r}}function ew({data:e,name:t,version:r}){return{dappInfo:eo(new w.a(e)),name:t,version:r}}function em({args:e,dappInfo:t,name:r,version:n},i){let s=new w.n;return ea(s,t),i(s,e),{data:s.toUint8Array(),name:r,version:n}}function eA({data:e,name:t,version:r},n){let i=new w.a(e),s=eo(i);return{args:n(i),dappInfo:s,name:t,version:r}}function ez(e){return(t,r)=>{t.serializeBool("approved"===r.status),"approved"===r.status&&e(t,r.args)}}function eb(e){return t=>t.deserializeBool()?{args:e(t),status:"approved"}:{status:"dismissed"}}function ev(e,t){let r=new w.n;return t(r,e),{data:r.toUint8Array()}}function eU({data:e},t){return{args:t(new w.a(e))}}(e=>{function t(e,t){if(e.serializeOptionStr(t.dappId),e.serializeOptionStr(t.dappEd25519PublicKeyB64),e.serializeOptionStr(t.preferredWalletName),e.serializeBool(void 0!==t.claimOptions),t.claimOptions&&(e.serialize(t.claimOptions.secretKey),e.serializeStr(t.claimOptions.network),e.serializeOptionStr(t.claimOptions.asset),!X(t.claimOptions.network)))throw Error(`Unsupported network '${t.claimOptions.network}'`)}function r(e,t){let r;if(1===t)return{};let n=e.deserializeOption("string"),i=e.deserializeOption("string"),s=t>=3?e.deserializeOption("string"):void 0;if(t>=4&&e.deserializeBool()){let t=e.deserialize(w.z),n=e.deserializeStr(),i=e.deserializeOption("string");if(!X(n))throw Error(`Unsupported network '${n}'`);r={asset:i,network:n,secretKey:t}}return{claimOptions:r,dappEd25519PublicKeyB64:i,dappId:n,preferredWalletName:s}}e.name="connect",e.supportedVersions=[1,2,3,4],e.currentVersion=4,e.serializeArgs=t,e.deserializeArgs=r,e.serialize=function(r,n={}){return em({args:n,dappInfo:r,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return eA(e,t=>r(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(aS||(aS={})),(e=>{e.supportedVersions=[1,2],e.currentVersion=2;let t=ez(function(e,t){er(e,t.account)}),r=ez(function(e,t){er(e,t.account),e.serializeOptionStr(void 0!==t.pairing?JSON.stringify(t.pairing):void 0)}),n=eb(function(e){let t=en(e),r=e.deserializeOption("string");return{account:t,pairing:void 0!==r?JSON.parse(r):void 0}});e.serialize=function(n,i=e.currentVersion){return ev(n,1===i?t:r)},e.deserialize=function(e){return eU(e,n)}})(aI||(aI={})),(ap=aT||(aT={})).name="disconnect",ap.currentVersion=1,ap.serialize=function(e){return ey({dappInfo:e,name:ap.name,version:ap.currentVersion})},ap.deserialize=function(e){return ew(e)},ap.isSerialized=function(e){return e.name===ap.name&&e.version===ap.currentVersion},(ay=aN||(aN={})).serialize=function(e){return ev(e,()=>{})},ay.deserialize=function(e){return eU(e,()=>({}))},(e=>{function t(e,t){if(void 0!==t.network&&!X(t.network))throw Error(`Unsupported network '${t.network}' in SignInRequest.serializeArgs`);(function(e,t){e.serializeStr(JSON.stringify(t))})(e,t),e.serializeStr(t.network)}function r(e,t){return{...JSON.parse(e.deserializeStr()),network:e.deserializeStr()}}e.name="signIn",e.supportedVersions=[1,2],e.currentVersion=2,e.serializeArgs=t,e.deserializeArgs=r,e.serialize=function(r,n){return em({args:n,dappInfo:r,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return eA(e,t=>r(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(ax||(ax={})),(e=>{e.supportedVersions=[1,2],e.currentVersion=2;let t=ez(function(e,t){er(e,t.account),e.serializeStr(JSON.stringify(t.input)),e.serializeStr(t.plainText),el(e,t.signature),e.serializeBytes(t.signingMessage),e.serializeStr(t.type)}),r=ez(function(e,t){er(e,t.account),e.serializeStr(JSON.stringify(t.input)),el(e,t.signature),e.serializeStr(t.type)}),n=eb(function(e){return{account:new P(en(e)),input:JSON.parse(e.deserializeStr()),plainText:e.deserializeStr(),signature:ec(e),signingMessage:e.deserializeBytes(),type:e.deserializeStr()}}),i=eb(function(e){return{account:new P(en(e)),input:JSON.parse(e.deserializeStr()),signature:ec(e),type:e.deserializeStr()}});e.serialize=function(n,i=e.currentVersion){return ev(n,1===i?t:r)},e.deserialize=function(t,r=e.currentVersion){return eU(t,1===r?n:i)}})(ak||(ak={})),(aw=aD||(aD={})).name="getConnectedAccounts",aw.currentVersion=1,aw.serialize=function(e){return ey({dappInfo:e,name:aw.name,version:aw.currentVersion})},aw.deserialize=function(e){return ew(e)},aw.isSerialized=function(e){return e.name===aw.name&&e.version===aw.currentVersion},(e=>{function t(e,t){for(let r of(e.serializeU32AsUleb128(t.length),t))er(e,r)}function r(e){let t=e.deserializeUleb128AsU32(),r=[];for(let n=0;n<t;n+=1)r.push(en(e));return r}e.serialize=function(e){return ev(e,t)},e.deserialize=function(e){return eU(e,r)}})(aC||(aC={})),(am=aj||(aj={})).name="isConnected",am.currentVersion=1,am.serialize=function(e){return ey({dappInfo:e,name:am.name,version:am.currentVersion})},am.deserialize=function(e){return ew(e)},am.isSerialized=function(e){return e.name===am.name&&e.version===am.currentVersion},(e=>{function t(e,t){e.serializeBool(t)}function r(e){return e.deserializeBool()}e.serialize=function(e){return ev(e,t)},e.deserialize=function(e){return eU(e,r)}})(aB||(aB={})),(e=>{function t(e,t){var r;if(void 0!==t.network&&!X(t.network))throw Error(`Unsupported network '${t.network}'`);e.serializeBool(void 0!==t.signerAddress),void 0!==t.signerAddress&&e.serialize(t.signerAddress),e.serializeOptionStr(t.network),"bcsToBytes"in t.payload?(e.serializeBool(!0),e.serialize(t.payload)):(e.serializeBool(!1),ef(e,t.payload)),e.serializeU64(t.expirationTimestamp??0),e.serializeU32AsUleb128(t.gasUnitPrice??0),e.serializeU32AsUleb128(t.maxGasAmount??0),e.serializeU32AsUleb128(t.feePayer?1:0),t.feePayer&&(r=t.feePayer,e.serialize(r.address),e.serialize(r.authenticator))}function r(e,t){let r=t>=3&&e.deserializeBool()?e.deserialize(w.l):void 0,n=1===t?e.deserializeStr():e.deserializeOption("string");if(void 0!==n&&!X(n))throw Error(`Unsupported network '${n}'`);let i=1===t||e.deserializeBool()?e.deserialize(w.o):ep(e),s=Number(e.deserializeU64()),a=e.deserializeUleb128AsU32(),o=e.deserializeUleb128AsU32();return{expirationTimestamp:s>0?s:void 0,feePayer:e.deserializeUleb128AsU32()?{address:e.deserialize(w.l),authenticator:e.deserialize(w.V)}:void 0,gasUnitPrice:a>0?a:void 0,maxGasAmount:o>0?o:void 0,network:n,payload:i,signerAddress:r}}e.name="signAndSubmitTransaction",e.supportedVersions=[1,2,3],e.currentVersion=3,e.serializeArgs=t,e.deserializeArgs=r,e.serialize=function(r,n){return em({args:n,dappInfo:r,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return eA(e,t=>r(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(aO||(aO={})),(e=>{let t=ez(function(e,t){e.serializeStr(t.txnHash)}),r=eb(function(e){return{txnHash:e.deserializeStr()}});e.serialize=function(e){return ev(e,t)},e.deserialize=function(e){return eU(e,r)}})(aL||(aL={})),(e=>{function t(e,t){e.serializeBool(void 0!==t.signerAddress),void 0!==t.signerAddress&&e.serialize(t.signerAddress),e.serializeU8(t.chainId),e.serializeBytes(t.nonce),e.serializeBytes(t.message)}e.name="signMessage",e.supportedVersions=[1,2],e.currentVersion=2,e.serialize=function(r,n){return em({args:n,dappInfo:r,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return eA(e,t=>(function(e,t){let r=t>=2&&e.deserializeBool()?e.deserialize(w.l):void 0,n=e.deserializeU8(),i=e.deserializeBytes();return{chainId:n,message:e.deserializeBytes(),nonce:i,signerAddress:r}})(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&t.version===e.currentVersion}})(aP||(aP={})),(e=>{let t=ez(function(e,t){e.serializeStr(t.fullMessage),el(e,t.signature)}),r=eb(function(e){return{fullMessage:e.deserializeStr(),signature:ec(e)}});e.serialize=function(e){return ev(e,t)},e.deserialize=function(e){return eU(e,r)}})(aK||(aK={})),(e=>{function t(e,t){if(void 0!==t.network&&!X(t.network))throw Error(`Unsupported network '${t.network}'`);e.serializeBool(void 0!==t.signerAddress),void 0!==t.signerAddress&&e.serialize(t.signerAddress),e.serializeOptionStr(t.network),e.serializeBool(void 0!==t.sender),void 0!==t.sender&&ei(e,t.sender),"bcsToBytes"in t.payload?(e.serializeBool(!0),e.serialize(t.payload)):(e.serializeBool(!1),ef(e,t.payload)),e.serializeU32AsUleb128(t.expirationSecondsFromNow??0),e.serializeU64(t.expirationTimestamp??0),e.serializeU32AsUleb128(t.gasUnitPrice??0),e.serializeU32AsUleb128(t.maxGasAmount??0),e.serializeBool(void 0!==t.feePayer),void 0!==t.feePayer&&ei(e,t.feePayer);let r=t.secondarySigners??[];for(let t of(e.serializeU32AsUleb128(r.length),r))ei(e,t)}e.name="signTransaction",e.supportedVersions=[1,2,3,4],e.currentVersion=4,e.normalizeArgs=function(e){let{feePayer:t,secondarySigners:r,senderPublicKey:n,signerAddress:i,transaction:s}=e,a={address:s.sender,publicKey:n},o=function(e){switch(e){case w.r.mainnet:return w.e.MAINNET;case w.r.testnet:return w.e.TESTNET;default:return w.e.DEVNET}}(e.transaction.chain_id.chainId);return{expirationTimestamp:Number(s.expiration_timestamp_secs),feePayer:t,gasUnitPrice:Number(s.gas_unit_price),maxGasAmount:Number(s.max_gas_amount),network:o,payload:s.payload,secondarySigners:r,sender:a,signerAddress:i}},e.serialize=function(r,n){return em({args:n,dappInfo:r,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return eA(e,t=>(function(e,t){let r=t>=3&&e.deserializeBool()?e.deserialize(w.l):void 0,n=1===t?e.deserializeStr():e.deserializeOption("string");if(void 0!==n&&!X(n))throw Error(`Unsupported network '${n}'`);let i=e.deserializeBool()?es(e):void 0,s=t<4||e.deserializeBool()?e.deserialize(w.o):ep(e),a=e.deserializeUleb128AsU32(),o=Number(e.deserializeU64()),l=e.deserializeUleb128AsU32(),c=e.deserializeUleb128AsU32(),u=e.deserializeBool()?es(e):void 0,d=e.deserializeUleb128AsU32(),h=[];for(let t=0;t<d;t+=1)h.push(es(e));return{expirationSecondsFromNow:a>0?a:void 0,expirationTimestamp:o>0?o:void 0,feePayer:u,gasUnitPrice:l>0?l:void 0,maxGasAmount:c>0?c:void 0,network:n,payload:s,secondarySigners:h,sender:i,signerAddress:r}})(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(aR||(aR={})),(e=>{let t=ez(function(e,t){e.serialize(t.authenticator),e.serializeBool(void 0!==t.rawTransaction),void 0!==t.rawTransaction&&e.serialize(t.rawTransaction)}),r=eb(function(e){return{authenticator:e.deserialize(w.V),rawTransaction:e.deserializeBool()?e.deserialize(w.p):void 0}});e.serialize=function(e){return ev(e,t)},e.deserialize=function(e){return eU(e,r)}})(aW||(aW={}));var e_=class extends Error{},eE=class e extends e_{constructor(t,r){super(t),this.field=r,this.name="EnvelopeMessageMismatchError",Object.setPrototypeOf(this,e.prototype)}},eM=class e extends e_{constructor(t){super(t),this.name="DecryptionError",Object.setPrototypeOf(this,e.prototype)}},eS=((a=eS||{}).Ed25519PublicKey="Ed25519PublicKey",a.Ed25519SecretKey="Ed25519SecretKey",a.X25519PublicKey="X25519PublicKey",a.X25519SecretKey="X25519SecretKey",a);function eI(e,t){return{key:e,type:t}}function eT(e){return globalThis.Buffer?new Uint8Array(m.C.from(e,"base64")):Uint8Array.from(atob(e),e=>e.codePointAt(0))}function eN(e){return globalThis.Buffer?m.C.from(e).toString("base64"):btoa(Array.from(e,e=>String.fromCodePoint(e)).join(""))}function ex(e,t){let r=new Uint8Array((0,m.cc)(`APTOS::IDENTITY_CONNECT::${t}::`));return new Uint8Array((0,m.cc)(function(e,t){let r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r}(r,e)))}var ek=["receiverEd25519PublicKeyB64","senderEd25519PublicKeyB64","senderX25519PublicKeyB64","sequence","timestampMillis"].sort();function eD(e,t){let r=Object.keys(e).filter(e=>Object.keys(t).includes(e));if(r.length>0){let e=r[0];throw new eE(`Field ${e} appears in both private and public message fields`,e)}}function eC(e){let t=Object.keys(e).sort(),r=t.filter(e=>!ek.includes(e)),n=ek.filter(e=>!t.includes(e));if(r.length>0||n.length>0){let e=r.length>0?`extra(${r.join(", ")})`:"",t=n.length>0?`missing(${n.join(", ")})`:"";throw e=e.length>0&&t.length>0?`${e}, `:e,new eE(`PublicMessage metadata fields do not conform to spec: ${e}${t}`,"_metadata")}}function ej(e,t,r,n,i,s){var a,o;let l={publicKey:eI((a=z.aw.box.keyPair()).publicKey,"X25519PublicKey"),secretKey:eI(a.secretKey,"X25519SecretKey")},c=(o=l.publicKey,{receiverEd25519PublicKeyB64:eN(r.key),senderEd25519PublicKeyB64:eN(t.key),senderX25519PublicKeyB64:eN(o.key),sequence:n,timestampMillis:Date.now()});return eC(c),eD(s,i),function(e,t,r,n,i,s){var a;let o={nonceB64:eN((a=function(e,t,r){let n=z.aw.randomBytes(z.aw.box.nonceLength),i=new TextEncoder().encode(r),s=z.aw.box(i,n,t.key,e.key.slice(0,32));return{nonce:n,secured:s}}(s.secretKey,function(e,t){let r=Z.convertPublicKey(e.key.slice(0,32));if(!r)throw Error(`${t} is not a valid Ed25519 public key`);return eI(r,"X25519PublicKey")}(t,"receiver public key"),JSON.stringify(n))).nonce),securedB64:eN(a.secured)},l=eT(o.securedB64),c=JSON.stringify({...i,_metadata:r});return{encryptedPrivateMessage:o,messageSignature:function(e,t,r){var n,i;let s=(n=eB(e,t),i="SECURED_ENVELOPE",z.aw.sign.detached(ex(n,i),r.key));return w.b.fromHexInput(s).toString()}(new TextEncoder().encode(c),l,e),serializedPublicMessage:c}}(e,r,c,s,i,l)}function eB(e,t){let r=(0,m.cc)(e),n=(0,m.cc)(t),i=new Uint8Array(r.length+n.length);return i.set(r),i.set(n,r.length),(0,m.cc)(i)}function eO(e){let t=function(e){let t=atob(e);return Uint8Array.from(t,e=>e.charCodeAt(0))}(e);return et(new w.a(t))}function eL(e){switch(e){case w.r.mainnet:return w.e.MAINNET;case w.r.testnet:return w.e.TESTNET;default:return w.e.DEVNET}}function eP(e){return[w.e.MAINNET,w.e.TESTNET,w.e.DEVNET].includes(e)}function eK(e,t){if(t instanceof w.f)e.serializeU32AsUleb128(w.E.Ed25519);else if(t instanceof w.F)e.serializeU32AsUleb128(w.E.MultiEd25519);else if(t instanceof w.k)e.serializeU32AsUleb128(w.E.SingleKey);else if(t instanceof w.S)e.serializeU32AsUleb128(w.E.MultiKey);else throw Error("Unexpected public key type");e.serialize(t)}function eR(e){let t=e.deserializeUleb128AsU32();switch(t){case w.E.Ed25519:return e.deserialize(w.f);case w.E.MultiEd25519:return e.deserialize(w.F);case w.E.SingleKey:return e.deserialize(w.k);case w.E.MultiKey:return e.deserialize(w.S);default:throw Error(`Unknown signing scheme: ${t}`)}}function eW(e,t){e.serialize(t.address),eK(e,t.publicKey),e.serializeStr(t.name??"")}function eH(e){let t=e.deserialize(w.l),r=eR(e),n=e.deserializeStr();return{address:t,publicKey:r,...n.length>0?{name:n}:void 0}}function eV(e,t){e.serialize(t.address),e.serializeBool(void 0!==t.publicKey),t.publicKey&&eK(e,t.publicKey)}function eF(e){return{address:e.deserialize(w.l),publicKey:e.deserializeBool()?eR(e):void 0}}function eQ(e,t){e.serializeStr(t.domain),e.serializeStr(t.name),e.serializeBool(void 0!==t.imageURI),void 0!==t.imageURI&&e.serializeStr(t.imageURI)}function eG(e){let t=e.deserializeStr(),r=e.deserializeStr();return{domain:t,imageURI:e.deserializeBool()?e.deserializeStr():void 0,name:r}}function eq(e,t){if(t instanceof w.h)e.serializeU32AsUleb128(w.E.Ed25519);else if(t instanceof w._)e.serializeU32AsUleb128(w.E.MultiEd25519);else if(t instanceof w.O)e.serializeU32AsUleb128(w.E.SingleKey);else throw Error("Unexpected signature type");e.serialize(t)}function eY(e){let t=e.deserializeUleb128AsU32();switch(t){case w.E.Ed25519:return e.deserialize(w.h);case w.E.MultiEd25519:return e.deserialize(w._);case w.E.SingleKey:return e.deserialize(w.O);default:throw Error(`Unknown signing scheme: ${t}`)}}function e$(e,t){for(let r of(e.serializeU32AsUleb128(t.length),t)){let t="string"==typeof r?(0,w.A)(r,{allowGenerics:!0}):r;e.serialize(t)}}function eJ(e){let t=[],r=e.deserializeUleb128AsU32();for(let n=0;n<r;n+=1){let r=e.deserialize(w.U);t.push(r)}return t}function eZ(e,t){for(let r of(e.serializeU32AsUleb128(t.length),t))!function e(t,r){if(null==r){t.serializeU32AsUleb128(0);return}if(Array.isArray(r)){for(let n of(t.serializeU32AsUleb128(1),t.serializeU32AsUleb128(r.length),r))e(t,n);return}if("string"==typeof r||"number"==typeof r||"boolean"==typeof r||"bigint"==typeof r){t.serializeU32AsUleb128(2),t.serializeStr(r.toString());return}if(r instanceof Uint8Array){t.serializeU32AsUleb128(3),t.serializeBytes(r);return}if(r instanceof ArrayBuffer){t.serializeU32AsUleb128(3),t.serializeBytes(new Uint8Array(r));return}if("values"in r){for(let n of(t.serializeU32AsUleb128(1),t.serializeU32AsUleb128(r.values.length),r.values))e(t,n);return}if("data"in r){t.serializeU32AsUleb128(4),t.serialize(r);return}if(void 0===r.value){t.serializeU32AsUleb128(0),t.serialize(r);return}if(r.value instanceof Uint8Array){t.serializeU32AsUleb128(5),t.serializeBytes(r.value);return}t.serializeU32AsUleb128(2),t.serializeStr(r.value.toString())}(e,r)}function eX(e){let t=e.deserializeUleb128AsU32(),r=[];for(let n=0;n<t;n+=1){let t=function e(t){switch(t.deserializeUleb128AsU32()){case 0:return;case 1:{let r=t.deserializeUleb128AsU32(),n=[];for(let i=0;i<r;i+=1){let r=e(t);n.push(r)}return n}case 3:return t.deserializeBytes();case 4:return t.deserialize(w.l);case 2:return t.deserializeStr();case 5:{let e=t.deserializeBytes();return new w.t(e)}default:throw Error("Unexpected variant")}}(e);r.push(t)}return r}function e0(e,t){if("multisigAddress"in t){e.serializeU32AsUleb128(2),e.serializeStr(t.function),eZ(e,t.functionArguments),e$(e,t.typeArguments??[]);let r=w.l.from(t.multisigAddress);e.serialize(r)}else if("function"in t)e.serializeU32AsUleb128(0),e.serializeStr(t.function),eZ(e,t.functionArguments),e$(e,t.typeArguments??[]);else{e.serializeU32AsUleb128(1);let r=w.b.fromHexInput(t.bytecode);for(let n of(e.serializeBytes(r.toUint8Array()),e.serializeU32AsUleb128(t.functionArguments.length),t.functionArguments))n.serializeForScriptFunction(e);e$(e,t.typeArguments??[])}}function e2(e){switch(e.deserializeUleb128AsU32()){case 2:{let t=e.deserializeStr(),r=eX(e),n=eJ(e);return{function:t,functionArguments:r,multisigAddress:e.deserialize(w.l),typeArguments:n}}case 0:return{function:e.deserializeStr(),functionArguments:eX(e),typeArguments:eJ(e)};case 1:{let t=e.deserializeBytes(),r=e.deserializeUleb128AsU32(),n=[];for(let t=0;t<r;t+=1){let t=(0,w.M)(e);n.push(t)}return{bytecode:t,functionArguments:n,typeArguments:eJ(e)}}default:throw Error("Unexpected variant")}}function e1({dappInfo:e,name:t,version:r}){let n=new w.n;return eQ(n,e),{data:n.toUint8Array(),name:t,version:r}}function e4({data:e,name:t,version:r}){return{dappInfo:eG(new w.a(e)),name:t,version:r}}function e3({args:e,dappInfo:t,name:r,version:n},i){let s=new w.n;return eQ(s,t),i(s,e),{data:s.toUint8Array(),name:r,version:n}}function e8({data:e,name:t,version:r},n){let i=new w.a(e),s=eG(i);return{args:n(i),dappInfo:s,name:t,version:r}}function e5(e){return{args:e,status:"approved"}}function e6(e){return(t,r)=>{t.serializeBool("approved"===r.status),"approved"===r.status&&e(t,r.args)}}function e9(e){return t=>t.deserializeBool()?{args:e(t),status:"approved"}:{status:"dismissed"}}function e7(e,t){let r=new w.n;return t(r,e),{data:r.toUint8Array()}}function te({data:e},t){return{args:t(new w.a(e))}}function tt(e){let t=atob(e);return Uint8Array.from(t,e=>e.charCodeAt(0))}function tr(e){return btoa(String.fromCharCode(...e))}function tn(e){return tr(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function ti(e){return[w.e.MAINNET,w.e.TESTNET,w.e.DEVNET].includes(e)}function ts(e,t){if(t instanceof w.f)e.serializeU32AsUleb128(w.E.Ed25519);else if(t instanceof w.F)e.serializeU32AsUleb128(w.E.MultiEd25519);else if(t instanceof w.k)e.serializeU32AsUleb128(w.E.SingleKey);else if(t instanceof w.S)e.serializeU32AsUleb128(w.E.MultiKey);else throw Error("Unexpected public key type");e.serialize(t)}function ta(e){let t=e.deserializeUleb128AsU32();switch(t){case w.E.Ed25519:return e.deserialize(w.f);case w.E.MultiEd25519:return e.deserialize(w.F);case w.E.SingleKey:return e.deserialize(w.k);case w.E.MultiKey:return e.deserialize(w.S);default:throw Error(`Unknown signing scheme: ${t}`)}}function to(e,t){e.serialize(t.address),ts(e,t.publicKey),e.serializeStr(t.name??"")}function tl(e){let t=e.deserialize(w.l),r=ta(e),n=e.deserializeStr();return{address:t,publicKey:r,...n.length>0?{name:n}:void 0}}function tc(e,t){e.serialize(t.address),e.serializeBool(void 0!==t.publicKey),t.publicKey&&ts(e,t.publicKey)}function tu(e){return{address:e.deserialize(w.l),publicKey:e.deserializeBool()?ta(e):void 0}}function td(e,t){e.serializeStr(t.domain),e.serializeStr(t.name),e.serializeBool(void 0!==t.imageURI),void 0!==t.imageURI&&e.serializeStr(t.imageURI)}function th(e){let t=e.deserializeStr(),r=e.deserializeStr();return{domain:t,imageURI:e.deserializeBool()?e.deserializeStr():void 0,name:r}}function tg(e,t){if(t instanceof w.h)e.serializeU32AsUleb128(w.E.Ed25519);else if(t instanceof w._)e.serializeU32AsUleb128(w.E.MultiEd25519);else if(t instanceof w.O)e.serializeU32AsUleb128(w.E.SingleKey);else throw Error("Unexpected signature type");e.serialize(t)}function tf(e){let t=e.deserializeUleb128AsU32();switch(t){case w.E.Ed25519:return e.deserialize(w.h);case w.E.MultiEd25519:return e.deserialize(w._);case w.E.SingleKey:return e.deserialize(w.O);default:throw Error(`Unknown signing scheme: ${t}`)}}function tp(e,t){for(let r of(e.serializeU32AsUleb128(t.length),t)){let t="string"==typeof r?(0,w.A)(r,{allowGenerics:!0}):r;e.serialize(t)}}function ty(e){let t=[],r=e.deserializeUleb128AsU32();for(let n=0;n<r;n+=1){let r=e.deserialize(w.U);t.push(r)}return t}function tw(e,t){for(let r of(e.serializeU32AsUleb128(t.length),t))!function e(t,r){if(null==r){t.serializeU32AsUleb128(0);return}if(Array.isArray(r)){for(let n of(t.serializeU32AsUleb128(1),t.serializeU32AsUleb128(r.length),r))e(t,n);return}if("string"==typeof r||"number"==typeof r||"boolean"==typeof r||"bigint"==typeof r){t.serializeU32AsUleb128(2),t.serializeStr(r.toString());return}if(r instanceof Uint8Array){t.serializeU32AsUleb128(3),t.serializeBytes(r);return}if(r instanceof ArrayBuffer){t.serializeU32AsUleb128(3),t.serializeBytes(new Uint8Array(r));return}if("values"in r){for(let n of(t.serializeU32AsUleb128(1),t.serializeU32AsUleb128(r.values.length),r.values))e(t,n);return}if("data"in r){t.serializeU32AsUleb128(4),t.serialize(r);return}if(void 0===r.value){t.serializeU32AsUleb128(0),t.serialize(r);return}if(r.value instanceof Uint8Array){t.serializeU32AsUleb128(5),t.serializeBytes(r.value);return}t.serializeU32AsUleb128(2),t.serializeStr(r.value.toString())}(e,r)}function tm(e){let t=e.deserializeUleb128AsU32(),r=[];for(let n=0;n<t;n+=1){let t=function e(t){switch(t.deserializeUleb128AsU32()){case 0:return;case 1:{let r=t.deserializeUleb128AsU32(),n=[];for(let i=0;i<r;i+=1){let r=e(t);n.push(r)}return n}case 3:return t.deserializeBytes();case 4:return t.deserialize(w.l);case 2:return t.deserializeStr();case 5:{let e=t.deserializeBytes();return new w.t(e)}default:throw Error("Unexpected variant")}}(e);r.push(t)}return r}function tA(e,t){if("multisigAddress"in t){e.serializeU32AsUleb128(2),e.serializeStr(t.function),tw(e,t.functionArguments),tp(e,t.typeArguments??[]);let r=w.l.from(t.multisigAddress);e.serialize(r)}else if("function"in t)e.serializeU32AsUleb128(0),e.serializeStr(t.function),tw(e,t.functionArguments),tp(e,t.typeArguments??[]);else{e.serializeU32AsUleb128(1);let r=w.b.fromHexInput(t.bytecode);for(let n of(e.serializeBytes(r.toUint8Array()),e.serializeU32AsUleb128(t.functionArguments.length),t.functionArguments))n.serializeForScriptFunction(e);tp(e,t.typeArguments??[])}}function tz(e){switch(e.deserializeUleb128AsU32()){case 2:{let t=e.deserializeStr(),r=tm(e),n=ty(e);return{function:t,functionArguments:r,multisigAddress:e.deserialize(w.l),typeArguments:n}}case 0:return{function:e.deserializeStr(),functionArguments:tm(e),typeArguments:ty(e)};case 1:{let t=e.deserializeBytes(),r=e.deserializeUleb128AsU32(),n=[];for(let t=0;t<r;t+=1){let t=(0,w.M)(e);n.push(t)}return{bytecode:t,functionArguments:n,typeArguments:ty(e)}}default:throw Error("Unexpected variant")}}function tb({dappInfo:e,name:t,version:r}){let n=new w.n;return td(n,e),{data:n.toUint8Array(),name:t,version:r}}function tv({data:e,name:t,version:r}){return{dappInfo:th(new w.a(e)),name:t,version:r}}function tU({args:e,dappInfo:t,name:r,version:n},i){let s=new w.n;return td(s,t),i(s,e),{data:s.toUint8Array(),name:r,version:n}}function t_({data:e,name:t,version:r},n){let i=new w.a(e),s=th(i);return{args:n(i),dappInfo:s,name:t,version:r}}function tE(e){return(t,r)=>{t.serializeBool("approved"===r.status),"approved"===r.status&&e(t,r.args)}}function tM(e){return t=>t.deserializeBool()?{args:e(t),status:"approved"}:{status:"dismissed"}}function tS(e,t){let r=new w.n;return t(r,e),{data:r.toUint8Array()}}function tI({data:e},t){return{args:t(new w.a(e))}}function tT(e,t){return t?.__messageType===e.TYPE}(e=>{function t(e,t){if(e.serializeOptionStr(t.dappId),e.serializeOptionStr(t.dappEd25519PublicKeyB64),e.serializeOptionStr(t.preferredWalletName),e.serializeBool(void 0!==t.claimOptions),t.claimOptions&&(e.serialize(t.claimOptions.secretKey),e.serializeStr(t.claimOptions.network),e.serializeOptionStr(t.claimOptions.asset),!eP(t.claimOptions.network)))throw Error(`Unsupported network '${t.claimOptions.network}'`)}function r(e,t){let r;if(1===t)return{};let n=e.deserializeOption("string"),i=e.deserializeOption("string"),s=t>=3?e.deserializeOption("string"):void 0;if(t>=4&&e.deserializeBool()){let t=e.deserialize(w.z),n=e.deserializeStr(),i=e.deserializeOption("string");if(!eP(n))throw Error(`Unsupported network '${n}'`);r={asset:i,network:n,secretKey:t}}return{claimOptions:r,dappEd25519PublicKeyB64:i,dappId:n,preferredWalletName:s}}e.name="connect",e.supportedVersions=[1,2,3,4],e.currentVersion=4,e.serializeArgs=t,e.deserializeArgs=r,e.serialize=function(r,n={}){return e3({args:n,dappInfo:r,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return e8(e,t=>r(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(aH||(aH={})),(e=>{e.supportedVersions=[1,2],e.currentVersion=2;let t=e6(function(e,t){eW(e,t.account)}),r=e6(function(e,t){eW(e,t.account),e.serializeOptionStr(void 0!==t.pairing?JSON.stringify(t.pairing):void 0)}),n=e9(function(e){let t=eH(e),r=e.deserializeOption("string");return{account:t,pairing:void 0!==r?JSON.parse(r):void 0}});e.serialize=function(n,i=e.currentVersion){return e7(n,1===i?t:r)},e.deserialize=function(e){return te(e,n)}})(aV||(aV={})),(aA=aF||(aF={})).name="disconnect",aA.currentVersion=1,aA.serialize=function(e){return e1({dappInfo:e,name:aA.name,version:aA.currentVersion})},aA.deserialize=function(e){return e4(e)},aA.isSerialized=function(e){return e.name===aA.name&&e.version===aA.currentVersion},(az=aQ||(aQ={})).serialize=function(e){return e7(e,()=>{})},az.deserialize=function(e){return te(e,()=>({}))},(e=>{function t(e,t){if(void 0!==t.network&&!eP(t.network))throw Error(`Unsupported network '${t.network}' in SignInRequest.serializeArgs`);(function(e,t){e.serializeStr(JSON.stringify(t))})(e,t),e.serializeStr(t.network)}function r(e,t){return{...JSON.parse(e.deserializeStr()),network:e.deserializeStr()}}e.name="signIn",e.supportedVersions=[1],e.currentVersion=1,e.serializeArgs=t,e.deserializeArgs=r,e.serialize=function(r,n){return e3({args:n,dappInfo:r,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return e8(e,t=>r(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(aG||(aG={})),(e=>{e.supportedVersions=[1],e.currentVersion=1;let t=e6(function(e,t){eW(e,t.account),e.serializeStr(JSON.stringify(t.input)),e.serializeStr(t.plainText),eq(e,t.signature),e.serializeBytes(t.signingMessage),e.serializeStr(t.type)}),r=e9(function(e){return{account:new P(eH(e)),input:JSON.parse(e.deserializeStr()),plainText:e.deserializeStr(),signature:eY(e),signingMessage:e.deserializeBytes(),type:e.deserializeStr()}});e.serialize=function(r,n=e.currentVersion){return e7(r,t)},e.deserialize=function(e){return te(e,r)}})(aq||(aq={})),(ab=aY||(aY={})).name="getConnectedAccounts",ab.currentVersion=1,ab.serialize=function(e){return e1({dappInfo:e,name:ab.name,version:ab.currentVersion})},ab.deserialize=function(e){return e4(e)},ab.isSerialized=function(e){return e.name===ab.name&&e.version===ab.currentVersion},(e=>{function t(e,t){for(let r of(e.serializeU32AsUleb128(t.length),t))eW(e,r)}function r(e){let t=e.deserializeUleb128AsU32(),r=[];for(let n=0;n<t;n+=1)r.push(eH(e));return r}e.serialize=function(e){return e7(e,t)},e.deserialize=function(e){return te(e,r)}})(a$||(a$={})),(av=aJ||(aJ={})).name="isConnected",av.currentVersion=1,av.serialize=function(e){return e1({dappInfo:e,name:av.name,version:av.currentVersion})},av.deserialize=function(e){return e4(e)},av.isSerialized=function(e){return e.name===av.name&&e.version===av.currentVersion},(e=>{function t(e,t){e.serializeBool(t)}function r(e){return e.deserializeBool()}e.serialize=function(e){return e7(e,t)},e.deserialize=function(e){return te(e,r)}})(aZ||(aZ={})),(e=>{function t(e,t){var r;if(void 0!==t.network&&!eP(t.network))throw Error(`Unsupported network '${t.network}'`);e.serializeBool(void 0!==t.signerAddress),void 0!==t.signerAddress&&e.serialize(t.signerAddress),e.serializeOptionStr(t.network),"bcsToBytes"in t.payload?(e.serializeBool(!0),e.serialize(t.payload)):(e.serializeBool(!1),e0(e,t.payload)),e.serializeU64(t.expirationTimestamp??0),e.serializeU32AsUleb128(t.gasUnitPrice??0),e.serializeU32AsUleb128(t.maxGasAmount??0),e.serializeU32AsUleb128(t.feePayer?1:0),t.feePayer&&(r=t.feePayer,e.serialize(r.address),e.serialize(r.authenticator))}function r(e,t){let r=t>=3&&e.deserializeBool()?e.deserialize(w.l):void 0,n=1===t?e.deserializeStr():e.deserializeOption("string");if(void 0!==n&&!eP(n))throw Error(`Unsupported network '${n}'`);let i=1===t||e.deserializeBool()?e.deserialize(w.o):e2(e),s=Number(e.deserializeU64()),a=e.deserializeUleb128AsU32(),o=e.deserializeUleb128AsU32();return{expirationTimestamp:s>0?s:void 0,feePayer:e.deserializeUleb128AsU32()?{address:e.deserialize(w.l),authenticator:e.deserialize(w.V)}:void 0,gasUnitPrice:a>0?a:void 0,maxGasAmount:o>0?o:void 0,network:n,payload:i,signerAddress:r}}e.name="signAndSubmitTransaction",e.supportedVersions=[1,2,3],e.currentVersion=3,e.serializeArgs=t,e.deserializeArgs=r,e.serialize=function(r,n){return e3({args:n,dappInfo:r,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return e8(e,t=>r(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(aX||(aX={})),(e=>{let t=e6(function(e,t){e.serializeStr(t.txnHash)}),r=e9(function(e){return{txnHash:e.deserializeStr()}});e.serialize=function(e){return e7(e,t)},e.deserialize=function(e){return te(e,r)}})(a0||(a0={})),(e=>{function t(e,t){e.serializeBool(void 0!==t.signerAddress),void 0!==t.signerAddress&&e.serialize(t.signerAddress),e.serializeU8(t.chainId),e.serializeBytes(t.nonce),e.serializeBytes(t.message)}e.name="signMessage",e.supportedVersions=[1,2],e.currentVersion=2,e.serialize=function(r,n){return e3({args:n,dappInfo:r,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return e8(e,t=>(function(e,t){let r=t>=2&&e.deserializeBool()?e.deserialize(w.l):void 0,n=e.deserializeU8(),i=e.deserializeBytes();return{chainId:n,message:e.deserializeBytes(),nonce:i,signerAddress:r}})(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&t.version===e.currentVersion}})(a2||(a2={})),(e=>{let t=e6(function(e,t){e.serializeStr(t.fullMessage),eq(e,t.signature)}),r=e9(function(e){return{fullMessage:e.deserializeStr(),signature:eY(e)}});e.serialize=function(e){return e7(e,t)},e.deserialize=function(e){return te(e,r)}})(a1||(a1={})),(e=>{function t(e,t){if(void 0!==t.network&&!eP(t.network))throw Error(`Unsupported network '${t.network}'`);e.serializeBool(void 0!==t.signerAddress),void 0!==t.signerAddress&&e.serialize(t.signerAddress),e.serializeOptionStr(t.network),e.serializeBool(void 0!==t.sender),void 0!==t.sender&&eV(e,t.sender),"bcsToBytes"in t.payload?(e.serializeBool(!0),e.serialize(t.payload)):(e.serializeBool(!1),e0(e,t.payload)),e.serializeU32AsUleb128(t.expirationSecondsFromNow??0),e.serializeU64(t.expirationTimestamp??0),e.serializeU32AsUleb128(t.gasUnitPrice??0),e.serializeU32AsUleb128(t.maxGasAmount??0),e.serializeBool(void 0!==t.feePayer),void 0!==t.feePayer&&eV(e,t.feePayer);let r=t.secondarySigners??[];for(let t of(e.serializeU32AsUleb128(r.length),r))eV(e,t)}e.name="signTransaction",e.supportedVersions=[1,2,3,4],e.currentVersion=4,e.normalizeArgs=function(e){let{feePayer:t,secondarySigners:r,senderPublicKey:n,signerAddress:i,transaction:s}=e,a={address:s.sender,publicKey:n},o=eL(e.transaction.chain_id.chainId);return{expirationTimestamp:Number(s.expiration_timestamp_secs),feePayer:t,gasUnitPrice:Number(s.gas_unit_price),maxGasAmount:Number(s.max_gas_amount),network:o,payload:s.payload,secondarySigners:r,sender:a,signerAddress:i}},e.serialize=function(r,n){return e3({args:n,dappInfo:r,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return e8(e,t=>(function(e,t){let r=t>=3&&e.deserializeBool()?e.deserialize(w.l):void 0,n=1===t?e.deserializeStr():e.deserializeOption("string");if(void 0!==n&&!eP(n))throw Error(`Unsupported network '${n}'`);let i=e.deserializeBool()?eF(e):void 0,s=t<4||e.deserializeBool()?e.deserialize(w.o):e2(e),a=e.deserializeUleb128AsU32(),o=Number(e.deserializeU64()),l=e.deserializeUleb128AsU32(),c=e.deserializeUleb128AsU32(),u=e.deserializeBool()?eF(e):void 0,d=e.deserializeUleb128AsU32(),h=[];for(let t=0;t<d;t+=1)h.push(eF(e));return{expirationSecondsFromNow:a>0?a:void 0,expirationTimestamp:o>0?o:void 0,feePayer:u,gasUnitPrice:l>0?l:void 0,maxGasAmount:c>0?c:void 0,network:n,payload:s,secondarySigners:h,sender:i,signerAddress:r}})(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(a4||(a4={})),(e=>{let t=e6(function(e,t){e.serialize(t.authenticator),e.serializeBool(void 0!==t.rawTransaction),void 0!==t.rawTransaction&&e.serialize(t.rawTransaction)}),r=e9(function(e){return{authenticator:e.deserialize(w.V),rawTransaction:e.deserializeBool()?e.deserialize(w.p):void 0}});e.serialize=function(e){return e7(e,t)},e.deserialize=function(e){return te(e,r)}})(a3||(a3={})),(e=>{function t(e,t){if(e.serializeOptionStr(t.dappId),e.serializeOptionStr(t.dappEd25519PublicKeyB64),e.serializeOptionStr(t.preferredWalletName),e.serializeBool(void 0!==t.claimOptions),t.claimOptions&&(e.serialize(t.claimOptions.secretKey),e.serializeStr(t.claimOptions.network),e.serializeOptionStr(t.claimOptions.asset),!ti(t.claimOptions.network)))throw Error(`Unsupported network '${t.claimOptions.network}'`)}function r(e,t){let r;if(1===t)return{};let n=e.deserializeOption("string"),i=e.deserializeOption("string"),s=t>=3?e.deserializeOption("string"):void 0;if(t>=4&&e.deserializeBool()){let t=e.deserialize(w.z),n=e.deserializeStr(),i=e.deserializeOption("string");if(!ti(n))throw Error(`Unsupported network '${n}'`);r={asset:i,network:n,secretKey:t}}return{claimOptions:r,dappEd25519PublicKeyB64:i,dappId:n,preferredWalletName:s}}e.name="connect",e.supportedVersions=[1,2,3,4],e.currentVersion=4,e.serializeArgs=t,e.deserializeArgs=r,e.serialize=function(r,n={}){return tU({args:n,dappInfo:r,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return t_(e,t=>r(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(a8||(a8={})),(e=>{e.supportedVersions=[1,2],e.currentVersion=2;let t=tE(function(e,t){to(e,t.account)}),r=tE(function(e,t){to(e,t.account),e.serializeOptionStr(void 0!==t.pairing?JSON.stringify(t.pairing):void 0)}),n=tM(function(e){let t=tl(e),r=e.deserializeOption("string");return{account:t,pairing:void 0!==r?JSON.parse(r):void 0}});e.serialize=function(n,i=e.currentVersion){return tS(n,1===i?t:r)},e.deserialize=function(e){return tI(e,n)}})(a5||(a5={})),(aU=a6||(a6={})).name="disconnect",aU.currentVersion=1,aU.serialize=function(e){return tb({dappInfo:e,name:aU.name,version:aU.currentVersion})},aU.deserialize=function(e){return tv(e)},aU.isSerialized=function(e){return e.name===aU.name&&e.version===aU.currentVersion},(a_=a9||(a9={})).serialize=function(e){return tS(e,()=>{})},a_.deserialize=function(e){return tI(e,()=>({}))},(e=>{function t(e,t){if(void 0!==t.network&&!ti(t.network))throw Error(`Unsupported network '${t.network}' in SignInRequest.serializeArgs`);(function(e,t){e.serializeStr(JSON.stringify(t))})(e,t),e.serializeStr(t.network)}function r(e,t){return{...JSON.parse(e.deserializeStr()),network:e.deserializeStr()}}e.name="signIn",e.supportedVersions=[1],e.currentVersion=1,e.serializeArgs=t,e.deserializeArgs=r,e.serialize=function(r,n){return tU({args:n,dappInfo:r,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return t_(e,t=>r(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(a7||(a7={})),(e=>{e.supportedVersions=[1],e.currentVersion=1;let t=tE(function(e,t){to(e,t.account),e.serializeStr(JSON.stringify(t.input)),e.serializeStr(t.plainText),tg(e,t.signature),e.serializeBytes(t.signingMessage),e.serializeStr(t.type)}),r=tM(function(e){return{account:new P(tl(e)),input:JSON.parse(e.deserializeStr()),plainText:e.deserializeStr(),signature:tf(e),signingMessage:e.deserializeBytes(),type:e.deserializeStr()}});e.serialize=function(r,n=e.currentVersion){return tS(r,t)},e.deserialize=function(e){return tI(e,r)}})(oe||(oe={})),(aE=ot||(ot={})).name="getConnectedAccounts",aE.currentVersion=1,aE.serialize=function(e){return tb({dappInfo:e,name:aE.name,version:aE.currentVersion})},aE.deserialize=function(e){return tv(e)},aE.isSerialized=function(e){return e.name===aE.name&&e.version===aE.currentVersion},(e=>{function t(e,t){for(let r of(e.serializeU32AsUleb128(t.length),t))to(e,r)}function r(e){let t=e.deserializeUleb128AsU32(),r=[];for(let n=0;n<t;n+=1)r.push(tl(e));return r}e.serialize=function(e){return tS(e,t)},e.deserialize=function(e){return tI(e,r)}})(or||(or={})),(aM=on||(on={})).name="isConnected",aM.currentVersion=1,aM.serialize=function(e){return tb({dappInfo:e,name:aM.name,version:aM.currentVersion})},aM.deserialize=function(e){return tv(e)},aM.isSerialized=function(e){return e.name===aM.name&&e.version===aM.currentVersion},(e=>{function t(e,t){e.serializeBool(t)}function r(e){return e.deserializeBool()}e.serialize=function(e){return tS(e,t)},e.deserialize=function(e){return tI(e,r)}})(oi||(oi={})),(e=>{function t(e,t){var r;if(void 0!==t.network&&!ti(t.network))throw Error(`Unsupported network '${t.network}'`);e.serializeBool(void 0!==t.signerAddress),void 0!==t.signerAddress&&e.serialize(t.signerAddress),e.serializeOptionStr(t.network),"bcsToBytes"in t.payload?(e.serializeBool(!0),e.serialize(t.payload)):(e.serializeBool(!1),tA(e,t.payload)),e.serializeU64(t.expirationTimestamp??0),e.serializeU32AsUleb128(t.gasUnitPrice??0),e.serializeU32AsUleb128(t.maxGasAmount??0),e.serializeU32AsUleb128(t.feePayer?1:0),t.feePayer&&(r=t.feePayer,e.serialize(r.address),e.serialize(r.authenticator))}function r(e,t){let r=t>=3&&e.deserializeBool()?e.deserialize(w.l):void 0,n=1===t?e.deserializeStr():e.deserializeOption("string");if(void 0!==n&&!ti(n))throw Error(`Unsupported network '${n}'`);let i=1===t||e.deserializeBool()?e.deserialize(w.o):tz(e),s=Number(e.deserializeU64()),a=e.deserializeUleb128AsU32(),o=e.deserializeUleb128AsU32();return{expirationTimestamp:s>0?s:void 0,feePayer:e.deserializeUleb128AsU32()?{address:e.deserialize(w.l),authenticator:e.deserialize(w.V)}:void 0,gasUnitPrice:a>0?a:void 0,maxGasAmount:o>0?o:void 0,network:n,payload:i,signerAddress:r}}e.name="signAndSubmitTransaction",e.supportedVersions=[1,2,3],e.currentVersion=3,e.serializeArgs=t,e.deserializeArgs=r,e.serialize=function(r,n){return tU({args:n,dappInfo:r,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return t_(e,t=>r(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(os||(os={})),(e=>{let t=tE(function(e,t){e.serializeStr(t.txnHash)}),r=tM(function(e){return{txnHash:e.deserializeStr()}});e.serialize=function(e){return tS(e,t)},e.deserialize=function(e){return tI(e,r)}})(oa||(oa={})),(e=>{function t(e,t){e.serializeBool(void 0!==t.signerAddress),void 0!==t.signerAddress&&e.serialize(t.signerAddress),e.serializeU8(t.chainId),e.serializeBytes(t.nonce),e.serializeBytes(t.message)}e.name="signMessage",e.supportedVersions=[1,2],e.currentVersion=2,e.serialize=function(r,n){return tU({args:n,dappInfo:r,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return t_(e,t=>(function(e,t){let r=t>=2&&e.deserializeBool()?e.deserialize(w.l):void 0,n=e.deserializeU8(),i=e.deserializeBytes();return{chainId:n,message:e.deserializeBytes(),nonce:i,signerAddress:r}})(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&t.version===e.currentVersion}})(oo||(oo={})),(e=>{let t=tE(function(e,t){e.serializeStr(t.fullMessage),tg(e,t.signature)}),r=tM(function(e){return{fullMessage:e.deserializeStr(),signature:tf(e)}});e.serialize=function(e){return tS(e,t)},e.deserialize=function(e){return tI(e,r)}})(ol||(ol={})),(e=>{function t(e,t){if(void 0!==t.network&&!ti(t.network))throw Error(`Unsupported network '${t.network}'`);e.serializeBool(void 0!==t.signerAddress),void 0!==t.signerAddress&&e.serialize(t.signerAddress),e.serializeOptionStr(t.network),e.serializeBool(void 0!==t.sender),void 0!==t.sender&&tc(e,t.sender),"bcsToBytes"in t.payload?(e.serializeBool(!0),e.serialize(t.payload)):(e.serializeBool(!1),tA(e,t.payload)),e.serializeU32AsUleb128(t.expirationSecondsFromNow??0),e.serializeU64(t.expirationTimestamp??0),e.serializeU32AsUleb128(t.gasUnitPrice??0),e.serializeU32AsUleb128(t.maxGasAmount??0),e.serializeBool(void 0!==t.feePayer),void 0!==t.feePayer&&tc(e,t.feePayer);let r=t.secondarySigners??[];for(let t of(e.serializeU32AsUleb128(r.length),r))tc(e,t)}e.name="signTransaction",e.supportedVersions=[1,2,3,4],e.currentVersion=4,e.normalizeArgs=function(e){let{feePayer:t,secondarySigners:r,senderPublicKey:n,signerAddress:i,transaction:s}=e,a={address:s.sender,publicKey:n},o=function(e){switch(e){case w.r.mainnet:return w.e.MAINNET;case w.r.testnet:return w.e.TESTNET;default:return w.e.DEVNET}}(e.transaction.chain_id.chainId);return{expirationTimestamp:Number(s.expiration_timestamp_secs),feePayer:t,gasUnitPrice:Number(s.gas_unit_price),maxGasAmount:Number(s.max_gas_amount),network:o,payload:s.payload,secondarySigners:r,sender:a,signerAddress:i}},e.serialize=function(r,n){return tU({args:n,dappInfo:r,name:e.name,version:e.currentVersion},t)},e.deserialize=function(e){return t_(e,t=>(function(e,t){let r=t>=3&&e.deserializeBool()?e.deserialize(w.l):void 0,n=1===t?e.deserializeStr():e.deserializeOption("string");if(void 0!==n&&!ti(n))throw Error(`Unsupported network '${n}'`);let i=e.deserializeBool()?tu(e):void 0,s=t<4||e.deserializeBool()?e.deserialize(w.o):tz(e),a=e.deserializeUleb128AsU32(),o=Number(e.deserializeU64()),l=e.deserializeUleb128AsU32(),c=e.deserializeUleb128AsU32(),u=e.deserializeBool()?tu(e):void 0,d=e.deserializeUleb128AsU32(),h=[];for(let t=0;t<d;t+=1)h.push(tu(e));return{expirationSecondsFromNow:a>0?a:void 0,expirationTimestamp:o>0?o:void 0,feePayer:u,gasUnitPrice:l>0?l:void 0,maxGasAmount:c>0?c:void 0,network:n,payload:s,secondarySigners:h,sender:i,signerAddress:r}})(t,e.version))},e.isSerialized=function(t){return t.name===e.name&&e.supportedVersions.includes(t.version)}})(oc||(oc={})),(e=>{let t=tE(function(e,t){e.serialize(t.authenticator),e.serializeBool(void 0!==t.rawTransaction),void 0!==t.rawTransaction&&e.serialize(t.rawTransaction)}),r=tM(function(e){return{authenticator:e.deserialize(w.V),rawTransaction:e.deserializeBool()?e.deserialize(w.p):void 0}});e.serialize=function(e){return tS(e,t)},e.deserialize=function(e){return tI(e,r)}})(ou||(ou={}));var tN=class e{constructor(){this.__messageType=e.TYPE}};tN.TYPE="PromptConnectionRequest";var tx=class e{constructor(t){this.serializedRequest=t,this.__messageType=e.TYPE}};tx.TYPE="PromptConnectionResponse";var tk=class e{constructor(t){this.serializedValue=t,this.__messageType=e.TYPE}};tk.TYPE="PromptApprovalResponse";var tD=class e{constructor(){this.__messageType=e.TYPE}};function tC({data:e,...t}){let r=JSON.stringify({data:e,...t},(e,t)=>"data"===e?tr(t):t);return tr(new TextEncoder().encode(r))}function tj(e){let t=JSON.stringify(e,(e,t)=>{switch(e){case"body":return tC(t);case"clientIdentityKey":case"signature":return tr(t.toUint8Array());default:return t}});return tn(new TextEncoder().encode(t))}tD.TYPE="PromptUnauthorizedError";class tB extends Error{constructor(e,t,r){super("object"==typeof t?t.message:t||e,{cause:"object"==typeof t?t.cause:r}),this.type=e,this.name="TypedError",Object.setPrototypeOf(this,tB.prototype)}}let tO="ERR_PARSE";function tL(e,t){return r=>{let n=n=>{if(!(r&&void 0===n))try{return t(n)}catch(t){throw new tB(tO,{message:`"${e}" transformer failed to parse the value`,cause:t})}};return Object.assign(n,{isValid(e){try{return n(e),!0}catch{return!1}}})}}function tP(e,t){return tL(t||"object",t=>{let r=function(e){let t=e;if("string"==typeof t)try{t=JSON.parse(t)}catch(e){throw new tB("ERR_INVALID_VALUE",{cause:e})}if("object"!=typeof t||!t||Array.isArray(t))throw new tB("ERR_UNEXPECTED_VALUE");return t}(t);return function(e,t){let r={};for(let n in e){let i,s;let a=e[n];if(a){"function"==typeof a?(i=n,s=a):[i,s]=a;try{let e=s(t(i));void 0!==e&&(r[n]=e)}catch(e){throw new tB(tO,`Parser for "${n}" property failed${i===n?"":`. Source field: "${i}"`}`,e)}}}return r}(e,e=>r[e])})}let tK=tL("fn",e=>{if("function"==typeof e)return e;!function(e){throw new tB("ERR_UNEXPECTED_TYPE",`Unexpected value received: ${JSON.stringify(e)}`)}(e)}),tR=tP({TelegramWebviewProxy:tP({postEvent:tK()})()});class tW extends Error{constructor(e,t,r){super("object"==typeof t?t.message:t||e,{cause:"object"==typeof t?t.cause:r}),this.type=e,this.name="TypedError",Object.setPrototypeOf(this,tW.prototype)}}function tH(e,t){t||(t={});let r=t.equals||Object.is,n=[],i=e,s=e=>{if(!r(i,e)){let t=i;i=e,[...n].forEach(([r,n])=>{r(e,t),n&&o(r,!0)})}};function a(e){let t="object"!=typeof e?{once:e}:e;return{once:t.once||!1,signal:t.signal||!1}}let o=(e,t)=>{let r=a(t),i=n.findIndex(([t,n])=>t===e&&n.once===r.once&&n.signal===r.signal);i>=0&&n.splice(i,1)},l=Object.assign(function(){return tV.length&&tV[tV.length-1].add(l),i},{destroy(){n=[]},set:s,reset(){s(e)},sub:(e,t)=>(n.push([e,a(t)]),()=>o(e,t)),unsub:o,unsubAll(){n=n.filter(e=>e[1].signal)}});return l}let tV=[],[tF,tQ]=function(e,t){t||(t={});let{textColor:r,bgColor:n,shouldLog:i=!0}=t;function s(t,...a){if(!i||"function"==typeof i&&!i())return;let o="font-weight:bold;padding:0 5px;border-radius:5px";console[t](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${e}`,`${o};background-color: lightblue;color:black`,"",`${o};${r?`color:${r};`:""}${n?`background-color:${n}`:""}`,...a)}return[function(...e){s("log",...e)},function(...e){s("error",...e)}]}("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog:tH(!1)}),tG=tH("https://web.telegram.org"),tq=new Uint8Array(16),tY=[];for(let e=0;e<256;++e)tY.push((e+256).toString(16).slice(1));let t$={randomUUID:"u">typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var tJ={height:695,width:465},tZ=a5.serialize({status:"dismissed"}),tX=class extends Error{constructor(){super("Unauthorized")}};async function t0(e,t,r){return new Promise((n,i)=>{let s={onMessage:a=>{if(!(a.source!==t||a.origin!==e)){if(tT(tD,a.data)){window.removeEventListener("message",s.onMessage),clearTimeout(s.promptPollerId),i(new tX);return}if(tT(tN,a.data)){t.postMessage(new tx(r),e);return}tT(tk,a.data)&&(window.removeEventListener("message",s.onMessage),clearTimeout(s.promptPollerId),n(a.data.serializedValue))}},promptPollerId:setInterval(()=>{t.closed&&(window.removeEventListener("message",s.onMessage),clearTimeout(s.promptPollerId),n(tZ))},500)};window.addEventListener("message",s.onMessage)})}var t2="@aptos-connect/dapp-local-state";function t1(){let e=window.localStorage.getItem(t2);return e?function(e){let t=new w.a(e),r=t.deserializeUleb128AsU32(),n=[];for(let e=0;e<r;e+=1)n.push(tl(t));return{connectedAccounts:n}}(tt(e)):{connectedAccounts:[]}}function t4(e){let t=tr(function(e){let t=new w.n;for(let r of(t.serializeU32AsUleb128(e.connectedAccounts.length),e.connectedAccounts))to(t,r);return t.toUint8Array()}(e));window.localStorage.setItem(t2,t)}function t3(){return t1().connectedAccounts}function t8(e){let{connectedAccounts:t,...r}=t1();t.push(e),t4({...r,connectedAccounts:t})}async function t5(e,t){let r=tn(t.clientIdentityKey.toUint8Array());if(!(await fetch(`${e}/v1/dapp/clients/${r}/requests/`,{body:JSON.stringify({body:tC(t.body),id:t.id,signature:tr(t.signature.toUint8Array()),timestamp:t.timestamp}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"post"})).ok)throw Error("Failed creating the wallet request")}var t6="@aptos-connect/client-identity-key",t9=5*6e4;function t7(e){let t,r=()=>{},n=new Promise(n=>{t=setTimeout(n,e),r=()=>{clearTimeout(t),n()}});return n.cancel=r,n}async function re(e){let t,r=!1,n=3e3,i=()=>{r=!0,n=2e3,t?.cancel()};window.addEventListener("focus",i),window.addEventListener("blur",()=>{n=3e3});try{let i=Date.now();for(;Date.now()-i<t9;){t=t7(n),await t,r&&(t=t7(300),await t);let i=await e();if(200===i.status)return i;r=!1}throw Error("Timeout")}finally{window.removeEventListener("focus",i),window.removeEventListener("blur",i)}}async function rt(e,t,r){let n=tn(t.toUint8Array()),i=new URL(`${e}/v1/dapp/clients/${n}/requests/${r}/response/`);return{data:tt((await (await re(()=>fetch(i,{headers:{Accept:"application/json"},method:"get"}))).json()).data.body)}}async function rr(e){let{baseUrl:t,request:r,tgWebAppUrl:i="/AptosConnectBot/AptosConnect"}=e,s=function(){let e=window.localStorage.getItem(t6);if(e)return new w.z(e);let t=w.z.generate();return window.localStorage.setItem(t6,t.toString()),t}(),a=s.publicKey(),o=function(e,t,r){if(t$.randomUUID&&!e)return t$.randomUUID();let i=(e=e||{}).random||(e.rng||function(){if(!n&&!(n="u">typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(tq)})();return i[6]=15&i[6]|64,i[8]=63&i[8]|128,function(e,t=0){return tY[e[t+0]]+tY[e[t+1]]+tY[e[t+2]]+tY[e[t+3]]+"-"+tY[e[t+4]]+tY[e[t+5]]+"-"+tY[e[t+6]]+tY[e[t+7]]+"-"+tY[e[t+8]]+tY[e[t+9]]+"-"+tY[e[t+10]]+tY[e[t+11]]+tY[e[t+12]]+tY[e[t+13]]+tY[e[t+14]]+tY[e[t+15]]}(i)}(),l=Date.now(),c=function({accountAddress:e,body:t,id:r,timestamp:n}){let i=new w.n;return i.serializeStr("SignedPopupWalletRequest"),i.serializeStr(r),i.serializeU64(n),i.serializeBool(void 0!==e),void 0!==e&&i.serialize(w.l.from(e)),i.serializeStr(t.name),i.serializeU8(t.version),i.serializeBytes(t.data),i.toUint8Array()}({body:r,id:o,timestamp:l}),u=s.sign(c),d={body:r,clientIdentityKey:a,id:o,signature:u,timestamp:l},h=tj(d);return h.length>1024&&(t5(t,d),h=tj({clientIdentityKey:a,id:o,signature:u,timestamp:l})),function(e,t){tF("Posting event:",t?{eventType:e,eventData:t}:{eventType:e});let r=window;if(tR().isValid(r)){r.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));return}let n=JSON.stringify({eventType:e,eventData:t});if(function(){try{return window.self!==window.top}catch{return!0}}())return r.parent.postMessage(n,tG());let{external:i}=r;if(tP({notify:tK()})().isValid(i)){i.notify(n);return}throw new tW("ERR_UNKNOWN_ENV")}("web_app_open_tg_link",{path_full:`${i}?startapp=${h}`}),rt(t,a,o)}var rn=class{constructor(e,t="google",r){this.baseUrl=e,this.provider=t,this.tgWebAppUrl=r,this.baseUrl=e}async sendPromptRequest(e){if(void 0!==window.TelegramWebviewProxy)return rr({baseUrl:this.baseUrl,request:e,tgWebAppUrl:this.tgWebAppUrl});let t=new URL(`${this.baseUrl}/prompt/`);t.searchParams.set("provider",this.provider);let r=function(e,t=tJ){let{height:r,width:n}=t,i=Object.entries({height:r,left:window.screenLeft+Math.round((window.outerWidth-n)/2),popup:!0,top:window.screenTop+Math.round((window.outerHeight-r)/2),width:n}).map(([e,t])=>`${e}=${JSON.stringify(t)}`).reduce((e,t)=>`${e}, ${t}`),s=e instanceof URL?e.href:e,a=window.open(s,void 0,i);if(null===a)throw Error("Couldn't open prompt");return a}(t);return t0(this.baseUrl,r,e)}async sendRequest(e){switch(e.name){case on.name:{let e=t3();return oi.serialize(e.length>0)}case ot.name:{let e=t3();return or.serialize(e)}case a8.name:{let t=await this.sendPromptRequest(e),r=a5.deserialize(t);if("approved"===r.args.status){let{account:e,pairing:t}=r.args.args;void 0===t&&t8(e)}return t}case a7.name:{let t=await this.sendPromptRequest(e),r=oe.deserialize(t);if("approved"===r.args.status){let{account:e}=r.args.args;t8(e)}return t}case a6.name:{let[e]=t3();return e&&function(e){let{connectedAccounts:t,...r}=t1(),n=t.findIndex(t=>t.address.equals(e));n>=0&&t.splice(n,1),t4({...r,connectedAccounts:t})}(e.address),a9.serialize({})}case oo.name:case oc.name:case os.name:return this.sendPromptRequest(e);default:throw Error("Unexpected request")}}},ri=((o=ri||{}).DEVNET="devnet",o.MAINNET="mainnet",o.TESTNET="testnet",o),rs=((l=rs||{}).SIGN_AND_SUBMIT_TRANSACTION="SIGN_AND_SUBMIT_TRANSACTION",l.SIGN_MESSAGE="SIGN_MESSAGE",l.SIGN_TRANSACTION="SIGN_TRANSACTION",l),ra=((c=ra||{}).APPROVED="APPROVED",c.CANCELLED="CANCELLED",c.INVALID="INVALID",c.PENDING="PENDING",c.REJECTED="REJECTED",c);function ro(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Wrong positive integer: ${e}`)}function rl(e,...t){if(!(e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name))throw Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function rc(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");ro(e.outputLen),ro(e.blockLen)}function ru(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function rd(e,t){rl(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}let rh=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));function rg(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}let rf=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),rp=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw Error("Non little-endian hardware is not supported");let ry=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function rw(e){if(!rg(e))throw Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=ry[e[r]];return t}let rm={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function rA(e){return e>=rm._0&&e<=rm._9?e-rm._0:e>=rm._A&&e<=rm._F?e-(rm._A-10):e>=rm._a&&e<=rm._f?e-(rm._a-10):void 0}function rz(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=rA(e.charCodeAt(i)),s=rA(e.charCodeAt(i+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+s}return n}function rb(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}(e)),!rg(e))throw Error(`expected Uint8Array, got ${typeof e}`);return e}class rv{clone(){return this._cloneInto()}}let rU={}.toString;function r_(e){let t=t=>e().update(rb(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}class rE extends rv{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,rc(e);let r=rb(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return ru(this),this.iHash.update(e),this}digestInto(e){ru(this),rl(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let rM=(e,t,r)=>new rE(e,t).update(r).digest();rM.create=(e,t)=>new rE(e,t);class rS extends rv{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=rf(this.buffer)}update(e){ru(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=rb(e)).length;for(let s=0;s<i;){let a=Math.min(n-this.pos,i-s);if(a===n){let t=rf(e);for(;n<=i-s;s+=n)this.process(t,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ru(this),rd(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let e=s;e<n;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),o=Number(r&s),l=n?4:0,c=n?0:4;e.setUint32(t+l,a,n),e.setUint32(t+c,o,n)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);let a=rf(e),o=this.outputLen;if(o%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=o/4,c=this.get();if(l>c.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)a.setUint32(4*e,c[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:a}=this;return e.length=n,e.pos=a,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}let rI=(e,t,r)=>e&t^~e&r,rT=(e,t,r)=>e&t^e&r^t&r,rN=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),rx=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),rk=new Uint32Array(64);class rD extends rS{constructor(){super(64,32,8,!1),this.A=0|rx[0],this.B=0|rx[1],this.C=0|rx[2],this.D=0|rx[3],this.E=0|rx[4],this.F=0|rx[5],this.G=0|rx[6],this.H=0|rx[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:s,G:a,H:o}=this;return[e,t,r,n,i,s,a,o]}set(e,t,r,n,i,s,a,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|a,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)rk[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=rk[e-15],r=rk[e-2],n=rp(t,7)^rp(t,18)^t>>>3,i=rp(r,17)^rp(r,19)^r>>>10;rk[e]=i+rk[e-7]+n+rk[e-16]|0}let{A:r,B:n,C:i,D:s,E:a,F:o,G:l,H:c}=this;for(let e=0;e<64;e++){let t=c+(rp(a,6)^rp(a,11)^rp(a,25))+rI(a,o,l)+rN[e]+rk[e]|0,u=(rp(r,2)^rp(r,13)^rp(r,22))+rT(r,n,i)|0;c=l,l=o,o=a,a=s+t|0,s=i,i=n,n=r,r=t+u|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,o=o+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,n,i,s,a,o,l,c)}roundClean(){rk.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let rC=r_(()=>new rD),rj=BigInt(4294967296-1),rB=BigInt(32);function rO(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:s,l:a}=function(e,t=!1){return t?{h:Number(e&rj),l:Number(e>>rB&rj)}:{h:0|Number(e>>rB&rj),l:0|Number(e&rj)}}(e[i],t);[r[i],n[i]]=[s,a]}return[r,n]}let rL=(e,t,r)=>e<<r|t>>>32-r,rP=(e,t,r)=>t<<r|e>>>32-r,rK=(e,t,r)=>t<<r-32|e>>>64-r,rR=(e,t,r)=>e<<r-32|t>>>64-r,rW={split:rO,shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,add:function(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/4294967296|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/4294967296|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/4294967296|0)|0,add5H:(e,t,r,n,i,s)=>t+r+n+i+s+(e/4294967296|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},[rH,rV]=rW.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),rF=new Uint32Array(80),rQ=new Uint32Array(80);class rG extends rS{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:a,Dl:o,Eh:l,El:c,Fh:u,Fl:d,Gh:h,Gl:g,Hh:f,Hl:p}=this;return[e,t,r,n,i,s,a,o,l,c,u,d,h,g,f,p]}set(e,t,r,n,i,s,a,o,l,c,u,d,h,g,f,p){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|a,this.Dl=0|o,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|g,this.Hh=0|f,this.Hl=0|p}process(e,t){for(let r=0;r<16;r++,t+=4)rF[r]=e.getUint32(t),rQ[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|rF[e-15],r=0|rQ[e-15],n=rW.rotrSH(t,r,1)^rW.rotrSH(t,r,8)^rW.shrSH(t,r,7),i=rW.rotrSL(t,r,1)^rW.rotrSL(t,r,8)^rW.shrSL(t,r,7),s=0|rF[e-2],a=0|rQ[e-2],o=rW.rotrSH(s,a,19)^rW.rotrBH(s,a,61)^rW.shrSH(s,a,6),l=rW.rotrSL(s,a,19)^rW.rotrBL(s,a,61)^rW.shrSL(s,a,6),c=rW.add4L(i,l,rQ[e-7],rQ[e-16]),u=rW.add4H(c,n,o,rF[e-7],rF[e-16]);rF[e]=0|u,rQ[e]=0|c}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:a,Cl:o,Dh:l,Dl:c,Eh:u,El:d,Fh:h,Fl:g,Gh:f,Gl:p,Hh:y,Hl:w}=this;for(let e=0;e<80;e++){let t=rW.rotrSH(u,d,14)^rW.rotrSH(u,d,18)^rW.rotrBH(u,d,41),m=rW.rotrSL(u,d,14)^rW.rotrSL(u,d,18)^rW.rotrBL(u,d,41),A=u&h^~u&f,z=d&g^~d&p,b=rW.add5L(w,m,z,rV[e],rQ[e]),v=rW.add5H(b,y,t,A,rH[e],rF[e]),U=0|b,_=rW.rotrSH(r,n,28)^rW.rotrBH(r,n,34)^rW.rotrBH(r,n,39),E=rW.rotrSL(r,n,28)^rW.rotrBL(r,n,34)^rW.rotrBL(r,n,39),M=r&i^r&a^i&a,S=n&s^n&o^s&o;y=0|f,w=0|p,f=0|h,p=0|g,h=0|u,g=0|d,({h:u,l:d}=rW.add(0|l,0|c,0|v,0|U)),l=0|a,c=0|o,a=0|i,o=0|s,i=0|r,s=0|n;let I=rW.add3L(U,E,S);r=rW.add3H(I,v,_,M),n=0|I}({h:r,l:n}=rW.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=rW.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:a,l:o}=rW.add(0|this.Ch,0|this.Cl,0|a,0|o)),({h:l,l:c}=rW.add(0|this.Dh,0|this.Dl,0|l,0|c)),({h:u,l:d}=rW.add(0|this.Eh,0|this.El,0|u,0|d)),({h:h,l:g}=rW.add(0|this.Fh,0|this.Fl,0|h,0|g)),({h:f,l:p}=rW.add(0|this.Gh,0|this.Gl,0|f,0|p)),({h:y,l:w}=rW.add(0|this.Hh,0|this.Hl,0|y,0|w)),this.set(r,n,i,s,a,o,l,c,u,d,h,g,f,p,y,w)}roundClean(){rF.fill(0),rQ.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let rq=r_(()=>new rG);function rY(e){if("string"!=typeof e)throw TypeError(`Invalid mnemonic type: ${typeof e}`);return e.normalize("NFKD")}let r$=e=>rY(`mnemonic${e}`),[rJ,rZ,rX]=[[],[],[]],r0=BigInt(0),r2=BigInt(1),r1=BigInt(2),r4=BigInt(7),r3=BigInt(256),r8=BigInt(113);for(let e=0,t=r2,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],rJ.push(2*(5*n+r)),rZ.push((e+1)*(e+2)/2%64);let i=r0;for(let e=0;e<7;e++)(t=(t<<r2^(t>>r4)*r8)%r3)&r1&&(i^=r2<<(r2<<BigInt(e))-r2);rX.push(i)}let[r5,r6]=rO(rX,!0),r9=(e,t,r)=>r>32?rK(e,t,r):rL(e,t,r),r7=(e,t,r)=>r>32?rR(e,t,r):rP(e,t,r);class ne extends rv{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ro(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=rh(this.state)}keccak(){(function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,s=r[i],a=r[i+1],o=r9(s,a,1)^r[n],l=r7(s,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=l}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=rZ[r],s=r9(t,i,n),a=r7(t,i,n),o=rJ[r];t=e[o],i=e[o+1],e[o]=s,e[o+1]=a}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=r5[n],e[1]^=r6[n]}r.fill(0)})(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){ru(this);let{blockLen:t,state:r}=this,n=(e=rb(e)).length;for(let i=0;i<n;){let s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){ru(this,!1),rl(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ro(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(rd(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new ne(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}let nt=r_(()=>new ne(136,6,32));async function nr(e){var t;let{params:r,method:n,url:i,headers:s,body:a,overrides:o}=e,l={headers:s,method:n,url:i,params:r,data:a,withCredentials:null==(t=o?.WITH_CREDENTIALS)||t};try{let e=await (0,m.J)(l);return{status:e.status,statusText:e.statusText,data:e.data,headers:e.headers,config:e.config}}catch(e){if(e.response)return e.response;throw e}}var nn=Object.defineProperty,ni=Object.getOwnPropertyDescriptor,ns=(e,t)=>{for(var r in t)nn(e,r,{get:t[r],enumerable:!0})},na=(e,t,r,n)=>{for(var i,s=ni(t,r),a=e.length-1;a>=0;a--)(i=e[a])&&(s=i(t,r,s)||s);return s&&nn(t,r,s),s},no=/^m(\/[0-9]+')+$/,nl=e=>e.replace("'",""),nc=2147483648,nu=e=>{let t=rM.create(rq,"ed25519 seed").update(rz(e)).digest();return{key:t.slice(0,32),chainCode:t.slice(32)}},nd=({key:e,chainCode:t},r)=>{let n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);let i=new Uint8Array(n),s=new Uint8Array([0]),a=new Uint8Array([...s,...e,...i]),o=rM.create(rq,t).update(a).digest();return{key:o.slice(0,32),chainCode:o.slice(32)}},nh=e=>!!no.test(e)&&!e.split("/").slice(1).map(nl).some(Number.isNaN),ng=(e,t,r=nc)=>{if(!nh(e))throw Error("Invalid derivation path");let{key:n,chainCode:i}=nu(t);return e.split("/").slice(1).map(nl).map(e=>parseInt(e,10)).reduce((e,t)=>nd(e,t+r),{key:n,chainCode:i})};async function nf(e){return new Promise(t=>{setTimeout(t,e)})}function np(e){let t,r,n;return"object"==typeof e?(t=e.hashFunction,r=e.ttlMs,n=e.tags):t=e,(e,i,s)=>{if(null!=s.value)s.value=nm(s.value,t,r,n);else if(null!=s.get)s.get=nm(s.get,t,r,n);else throw Error("Only put a Memoize() decorator on a method or get accessor.")}}function ny(e,t){return np({ttlMs:e,hashFunction:t})}var nw=new Map;function nm(e,t,r=0,n){let i=Symbol("__memoized_map__");return function(...s){let a;this.hasOwnProperty(i)||Object.defineProperty(this,i,{configurable:!1,enumerable:!1,writable:!1,value:new Map});let o=this[i];if(Array.isArray(n))for(let e of n)nw.has(e)?nw.get(e).push(o):nw.set(e,[o]);if(t||s.length>0||r>0){let n;n=!0===t?s.map(e=>e.toString()).join("!"):t?t.apply(this,s):s[0];let i=`${n}__timestamp`,l=!1;if(r>0){if(o.has(i)){let e=o.get(i);l=Date.now()-e>r}else l=!0}o.has(n)&&!l?a=o.get(n):(a=e.apply(this,s),o.set(n,a),r>0&&o.set(i,Date.now()))}else o.has(this)?a=o.get(this):(a=e.apply(this,s),o.set(this,a));return a}}var nA=class extends Error{constructor(e,t,r){super(r),this.name="AptosApiError",this.url=t.url,this.status=t.status,this.statusText=t.statusText,this.data=t.data,this.request=e}},nz={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"};async function nb(e,t,r,n,i,s){let a={...s?.HEADERS,"x-aptos-client":"aptos-ts-sdk/1.21.0","content-type":n??"application/json"};return s?.TOKEN&&(a.Authorization=`Bearer ${s?.TOKEN}`),await nr({url:e,method:t,body:r,params:i,headers:a,overrides:s})}async function nv(e){let{url:t,endpoint:r,method:n,body:i,contentType:s,params:a,overrides:o}=e,l=`${t}/${r??""}`,c=await nb(l,n,i,s,a,o),u={status:c.status,statusText:c.statusText,data:c.data,headers:c.headers,config:c.config,url:l};if(u.status>=200&&u.status<300)return u;let d=nz[u.status];throw new nA(e,u,d??"Generic Error")}async function nU(e){return await nv({...e,method:"GET"})}async function n_(e){return await nv({...e,method:"POST"})}async function nE(e){let t;let r=[],n=e.params;for(;;){n.start=t;let i=await nU({url:e.url,endpoint:e.endpoint,params:n,originMethod:e.originMethod,overrides:e.overrides});if(t=i.headers["x-aptos-cursor"],delete i.headers,r.push(...i.data),null==t)break}return r}var nM={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql",local:"http://127.0.0.1:8090/v1/graphql"},nS={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1",local:"http://127.0.0.1:8080/v1"},nI=class e{static fromBuffer(t){return e.fromUint8Array(t)}static fromUint8Array(t){return new e(rw(t))}static ensure(t){return"string"==typeof t?new e(t):t}constructor(e){e.startsWith("0x")?this.hexString=e:this.hexString=`0x${e}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from(rz(this.noPrefix()))}},nT={};ns(nT,{AccountAddress:()=>nX,AccountAuthenticator:()=>ir,AccountAuthenticatorEd25519:()=>ii,AccountAuthenticatorMultiEd25519:()=>is,ArgumentABI:()=>i5,AuthenticationKey:()=>st,ChainId:()=>iQ,ChangeSet:()=>iB,Ed25519PublicKey:()=>n2,Ed25519Signature:()=>n4,EntryFunction:()=>ix,EntryFunctionABI:()=>i7,FeePayerRawTransaction:()=>iR,Identifier:()=>ia,Module:()=>iC,ModuleId:()=>ij,MultiAgentRawTransaction:()=>iK,MultiEd25519PublicKey:()=>n3,MultiEd25519Signature:()=>n5,MultiSig:()=>iD,MultiSigTransactionPayload:()=>ik,RawTransaction:()=>iT,RawTransactionWithData:()=>iP,RotationProofChallenge:()=>sr,Script:()=>iN,ScriptABI:()=>i6,SignedTransaction:()=>iL,StructTag:()=>iz,Transaction:()=>i4,TransactionArgument:()=>iG,TransactionArgumentAddress:()=>i0,TransactionArgumentBool:()=>i1,TransactionArgumentU128:()=>iZ,TransactionArgumentU16:()=>iY,TransactionArgumentU256:()=>iX,TransactionArgumentU32:()=>i$,TransactionArgumentU64:()=>iJ,TransactionArgumentU8:()=>iq,TransactionArgumentU8Vector:()=>i2,TransactionAuthenticator:()=>n6,TransactionAuthenticatorEd25519:()=>n9,TransactionAuthenticatorFeePayer:()=>it,TransactionAuthenticatorMultiAgent:()=>ie,TransactionAuthenticatorMultiEd25519:()=>n7,TransactionPayload:()=>iW,TransactionPayloadEntryFunction:()=>iV,TransactionPayloadMultisig:()=>iF,TransactionPayloadScript:()=>iH,TransactionScriptABI:()=>i9,TypeArgumentABI:()=>i8,TypeTag:()=>io,TypeTagAddress:()=>iy,TypeTagBool:()=>il,TypeTagParser:()=>iS,TypeTagParserError:()=>iI,TypeTagSigner:()=>iw,TypeTagStruct:()=>iA,TypeTagU128:()=>ig,TypeTagU16:()=>iu,TypeTagU256:()=>ip,TypeTagU32:()=>id,TypeTagU64:()=>ih,TypeTagU8:()=>ic,TypeTagVector:()=>im,UserTransaction:()=>i3,WriteSet:()=>iO,objectStructTag:()=>iU,optionStructTag:()=>iv,stringStructTag:()=>ib});var nN={};ns(nN,{Deserializer:()=>nO,Serializer:()=>nj,bcsSerializeBool:()=>nq,bcsSerializeBytes:()=>n$,bcsSerializeFixedBytes:()=>nJ,bcsSerializeStr:()=>nY,bcsSerializeU128:()=>nQ,bcsSerializeU16:()=>nV,bcsSerializeU256:()=>nG,bcsSerializeU32:()=>nF,bcsSerializeU8:()=>nH,bcsSerializeUint64:()=>nW,bcsToBytes:()=>nR,deserializeVector:()=>nK,serializeVector:()=>nL,serializeVectorWithFunc:()=>nP});var nx=4294967296-1,nk=BigInt(18446744073709552e3)-BigInt(1),nD=BigInt(3402823669209385e23)-BigInt(1),nC=BigInt(1157920892373162e62)-BigInt(1),nj=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(e){for(;this.buffer.byteLength<this.offset+e;){let e=new ArrayBuffer(2*this.buffer.byteLength);new Uint8Array(e).set(new Uint8Array(this.buffer)),this.buffer=e}}serialize(e){this.ensureBufferWillHandleSize(e.length),new Uint8Array(this.buffer,this.offset).set(e),this.offset+=e.length}serializeWithFunction(e,t,r){this.ensureBufferWillHandleSize(t);let n=new DataView(this.buffer,this.offset);e.apply(n,[0,r,!0]),this.offset+=t}serializeStr(e){let t=new TextEncoder;this.serializeBytes(t.encode(e))}serializeBytes(e){this.serializeU32AsUleb128(e.length),this.serialize(e)}serializeFixedBytes(e){this.serialize(e)}serializeBool(e){if("boolean"!=typeof e)throw Error("Value needs to be a boolean");this.serialize(new Uint8Array([e?1:0]))}serializeU8(e){this.serialize(new Uint8Array([e]))}serializeU16(e){this.serializeWithFunction(DataView.prototype.setUint16,2,e)}serializeU32(e){this.serializeWithFunction(DataView.prototype.setUint32,4,e)}serializeU64(e){let t=BigInt(e.toString())&BigInt(nx),r=BigInt(e.toString())>>BigInt(32);this.serializeU32(Number(t)),this.serializeU32(Number(r))}serializeU128(e){let t=BigInt(e.toString())&nk,r=BigInt(e.toString())>>BigInt(64);this.serializeU64(t),this.serializeU64(r)}serializeU256(e){let t=BigInt(e.toString())&nD,r=BigInt(e.toString())>>BigInt(128);this.serializeU128(t),this.serializeU128(r)}serializeU32AsUleb128(e){let t=e,r=[];for(;t>>>7;)r.push(127&t|128),t>>>=7;r.push(t),this.serialize(new Uint8Array(r))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};function nB(e,t,r){return(r,n,i)=>{let s=i.value;return i.value=function(r){let n=BigInt(r.toString());if(n>BigInt(t.toString())||n<BigInt(e.toString()))throw Error("Value is out of range");s.apply(this,[r])},i}}na([nB(0,255)],nj.prototype,"serializeU8"),na([nB(0,65535)],nj.prototype,"serializeU16"),na([nB(0,nx)],nj.prototype,"serializeU32"),na([nB(BigInt(0),nk)],nj.prototype,"serializeU64"),na([nB(BigInt(0),nD)],nj.prototype,"serializeU128"),na([nB(BigInt(0),nC)],nj.prototype,"serializeU256"),na([nB(0,nx)],nj.prototype,"serializeU32AsUleb128");var nO=class{constructor(e){this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e,0),this.offset=0}read(e){if(this.offset+e>this.buffer.byteLength)throw Error("Reached to the end of buffer");let t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}deserializeStr(){let e=this.deserializeBytes();return new TextDecoder().decode(e)}deserializeBytes(){let e=this.deserializeUleb128AsU32();return new Uint8Array(this.read(e))}deserializeFixedBytes(e){return new Uint8Array(this.read(e))}deserializeBool(){let e=new Uint8Array(this.read(1))[0];if(1!==e&&0!==e)throw Error("Invalid boolean value");return 1===e}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){let e=this.deserializeU32();return BigInt(BigInt(this.deserializeU32())<<BigInt(32)|BigInt(e))}deserializeU128(){let e=this.deserializeU64();return BigInt(this.deserializeU64()<<BigInt(64)|e)}deserializeU256(){let e=this.deserializeU128();return BigInt(this.deserializeU128()<<BigInt(128)|e)}deserializeUleb128AsU32(){let e=BigInt(0),t=0;for(;e<nx;){let r=this.deserializeU8();if(e|=BigInt(127&r)<<BigInt(t),(128&r)==0)break;t+=7}if(e>nx)throw Error("Overflow while parsing uleb128-encoded uint32 value");return Number(e)}};function nL(e,t){t.serializeU32AsUleb128(e.length),e.forEach(e=>{e.serialize(t)})}function nP(e,t){let r=new nj;r.serializeU32AsUleb128(e.length);let n=r[t];return e.forEach(e=>{n.call(r,e)}),r.getBytes()}function nK(e,t){let r=e.deserializeUleb128AsU32(),n=[];for(let i=0;i<r;i+=1)n.push(t.deserialize(e));return n}function nR(e){let t=new nj;return e.serialize(t),t.getBytes()}function nW(e){let t=new nj;return t.serializeU64(e),t.getBytes()}function nH(e){let t=new nj;return t.serializeU8(e),t.getBytes()}function nV(e){let t=new nj;return t.serializeU16(e),t.getBytes()}function nF(e){let t=new nj;return t.serializeU32(e),t.getBytes()}function nQ(e){let t=new nj;return t.serializeU128(e),t.getBytes()}function nG(e){let t=new nj;return t.serializeU256(e),t.getBytes()}function nq(e){let t=new nj;return t.serializeBool(e),t.getBytes()}function nY(e){let t=new nj;return t.serializeStr(e),t.getBytes()}function n$(e){let t=new nj;return t.serializeBytes(e),t.getBytes()}function nJ(e){let t=new nj;return t.serializeFixedBytes(e),t.getBytes()}var nZ=class e{constructor(t){if(t.length!==e.LENGTH)throw Error("Expected address of length 32");this.address=t}static fromHex(t){let r=nI.ensure(t);r.noPrefix().length%2!=0&&(r=new nI(`0${r.noPrefix()}`));let n=r.toUint8Array();if(n.length>e.LENGTH)throw Error("Hex string is too long. Address's length is 32 bytes.");if(n.length===e.LENGTH)return new e(n);let i=new Uint8Array(e.LENGTH);return i.set(n,e.LENGTH-n.length),new e(i)}static isValid(t){if(""===t)return!1;let r=nI.ensure(t);return r.noPrefix().length%2!=0&&(r=new nI(`0${r.noPrefix()}`)),r.toUint8Array().length<=e.LENGTH}toHexString(){return nI.fromUint8Array(this.address).hex()}serialize(e){e.serializeFixedBytes(this.address)}static deserialize(t){return new e(t.deserializeFixedBytes(e.LENGTH))}static standardizeAddress(e){let t=e.toLowerCase();return`0x${(t.startsWith("0x")?t.slice(2):t).padStart(64,"0")}`}};nZ.LENGTH=32,nZ.CORE_CODE_ADDRESS=nZ.fromHex("0x1");var nX=nZ,n0=class e{constructor(t){if(t.length!==e.LENGTH)throw Error(`Ed25519PublicKey length should be ${e.LENGTH}`);this.value=t}toBytes(){return this.value}serialize(e){e.serializeBytes(this.value)}static deserialize(t){return new e(t.deserializeBytes())}};n0.LENGTH=32;var n2=n0,n1=class e{constructor(t){if(this.value=t,t.length!==e.LENGTH)throw Error(`Ed25519Signature length should be ${e.LENGTH}`)}serialize(e){e.serializeBytes(this.value)}static deserialize(t){return new e(t.deserializeBytes())}};n1.LENGTH=64;var n4=n1,n3=class e{constructor(e,t){if(this.public_keys=e,this.threshold=t,t>32)throw Error('"threshold" cannot be larger than 32')}toBytes(){let e=new Uint8Array(this.public_keys.length*n2.LENGTH+1);return this.public_keys.forEach((t,r)=>{e.set(t.value,r*n2.LENGTH)}),e[this.public_keys.length*n2.LENGTH]=this.threshold,e}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(t){let r=t.deserializeBytes(),n=r[r.length-1],i=[];for(let e=0;e<r.length-1;e+=n2.LENGTH){let t=e;i.push(new n2(r.subarray(t,t+n2.LENGTH)))}return new e(i,n)}},n8=class e{constructor(t,r){if(this.signatures=t,this.bitmap=r,r.length!==e.BITMAP_LEN)throw Error(`"bitmap" length should be ${e.BITMAP_LEN}`)}toBytes(){let t=new Uint8Array(this.signatures.length*n4.LENGTH+e.BITMAP_LEN);return this.signatures.forEach((e,r)=>{t.set(e.value,r*n4.LENGTH)}),t.set(this.bitmap,this.signatures.length*n4.LENGTH),t}static createBitmap(e){let t=new Uint8Array([0,0,0,0]),r=new Set;return e.forEach(e=>{if(e>=32)throw Error(`Invalid bit value ${e}.`);if(r.has(e))throw Error("Duplicated bits detected.");r.add(e);let n=Math.floor(e/8),i=t[n];i|=128>>e%8,t[n]=i}),t}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(t){let r=t.deserializeBytes(),n=r.subarray(r.length-4),i=[];for(let e=0;e<r.length-n.length;e+=n4.LENGTH){let t=e;i.push(new n4(r.subarray(t,t+n4.LENGTH)))}return new e(i,n)}};n8.BITMAP_LEN=4;var n5=n8,n6=class{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case 0:return n9.load(e);case 1:return n7.load(e);case 2:return ie.load(e);case 3:return it.load(e);default:throw Error(`Unknown variant index for TransactionAuthenticator: ${t}`)}}},n9=class e extends n6{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(t){return new e(n2.deserialize(t),n4.deserialize(t))}},n7=class e extends n6{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(t){return new e(n3.deserialize(t),n5.deserialize(t))}},ie=class e extends n6{constructor(e,t,r){super(),this.sender=e,this.secondary_signer_addresses=t,this.secondary_signers=r}serialize(e){e.serializeU32AsUleb128(2),this.sender.serialize(e),nL(this.secondary_signer_addresses,e),nL(this.secondary_signers,e)}static load(t){return new e(ir.deserialize(t),nK(t,nX),nK(t,ir))}},it=class e extends n6{constructor(e,t,r,n){super(),this.sender=e,this.secondary_signer_addresses=t,this.secondary_signers=r,this.fee_payer=n}serialize(e){e.serializeU32AsUleb128(3),this.sender.serialize(e),nL(this.secondary_signer_addresses,e),nL(this.secondary_signers,e),this.fee_payer.address.serialize(e),this.fee_payer.authenticator.serialize(e)}static load(t){let r=ir.deserialize(t),n=nK(t,nX);return new e(r,n,nK(t,ir),{address:nX.deserialize(t),authenticator:ir.deserialize(t)})}},ir=class{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case 0:return ii.load(e);case 1:return is.load(e);default:throw Error(`Unknown variant index for AccountAuthenticator: ${t}`)}}},ii=class e extends ir{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(t){return new e(n2.deserialize(t),n4.deserialize(t))}},is=class e extends ir{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(t){return new e(n3.deserialize(t),n5.deserialize(t))}},ia=class e{constructor(e){this.value=e}serialize(e){e.serializeStr(this.value)}static deserialize(t){return new e(t.deserializeStr())}},io=class{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case 0:return il.load(e);case 1:return ic.load(e);case 2:return ih.load(e);case 3:return ig.load(e);case 4:return iy.load(e);case 5:return iw.load(e);case 6:return im.load(e);case 7:return iA.load(e);case 8:return iu.load(e);case 9:return id.load(e);case 10:return ip.load(e);default:throw Error(`Unknown variant index for TypeTag: ${t}`)}}},il=class e extends io{serialize(e){e.serializeU32AsUleb128(0)}static load(t){return new e}},ic=class e extends io{serialize(e){e.serializeU32AsUleb128(1)}static load(t){return new e}},iu=class e extends io{serialize(e){e.serializeU32AsUleb128(8)}static load(t){return new e}},id=class e extends io{serialize(e){e.serializeU32AsUleb128(9)}static load(t){return new e}},ih=class e extends io{serialize(e){e.serializeU32AsUleb128(2)}static load(t){return new e}},ig=class e extends io{serialize(e){e.serializeU32AsUleb128(3)}static load(t){return new e}},ip=class e extends io{serialize(e){e.serializeU32AsUleb128(10)}static load(t){return new e}},iy=class e extends io{serialize(e){e.serializeU32AsUleb128(4)}static load(t){return new e}},iw=class e extends io{serialize(e){e.serializeU32AsUleb128(5)}static load(t){return new e}},im=class e extends io{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),this.value.serialize(e)}static load(t){return new e(io.deserialize(t))}},iA=class e extends io{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),this.value.serialize(e)}static load(t){return new e(iz.deserialize(t))}isStringTypeTag(){return"string"===this.value.module_name.value&&"String"===this.value.name.value&&this.value.address.toHexString()===nX.CORE_CODE_ADDRESS.toHexString()}},iz=class e{constructor(e,t,r,n){this.address=e,this.module_name=t,this.name=r,this.type_args=n}static fromString(t){let r=new iS(t).parseTypeTag();return new e(r.value.address,r.value.module_name,r.value.name,r.value.type_args)}serialize(e){this.address.serialize(e),this.module_name.serialize(e),this.name.serialize(e),nL(this.type_args,e)}static deserialize(t){let r=nX.deserialize(t);return new e(r,ia.deserialize(t),ia.deserialize(t),nK(t,io))}},ib=new iz(nX.fromHex("0x1"),new ia("string"),new ia("String"),[]);function iv(e){return new iz(nX.fromHex("0x1"),new ia("option"),new ia("Option"),[e])}function iU(e){return new iz(nX.fromHex("0x1"),new ia("object"),new ia("Object"),[e])}function i_(e){throw new iI(e)}function iE(e){return!!e.match(/\s/)}function iM(e){return!!e.match(/[_A-Za-z0-9]/g)}var iS=class e{constructor(e,t){this.typeTags=[],this.tokens=function(e){let t=0,r=[];for(;t<e.length;){let[n,i]=function(e,t){let r=e[t];if(":"===r){if("::"===e.slice(t,t+2))return[["COLON","::"],2];i_("Unrecognized token.")}else{if("<"===r)return[["LT","<"],1];if(">"===r)return[["GT",">"],1];if(","===r)return[["COMMA",","],1];if(iE(r)){let r="";for(let n=t;n<e.length;n+=1){let t=e[n];if(iE(t))r=`${r}${t}`;else break}return[["SPACE",r],r.length]}if(iM(r)){let r="";for(let n=t;n<e.length;n+=1){let t=e[n];if(iM(t))r=`${r}${t}`;else break}return r.match(/T\d+/g)?[["GENERIC",r],r.length]:[["IDENT",r],r.length]}}throw Error("Unrecognized token.")}(e,t);"SPACE"!==n[0]&&r.push(n),t+=i}return r}(e),this.typeTags=t||[]}consume(e){let t=this.tokens.shift();t&&t[1]===e||i_("Invalid type tag.")}consumeWholeGeneric(){for(this.consume("<");">"!==this.tokens[0][1];)"<"===this.tokens[0][1]?this.consumeWholeGeneric():this.tokens.shift();this.consume(">")}parseCommaList(e,t){let r=[];for(this.tokens.length<=0&&i_("Invalid type tag.");this.tokens[0][1]!==e&&(r.push(this.parseTypeTag()),!(this.tokens.length>0&&this.tokens[0][1]===e||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===e&&t)));)this.tokens.length<=0&&i_("Invalid type tag.");return r}parseTypeTag(){0===this.tokens.length&&i_("Invalid type tag.");let[t,r]=this.tokens.shift();if("u8"===r)return new ic;if("u16"===r)return new iu;if("u32"===r)return new id;if("u64"===r)return new ih;if("u128"===r)return new ig;if("u256"===r)return new ip;if("bool"===r)return new il;if("address"===r)return new iy;if("vector"===r){this.consume("<");let e=this.parseTypeTag();return this.consume(">"),new im(e)}if("string"===r)return new iA(ib);if("IDENT"===t&&(r.startsWith("0x")||r.startsWith("0X"))){let e=nX.fromHex(r);this.consume("::");let[t,n]=this.tokens.shift();"IDENT"!==t&&i_("Invalid type tag."),this.consume("::");let[i,s]=this.tokens.shift();if("IDENT"!==i&&i_("Invalid type tag."),nX.CORE_CODE_ADDRESS.toHexString()===e.toHexString()&&"object"===n&&"Object"===s)return this.consumeWholeGeneric(),new iy;let a=[];return this.tokens.length>0&&"<"===this.tokens[0][1]&&(this.consume("<"),a=this.parseCommaList(">",!0),this.consume(">")),new iA(new iz(e,new ia(n),new ia(s),a))}if("GENERIC"===t){0===this.typeTags.length&&i_("Can't convert generic type since no typeTags were specified.");let t=parseInt(r.substring(1),10);return new e(this.typeTags[t]).parseTypeTag()}throw Error("Invalid type tag.")}},iI=class extends Error{constructor(e){super(e),this.name="TypeTagParserError"}},iT=class e{constructor(e,t,r,n,i,s,a){this.sender=e,this.sequence_number=t,this.payload=r,this.max_gas_amount=n,this.gas_unit_price=i,this.expiration_timestamp_secs=s,this.chain_id=a}serialize(e){this.sender.serialize(e),e.serializeU64(this.sequence_number),this.payload.serialize(e),e.serializeU64(this.max_gas_amount),e.serializeU64(this.gas_unit_price),e.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(e)}static deserialize(t){let r=nX.deserialize(t),n=t.deserializeU64(),i=iW.deserialize(t),s=t.deserializeU64();return new e(r,n,i,s,t.deserializeU64(),t.deserializeU64(),iQ.deserialize(t))}},iN=class e{constructor(e,t,r){this.code=e,this.ty_args=t,this.args=r}serialize(e){e.serializeBytes(this.code),nL(this.ty_args,e),nL(this.args,e)}static deserialize(t){return new e(t.deserializeBytes(),nK(t,io),nK(t,iG))}},ix=class e{constructor(e,t,r,n){this.module_name=e,this.function_name=t,this.ty_args=r,this.args=n}static natural(t,r,n,i){return new e(ij.fromStr(t),new ia(r),n,i)}static natual(t,r,n,i){return e.natural(t,r,n,i)}serialize(e){this.module_name.serialize(e),this.function_name.serialize(e),nL(this.ty_args,e),e.serializeU32AsUleb128(this.args.length),this.args.forEach(t=>{e.serializeBytes(t)})}static deserialize(t){let r=ij.deserialize(t),n=ia.deserialize(t),i=nK(t,io),s=t.deserializeUleb128AsU32(),a=[];for(let e=0;e<s;e+=1)a.push(t.deserializeBytes());return new e(r,n,i,a)}},ik=class e{constructor(e){this.transaction_payload=e}serialize(e){e.serializeU32AsUleb128(0),this.transaction_payload.serialize(e)}static deserialize(t){return t.deserializeUleb128AsU32(),new e(ix.deserialize(t))}},iD=class e{constructor(e,t){this.multisig_address=e,this.transaction_payload=t}serialize(e){this.multisig_address.serialize(e),void 0===this.transaction_payload?e.serializeBool(!1):(e.serializeBool(!0),this.transaction_payload.serialize(e))}static deserialize(t){let r;let n=nX.deserialize(t);return t.deserializeBool()&&(r=ik.deserialize(t)),new e(n,r)}},iC=class e{constructor(e){this.code=e}serialize(e){e.serializeBytes(this.code)}static deserialize(t){return new e(t.deserializeBytes())}},ij=class e{constructor(e,t){this.address=e,this.name=t}static fromStr(t){let r=t.split("::");if(2!==r.length)throw Error("Invalid module id.");return new e(nX.fromHex(new nI(r[0])),new ia(r[1]))}serialize(e){this.address.serialize(e),this.name.serialize(e)}static deserialize(t){return new e(nX.deserialize(t),ia.deserialize(t))}},iB=class{serialize(e){throw Error("Not implemented.")}static deserialize(e){throw Error("Not implemented.")}},iO=class{serialize(e){throw Error("Not implmented.")}static deserialize(e){throw Error("Not implmented.")}},iL=class e{constructor(e,t){this.raw_txn=e,this.authenticator=t}serialize(e){this.raw_txn.serialize(e),this.authenticator.serialize(e)}static deserialize(t){return new e(iT.deserialize(t),n6.deserialize(t))}},iP=class{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case 0:return iK.load(e);case 1:return iR.load(e);default:throw Error(`Unknown variant index for RawTransactionWithData: ${t}`)}}},iK=class e extends iP{constructor(e,t){super(),this.raw_txn=e,this.secondary_signer_addresses=t}serialize(e){e.serializeU32AsUleb128(0),this.raw_txn.serialize(e),nL(this.secondary_signer_addresses,e)}static load(t){return new e(iT.deserialize(t),nK(t,nX))}},iR=class e extends iP{constructor(e,t,r){super(),this.raw_txn=e,this.secondary_signer_addresses=t,this.fee_payer_address=r}serialize(e){e.serializeU32AsUleb128(1),this.raw_txn.serialize(e),nL(this.secondary_signer_addresses,e),this.fee_payer_address.serialize(e)}static load(t){return new e(iT.deserialize(t),nK(t,nX),nX.deserialize(t))}},iW=class{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case 0:return iH.load(e);case 2:return iV.load(e);case 3:return iF.load(e);default:throw Error(`Unknown variant index for TransactionPayload: ${t}`)}}},iH=class e extends iW{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(t){return new e(iN.deserialize(t))}},iV=class e extends iW{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),this.value.serialize(e)}static load(t){return new e(ix.deserialize(t))}},iF=class e extends iW{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(t){return new e(iD.deserialize(t))}},iQ=class e{constructor(e){this.value=e}serialize(e){e.serializeU8(this.value)}static deserialize(t){return new e(t.deserializeU8())}},iG=class{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case 0:return iq.load(e);case 1:return iJ.load(e);case 2:return iZ.load(e);case 3:return i0.load(e);case 4:return i2.load(e);case 5:return i1.load(e);case 6:return iY.load(e);case 7:return i$.load(e);case 8:return iX.load(e);default:throw Error(`Unknown variant index for TransactionArgument: ${t}`)}}},iq=class e extends iG{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),e.serializeU8(this.value)}static load(t){return new e(t.deserializeU8())}},iY=class e extends iG{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),e.serializeU16(this.value)}static load(t){return new e(t.deserializeU16())}},i$=class e extends iG{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),e.serializeU32(this.value)}static load(t){return new e(t.deserializeU32())}},iJ=class e extends iG{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(1),e.serializeU64(this.value)}static load(t){return new e(t.deserializeU64())}},iZ=class e extends iG{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),e.serializeU128(this.value)}static load(t){return new e(t.deserializeU128())}},iX=class e extends iG{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(8),e.serializeU256(this.value)}static load(t){return new e(t.deserializeU256())}},i0=class e extends iG{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(t){return new e(nX.deserialize(t))}},i2=class e extends iG{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(4),e.serializeBytes(this.value)}static load(t){return new e(t.deserializeBytes())}},i1=class e extends iG{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(5),e.serializeBool(this.value)}static load(t){return new e(t.deserializeBool())}},i4=class{getHashSalt(){let e=nt.create();return e.update("APTOS::Transaction"),e.digest()}static deserialize(e){let t=e.deserializeUleb128AsU32();if(0===t)return i3.load(e);throw Error(`Unknown variant index for Transaction: ${t}`)}},i3=class e extends i4{constructor(e){super(),this.value=e}hash(){let e=nt.create();return e.update(this.getHashSalt()),e.update(nR(this)),e.digest()}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(t){return new e(iL.deserialize(t))}},i8=class e{constructor(e){this.name=e}serialize(e){e.serializeStr(this.name)}static deserialize(t){return new e(t.deserializeStr())}},i5=class e{constructor(e,t){this.name=e,this.type_tag=t}serialize(e){e.serializeStr(this.name),this.type_tag.serialize(e)}static deserialize(t){return new e(t.deserializeStr(),io.deserialize(t))}},i6=class{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case 0:return i9.load(e);case 1:return i7.load(e);default:throw Error(`Unknown variant index for TransactionPayload: ${t}`)}}},i9=class e extends i6{constructor(e,t,r,n,i){super(),this.name=e,this.doc=t,this.code=r,this.ty_args=n,this.args=i}serialize(e){e.serializeU32AsUleb128(0),e.serializeStr(this.name),e.serializeStr(this.doc),e.serializeBytes(this.code),nL(this.ty_args,e),nL(this.args,e)}static load(t){let r=t.deserializeStr(),n=t.deserializeStr();return new e(r,n,t.deserializeBytes(),nK(t,i8),nK(t,i5))}},i7=class e extends i6{constructor(e,t,r,n,i){super(),this.name=e,this.module_name=t,this.doc=r,this.ty_args=n,this.args=i}serialize(e){e.serializeU32AsUleb128(1),e.serializeStr(this.name),this.module_name.serialize(e),e.serializeStr(this.doc),nL(this.ty_args,e),nL(this.args,e)}static load(t){let r=t.deserializeStr(),n=ij.deserialize(t);return new e(r,n,t.deserializeStr(),nK(t,i8),nK(t,i5))}},se=class e{constructor(t){if(t.length!==e.LENGTH)throw Error("Expected a byte array of length 32");this.bytes=t}static fromMultiEd25519PublicKey(t){let r=t.toBytes(),n=new Uint8Array(r.length+1);n.set(r),n.set([e.MULTI_ED25519_SCHEME],r.length);let i=nt.create();return i.update(n),new e(i.digest())}static fromEd25519PublicKey(t){let r=t.value,n=new Uint8Array(r.length+1);n.set(r),n.set([e.ED25519_SCHEME],r.length);let i=nt.create();return i.update(n),new e(i.digest())}derivedAddress(){return nI.fromUint8Array(this.bytes)}};se.LENGTH=32,se.MULTI_ED25519_SCHEME=1,se.ED25519_SCHEME=0,se.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var st=se,sr=class{constructor(e,t,r,n,i,s,a){this.accountAddress=e,this.moduleName=t,this.structName=r,this.sequenceNumber=n,this.originator=i,this.currentAuthKey=s,this.newPublicKey=a}serialize(e){this.accountAddress.serialize(e),e.serializeStr(this.moduleName),e.serializeStr(this.structName),e.serializeU64(this.sequenceNumber),this.originator.serialize(e),this.currentAuthKey.serialize(e),e.serializeBytes(this.newPublicKey)}},sn=class e{static fromAptosAccountObject(t){return new e(nI.ensure(t.privateKeyHex).toUint8Array(),t.address)}static isValidPath(e){return/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(e)}static fromDerivePath(t,r){if(!e.isValidPath(t))throw Error("Invalid derivation path");let{key:n}=ng(t,rw(function(e,t=""){return function(e,t,r,n){var i;let s;let{c:a,dkLen:o,DK:l,PRF:c,PRFSalt:u}=function(e,t,r,n){rc(e);let{c:i,dkLen:s,asyncTick:a}=function(e,t){if(void 0!==t&&"[object Object]"!==rU.call(t))throw Error("Options should be object or undefined");return Object.assign(e,t)}({dkLen:32,asyncTick:10},n);if(ro(i),ro(s),ro(a),i<1)throw Error("PBKDF2: iterations (c) should be >= 1");let o=rb(t),l=rb(r),c=new Uint8Array(s),u=rM.create(e,o),d=u._cloneInto().update(l);return{c:i,dkLen:s,asyncTick:a,DK:c,PRF:u,PRFSalt:d}}(e,t,r,n),d=new Uint8Array(4),h=rf(d),g=new Uint8Array(c.outputLen);for(let e=1,t=0;t<o;e++,t+=c.outputLen){let r=l.subarray(t,t+c.outputLen);h.setInt32(0,e,!1),(s=u._cloneInto(s)).update(d).digestInto(g),r.set(g.subarray(0,r.length));for(let e=1;e<a;e++){c._cloneInto(s).update(g).digestInto(g);for(let e=0;e<r.length;e++)r[e]^=g[e]}}return i=s,c.destroy(),u.destroy(),i&&i.destroy(),g.fill(0),l}(rq,function(e){let t=rY(e),r=t.split(" ");if(![12,15,18,21,24].includes(r.length))throw Error("Invalid mnemonic");return{nfkd:t,words:r}}(e).nfkd,r$(t),{c:2048,dkLen:64})}(r.trim().split(/\s+/).map(e=>e.toLowerCase()).join(" "))));return new e(n)}constructor(e,t){e?this.signingKey=z.aw.sign.keyPair.fromSeed(e.slice(0,32)):this.signingKey=z.aw.sign.keyPair(),this.accountAddress=nI.ensure(t||this.authKey().hex())}address(){return this.accountAddress}authKey(){let e=new n2(this.signingKey.publicKey);return st.fromEd25519PublicKey(e).derivedAddress()}static getResourceAccountAddress(e,t){let r=new Uint8Array([...nR(nX.fromHex(e)),...t,st.DERIVE_RESOURCE_ACCOUNT_SCHEME]),n=nt.create();return n.update(r),nI.fromUint8Array(n.digest())}static getCollectionID(e,t){let r=new TextEncoder().encode(`${e}::${t}`),n=rC.create();return n.update(r),nI.fromUint8Array(n.digest())}pubKey(){return nI.fromUint8Array(this.signingKey.publicKey)}signBuffer(e){let t=z.aw.sign.detached(e,this.signingKey.secretKey);return nI.fromUint8Array(t)}signHexString(e){let t=nI.ensure(e).toUint8Array();return this.signBuffer(t)}verifySignature(e,t){let r=nI.ensure(e).toUint8Array(),n=nI.ensure(t).toUint8Array();return z.aw.sign.detached.verify(r,n,this.signingKey.publicKey)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:nI.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}};na([np()],sn.prototype,"authKey");var si=`
    fragment CurrentTokenOwnershipFields on current_token_ownerships_v2 {
  token_standard
  token_properties_mutated_v1
  token_data_id
  table_type_v1
  storage_id
  property_version_v1
  owner_address
  last_transaction_version
  last_transaction_timestamp
  is_soulbound_v2
  is_fungible_v2
  amount
  current_token_data {
    collection_id
    description
    is_fungible_v2
    largest_property_version_v1
    last_transaction_timestamp
    last_transaction_version
    maximum
    supply
    token_data_id
    token_name
    token_properties
    token_standard
    token_uri
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      max_supply
      mutable_description
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
  }
}
    `,ss=`
    fragment TokenDataFields on current_token_datas {
  creator_address
  collection_name
  description
  metadata_uri
  name
  token_data_id_hash
  collection_data_id_hash
}
    `,sa=`
    fragment CollectionDataFields on current_collection_datas {
  metadata_uri
  supply
  description
  collection_name
  collection_data_id_hash
  table_handle
  creator_address
}
    `,so=`
    fragment TokenActivitiesFields on token_activities_v2 {
  after_value
  before_value
  entry_function_id_str
  event_account_address
  event_index
  from_address
  is_fungible_v2
  property_version_v1
  to_address
  token_amount
  token_data_id
  token_standard
  transaction_timestamp
  transaction_version
  type
}
    `,sl=`
    query getAccountCoinsDataCount($address: String) {
  current_fungible_asset_balances_aggregate(
    where: {owner_address: {_eq: $address}}
  ) {
    aggregate {
      count
    }
  }
}
    `,sc=`
    query getAccountCoinsData($where_condition: current_fungible_asset_balances_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_fungible_asset_balances_order_by!]) {
  current_fungible_asset_balances(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    amount
    asset_type
    is_frozen
    is_primary
    last_transaction_timestamp
    last_transaction_version
    owner_address
    storage_id
    token_standard
    metadata {
      token_standard
      symbol
      supply_aggregator_table_key_v1
      supply_aggregator_table_handle_v1
      project_uri
      name
      last_transaction_version
      last_transaction_timestamp
      icon_uri
      decimals
      creator_address
      asset_type
    }
  }
}
    `,su=`
    query getAccountCurrentTokens($address: String!, $offset: Int, $limit: Int) {
  current_token_ownerships(
    where: {owner_address: {_eq: $address}, amount: {_gt: 0}}
    order_by: [{last_transaction_version: desc}, {creator_address: asc}, {collection_name: asc}, {name: asc}]
    offset: $offset
    limit: $limit
  ) {
    amount
    current_token_data {
      ...TokenDataFields
    }
    current_collection_data {
      ...CollectionDataFields
    }
    last_transaction_version
    property_version
  }
}
    ${ss}
${sa}`,sd=`
    query getAccountTokensCount($where_condition: current_token_ownerships_v2_bool_exp, $offset: Int, $limit: Int) {
  current_token_ownerships_v2_aggregate(
    where: $where_condition
    offset: $offset
    limit: $limit
  ) {
    aggregate {
      count
    }
  }
}
    `,sh=`
    query getAccountTransactionsCount($address: String) {
  account_transactions_aggregate(where: {account_address: {_eq: $address}}) {
    aggregate {
      count
    }
  }
}
    `,sg=`
    query getAccountTransactionsData($where_condition: account_transactions_bool_exp!, $offset: Int, $limit: Int, $order_by: [account_transactions_order_by!]) {
  account_transactions(
    where: $where_condition
    order_by: $order_by
    limit: $limit
    offset: $offset
  ) {
    token_activities_v2 {
      ...TokenActivitiesFields
    }
    transaction_version
    account_address
  }
}
    ${so}`,sf=`
    query getCollectionData($where_condition: current_collections_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_collections_v2_order_by!]) {
  current_collections_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    collection_id
    collection_name
    creator_address
    current_supply
    description
    last_transaction_timestamp
    last_transaction_version
    max_supply
    mutable_description
    mutable_uri
    table_handle_v1
    token_standard
    total_minted_v2
    uri
  }
}
    `,sp=`
    query getCollectionsWithOwnedTokens($where_condition: current_collection_ownership_v2_view_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_collection_ownership_v2_view_order_by!]) {
  current_collection_ownership_v2_view(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      mutable_description
      max_supply
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
    collection_id
    collection_name
    collection_uri
    creator_address
    distinct_tokens
    last_transaction_version
    owner_address
    single_token_uri
  }
}
    `,sy=`
    query getCurrentObjects($where_condition: current_objects_bool_exp, $offset: Int, $limit: Int, $order_by: [current_objects_order_by!]) {
  current_objects(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    allow_ungated_transfer
    state_key_hash
    owner_address
    object_address
    last_transaction_version
    last_guid_creation_num
    is_deleted
  }
}
    `,sw=`
    query getDelegatedStakingActivities($delegatorAddress: String, $poolAddress: String) {
  delegated_staking_activities(
    where: {delegator_address: {_eq: $delegatorAddress}, pool_address: {_eq: $poolAddress}}
  ) {
    amount
    delegator_address
    event_index
    event_type
    pool_address
    transaction_version
  }
}
    `,sm=`
    query getIndexerLedgerInfo {
  ledger_infos {
    chain_id
  }
}
    `,sA=`
    query getNumberOfDelegators($poolAddress: String) {
  num_active_delegator_per_pool(
    where: {pool_address: {_eq: $poolAddress}, num_active_delegator: {_gt: "0"}}
    distinct_on: pool_address
  ) {
    num_active_delegator
    pool_address
  }
}
    `,sz=`
    query getOwnedTokens($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${si}`,sb=`
    query getOwnedTokensByTokenData($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${si}`,sv=`
    query getTokenActivities($where_condition: token_activities_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [token_activities_v2_order_by!]) {
  token_activities_v2(
    where: $where_condition
    order_by: $order_by
    offset: $offset
    limit: $limit
  ) {
    ...TokenActivitiesFields
  }
}
    ${so}`,sU=`
    query getTokenActivitiesCount($token_id: String) {
  token_activities_v2_aggregate(where: {token_data_id: {_eq: $token_id}}) {
    aggregate {
      count
    }
  }
}
    `,s_=`
    query getTokenCurrentOwnerData($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${si}`,sE=`
    query getTokenData($where_condition: current_token_datas_v2_bool_exp, $offset: Int, $limit: Int, $order_by: [current_token_datas_v2_order_by!]) {
  current_token_datas_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    collection_id
    description
    is_fungible_v2
    largest_property_version_v1
    last_transaction_timestamp
    last_transaction_version
    maximum
    supply
    token_data_id
    token_name
    token_properties
    token_standard
    token_uri
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      max_supply
      mutable_description
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
  }
}
    `,sM=`
    query getTokenOwnedFromCollection($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${si}`,sS=`
    query getTokenOwnersData($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${si}`,sI=`
    query getTopUserTransactions($limit: Int) {
  user_transactions(limit: $limit, order_by: {version: desc}) {
    version
  }
}
    `,sT=`
    query getUserTransactions($where_condition: user_transactions_bool_exp!, $offset: Int, $limit: Int, $order_by: [user_transactions_order_by!]) {
  user_transactions(
    order_by: $order_by
    where: $where_condition
    limit: $limit
    offset: $offset
  ) {
    version
  }
}
    `;function sN(e,t,r){if(!t?.includes(typeof e))throw Error(`Invalid arg: ${e} type should be ${t instanceof Array?t.join(" or "):t}`)}function sx(e){if(sN(e,["boolean","string"]),"boolean"==typeof e)return e;if("true"===e)return!0;if("false"===e)return!1;throw Error("Invalid boolean string.")}function sk(e){if(sN(e,["number","string"]),"number"==typeof e)return e;let t=Number.parseInt(e,10);if(Number.isNaN(t))throw Error("Invalid number string.");return t}function sD(e){return sN(e,["number","bigint","string"]),BigInt(e)}function sC(e,t){let r;if("string"==typeof e||e instanceof nI)r=nX.fromHex(e);else if(e instanceof nX)r=e;else throw Error("Invalid account address.");r.serialize(t)}var sj="APTOS::RawTransactionWithData",sB=class{constructor(e,t){this.rawTxnBuilder=t,this.signingFunction=e}build(e,t,r){if(!this.rawTxnBuilder)throw Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(e,t,r)}static getSigningMessage(e){let t=nt.create();if(e instanceof iT)t.update("APTOS::RawTransaction");else if(e instanceof iK)t.update(sj);else if(e instanceof iR)t.update(sj);else throw Error("Unknown transaction type.");let r=t.digest(),n=nR(e),i=new Uint8Array(r.length+n.length);return i.set(r),i.set(n,r.length),i}},sO=class extends sB{constructor(e,t,r){super(e,r),this.publicKey=t}rawToSigned(e){let t=sB.getSigningMessage(e),r=this.signingFunction(t);return new iL(e,new n9(new n2(this.publicKey),r))}sign(e){return nR(this.rawToSigned(e))}},sL=class extends sB{constructor(e,t){super(e),this.publicKey=t}rawToSigned(e){let t=sB.getSigningMessage(e),r=this.signingFunction(t);return new iL(e,new n7(this.publicKey,r))}sign(e){return nR(this.rawToSigned(e))}},sP=class e{constructor(e,t){this.abiMap=new Map,e.forEach(e=>{let t;let r=new nO(e),n=i6.deserialize(r);if(n instanceof i7){let{address:e,name:r}=n.module_name;t=`${nI.fromUint8Array(e.address).toShortString()}::${r.value}::${n.name}`}else t=n.name;if(this.abiMap.has(t))throw Error("Found conflicting ABI interfaces");this.abiMap.set(t,n)}),this.builderConfig={maxGasAmount:BigInt(2e5),expSecFromNow:20,...t}}static toBCSArgs(e,t){if(e.length!==t.length)throw Error("Wrong number of args provided.");return t.map((t,r)=>{let n=new nj;return function e(t,r,n,i){if(r instanceof il)n.serializeBool(sx(t));else if(r instanceof ic)n.serializeU8(sk(t));else if(r instanceof iu)n.serializeU16(sk(t));else if(r instanceof id)n.serializeU32(sk(t));else if(r instanceof ih)n.serializeU64(sD(t));else if(r instanceof ig)n.serializeU128(sD(t));else if(r instanceof ip)n.serializeU256(sD(t));else if(r instanceof iy)sC(t,n);else if(r instanceof im)!function(t,r,n,i){if(r.value instanceof ic){if(t instanceof Uint8Array){n.serializeBytes(t);return}if(t instanceof nI){n.serializeBytes(t.toUint8Array());return}if("string"==typeof t){n.serializeStr(t);return}}if(!Array.isArray(t))throw Error("Invalid vector args.");n.serializeU32AsUleb128(t.length),t.forEach(t=>e(t,r.value,n))}(t,r,n);else if(r instanceof iA)!function(t,r,n,i){let{address:s,module_name:a,name:o,type_args:l}=r.value,c=`${nI.fromUint8Array(s.address).toShortString()}::${a.value}::${o.value}`;if("0x1::string::String"===c)sN(t,["string"]),n.serializeStr(t);else if("0x1::object::Object"===c)sC(t,n);else if("0x1::option::Option"===c){var u;if(1!==l.length)throw Error(`Option has the wrong number of type arguments ${l.length}`);u=l[0],null==t?n.serializeU32AsUleb128(0):(n.serializeU32AsUleb128(1),e(t,u,n))}else throw Error("Unsupported struct type in function argument")}(t,r,n);else throw Error("Unsupported arg type.")}(t,e[r].type_tag,n),n.getBytes()})}static toTransactionArguments(e,t){if(e.length!==t.length)throw Error("Wrong number of args provided.");return t.map((t,r)=>(function(e,t){if(t instanceof il)return new i1(sx(e));if(t instanceof ic)return new iq(sk(e));if(t instanceof iu)return new iY(sk(e));if(t instanceof id)return new i$(sk(e));if(t instanceof ih)return new iJ(sD(e));if(t instanceof ig)return new iZ(sD(e));if(t instanceof ip)return new iX(sD(e));if(t instanceof iy){let t;if("string"==typeof e||e instanceof nI)t=nX.fromHex(e);else if(e instanceof nX)t=e;else throw Error("Invalid account address.");return new i0(t)}if(t instanceof im&&t.value instanceof ic){if(!(e instanceof Uint8Array))throw Error(`${e} should be an instance of Uint8Array`);return new i2(e)}throw Error("Unknown type for TransactionArgument.")})(t,e[r].type_tag))}setSequenceNumber(e){this.builderConfig.sequenceNumber=BigInt(e)}buildTransactionPayload(t,r,n){let i;let s=r.map(e=>new iS(e).parseTypeTag());if(!this.abiMap.has(t))throw Error(`Cannot find function: ${t}`);let a=this.abiMap.get(t);if(a instanceof i7){let t=e.toBCSArgs(a.args,n);i=new iV(new ix(a.module_name,new ia(a.name),s,t))}else if(a instanceof i9){let t=e.toTransactionArguments(a.args,n);i=new iH(new iN(a.code,s,t))}else throw Error("Unknown ABI format.");return i}build(e,t,r){let{sender:n,sequenceNumber:i,gasUnitPrice:s,maxGasAmount:a,expSecFromNow:o,chainId:l}=this.builderConfig;if(!s)throw Error("No gasUnitPrice provided.");let c=n instanceof nX?n:nX.fromHex(n),u=BigInt(Math.floor(Date.now()/1e3)+Number(o)),d=this.buildTransactionPayload(e,t,r);if(d)return new iT(c,BigInt(i),d,BigInt(a),BigInt(s),u,new iQ(Number(l)));throw Error("Invalid ABI.")}},sK=class{constructor(e,t){this.aptosClient=e,this.builderConfig=t}async fetchABI(e){let t=(await this.aptosClient.getAccountModules(e)).map(e=>e.abi).flatMap(e=>e.exposed_functions.filter(e=>e.is_entry).map(t=>({fullName:`${e.address}::${e.name}::${t.name}`,...t}))),r=new Map;return t.forEach(e=>{r.set(e.fullName,e)}),r}async build(e,t,r){if(3!==(e=e.replace(/^0[xX]0*/g,"0x")).split("::").length)throw Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coin::transfer");let[n,i]=e.split("::"),s=await this.fetchABI(n);if(!s.has(e))throw Error(`${e} doesn't exist.`);let a=s.get(e),o=a.params.filter(e=>"signer"!==e&&"&signer"!==e).map((e,r)=>new i5(`var${r}`,new iS(e,t).parseTypeTag())),l=new i7(a.name,ij.fromStr(`${n}::${i}`),"",a.generic_type_params.map((e,t)=>new i8(`${t}`)),o),{sender:c,...u}=this.builderConfig,d=c instanceof nX?nI.fromUint8Array(c.address):c,[{sequence_number:h},g,{gas_estimate:f}]=await Promise.all([u?.sequenceNumber?Promise.resolve({sequence_number:u?.sequenceNumber}):this.aptosClient.getAccount(d),u?.chainId?Promise.resolve(u?.chainId):this.aptosClient.getChainId(),u?.gasUnitPrice?Promise.resolve({gas_estimate:u?.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new sP([nR(l)],{sender:c,sequenceNumber:h,chainId:g,gasUnitPrice:BigInt(f),...u}).build(e,t,r)}};na([ny(6e5)],sK.prototype,"fetchABI");var sR=class e{constructor(e,t,r=!1){let n;if(!e)throw Error("Node URL cannot be empty.");r?this.nodeUrl=e:this.nodeUrl=((n=`${e}`).endsWith("/")&&(n=n.substring(0,n.length-1)),n.endsWith("/v1")||(n=`${n}/v1`),n),this.config=null==t?{}:{...t}}async getAccount(e){let{data:t}=await nU({url:this.nodeUrl,endpoint:`accounts/${nI.ensure(e).hex()}`,originMethod:"getAccount",overrides:{...this.config}});return t}async getAccountTransactions(e,t){let{data:r}=await nU({url:this.nodeUrl,endpoint:`accounts/${nI.ensure(e).hex()}/transactions`,originMethod:"getAccountTransactions",params:{start:t?.start,limit:t?.limit},overrides:{...this.config}});return r}async getAccountModules(e,t){return await nE({url:this.nodeUrl,endpoint:`accounts/${e}/modules`,params:{ledger_version:t?.ledgerVersion,limit:1e3},originMethod:"getAccountModules",overrides:{...this.config}})}async getAccountModule(e,t,r){let{data:n}=await nU({url:this.nodeUrl,endpoint:`accounts/${nI.ensure(e).hex()}/module/${t}`,originMethod:"getAccountModule",params:{ledger_version:r?.ledgerVersion},overrides:{...this.config}});return n}async getAccountResources(e,t){return await nE({url:this.nodeUrl,endpoint:`accounts/${e}/resources`,params:{ledger_version:t?.ledgerVersion,limit:9999},originMethod:"getAccountResources",overrides:{...this.config}})}async getAccountResource(e,t,r){let{data:n}=await nU({url:this.nodeUrl,endpoint:`accounts/${nI.ensure(e).hex()}/resource/${t}`,originMethod:"getAccountResource",params:{ledger_version:r?.ledgerVersion},overrides:{...this.config}});return n}static generateBCSTransaction(e,t){return new sO(t=>{let r=e.signBuffer(t);return new nT.Ed25519Signature(r.toUint8Array())},e.pubKey().toUint8Array()).sign(t)}static generateBCSSimulation(e,t){return new sO(e=>{let t=new Uint8Array(64);return new nT.Ed25519Signature(t)},e.pubKey().toUint8Array()).sign(t)}async generateTransaction(e,t,r){let n={sender:e};if(r?.sequence_number&&(n.sequenceNumber=r.sequence_number),r?.gas_unit_price&&(n.gasUnitPrice=r.gas_unit_price),r?.max_gas_amount&&(n.maxGasAmount=r.max_gas_amount),r?.expiration_timestamp_secs){let e=Number.parseInt(r.expiration_timestamp_secs,10);n.expSecFromNow=e-Math.floor(Date.now()/1e3)}return new sK(this,n).build(t.function,t.type_arguments,t.arguments)}async generateFeePayerTransaction(e,t,r,n=[],i){let s=await this.generateTransaction(e,t,i),a=n.map(e=>nX.fromHex(e));return new nT.FeePayerRawTransaction(s,a,nX.fromHex(r))}async submitFeePayerTransaction(e,t,r,n=[]){let i=new nT.TransactionAuthenticatorFeePayer(t,e.secondary_signer_addresses,n,{address:e.fee_payer_address,authenticator:r}),s=nR(new nT.SignedTransaction(e.raw_txn,i));return await this.submitSignedBCSTransaction(s)}async signMultiTransaction(e,t){let r=new nT.Ed25519Signature(e.signBuffer(sB.getSigningMessage(t)).toUint8Array());return Promise.resolve(new nT.AccountAuthenticatorEd25519(new nT.Ed25519PublicKey(e.signingKey.publicKey),r))}async signTransaction(t,r){return Promise.resolve(e.generateBCSTransaction(t,r))}async getEventsByCreationNumber(e,t,r){let{data:n}=await nU({url:this.nodeUrl,endpoint:`accounts/${nI.ensure(e).hex()}/events/${t}`,originMethod:"getEventsByCreationNumber",params:{start:r?.start,limit:r?.limit},overrides:{...this.config}});return n}async getEventsByEventHandle(e,t,r,n){let{data:i}=await nU({url:this.nodeUrl,endpoint:`accounts/${nI.ensure(e).hex()}/events/${t}/${r}`,originMethod:"getEventsByEventHandle",params:{start:n?.start,limit:n?.limit},overrides:{...this.config}});return i}async submitTransaction(e){return this.submitSignedBCSTransaction(e)}async simulateTransaction(t,r,n){let i;return i=t instanceof sn?e.generateBCSSimulation(t,r):t instanceof n3?new sL(()=>{let{threshold:e}=t,r=[],n=[];for(let t=0;t<e;t+=1)r.push(t),n.push(new nT.Ed25519Signature(new Uint8Array(64)));let i=nT.MultiEd25519Signature.createBitmap(r);return new nT.MultiEd25519Signature(n,i)},t).sign(r):new sO(()=>{let e=new Uint8Array(64);return new nT.Ed25519Signature(e)},t.toBytes()).sign(r),this.submitBCSSimulation(i,n)}async submitSignedBCSTransaction(e){let{data:t}=await n_({url:this.nodeUrl,body:e,endpoint:"transactions",originMethod:"submitSignedBCSTransaction",contentType:"application/x.aptos.signed_transaction+bcs",overrides:{...this.config}});return t}async submitBCSSimulation(e,t){var r,n,i;let s={estimate_gas_unit_price:null!=(r=t?.estimateGasUnitPrice)&&r,estimate_max_gas_amount:null!=(n=t?.estimateMaxGasAmount)&&n,estimate_prioritized_gas_unit_price:null!=(i=t?.estimatePrioritizedGasUnitPrice)&&i},{data:a}=await n_({url:this.nodeUrl,body:e,endpoint:"transactions/simulate",params:s,originMethod:"submitBCSSimulation",contentType:"application/x.aptos.signed_transaction+bcs",overrides:{...this.config}});return a}async getTransactions(e){var t;let{data:r}=await nU({url:this.nodeUrl,endpoint:"transactions",originMethod:"getTransactions",params:{start:null==(t=e?.start)?void 0:t.toString(),limit:e?.limit},overrides:{...this.config}});return r}async getTransactionByHash(e){let{data:t}=await nU({url:this.nodeUrl,endpoint:`transactions/by_hash/${e}`,originMethod:"getTransactionByHash",overrides:{...this.config}});return t}async getTransactionByVersion(e){let{data:t}=await nU({url:this.nodeUrl,endpoint:`transactions/by_version/${e}`,originMethod:"getTransactionByVersion",overrides:{...this.config}});return t}async transactionPending(e){try{return"pending_transaction"===(await this.getTransactionByHash(e)).type}catch(e){if(e?.status===404)return!0;throw e}}async waitForTransactionWithResult(e,t){var r,n;let i=null!=(r=t?.timeoutSecs)?r:20,s=null!=(n=t?.checkSuccess)&&n,a=!0,o=0,l;for(;a&&!(o>=i);){try{if(l=await this.getTransactionByHash(e),!(a="pending_transaction"===l.type))break}catch(r){let e=r instanceof sV,t=e&&404!==r.status&&r.status>=400&&r.status<500;if(!e||t)throw r}await nf(1e3),o+=1}if(void 0===l)throw Error(`Waiting for transaction ${e} failed`);if(a)throw new sW(`Waiting for transaction ${e} timed out after ${i} seconds`,l);if(!s)return l;if(!l?.success)throw new sH(`Transaction ${e} failed with an error: ${l.vm_status}`,l);return l}async waitForTransaction(e,t){await this.waitForTransactionWithResult(e,t)}async getLedgerInfo(){let{data:e}=await nU({url:this.nodeUrl,originMethod:"getLedgerInfo",overrides:{...this.config}});return e}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getTableItem(e,t,r){var n;return(await n_({url:this.nodeUrl,body:t,endpoint:`tables/${e}/item`,originMethod:"getTableItem",params:{ledger_version:null==(n=r?.ledgerVersion)?void 0:n.toString()},overrides:{...this.config}})).data}async generateRawTransaction(e,t,r){let[{sequence_number:n},i,{gas_estimate:s}]=await Promise.all([r?.providedSequenceNumber?Promise.resolve({sequence_number:r.providedSequenceNumber}):this.getAccount(e),this.getChainId(),r?.gasUnitPrice?Promise.resolve({gas_estimate:r.gasUnitPrice}):this.estimateGasPrice()]),{maxGasAmount:a,gasUnitPrice:o,expireTimestamp:l}={maxGasAmount:BigInt(2e5),gasUnitPrice:BigInt(s),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+20),...r};return new nT.RawTransaction(nT.AccountAddress.fromHex(e),BigInt(n),t,a,o,l,new nT.ChainId(i))}async generateSignSubmitTransaction(t,r,n){let i=await this.generateRawTransaction(t.address(),r,n),s=e.generateBCSTransaction(t,i);return(await this.submitSignedBCSTransaction(s)).hash}async signAndSubmitTransaction(t,r){let n=e.generateBCSTransaction(t,r);return(await this.submitSignedBCSTransaction(n)).hash}async publishPackage(e,t,r,n){let i=new nj;nL(r,i);let s=new nT.TransactionPayloadEntryFunction(nT.EntryFunction.natural("0x1::code","publish_package_txn",[],[n$(t),i.getBytes()]));return this.generateSignSubmitTransaction(e,s,n)}async createResourceAccountAndPublishPackage(e,t,r,n,i){let s=new nj;nL(n,s);let a=new nT.TransactionPayloadEntryFunction(nT.EntryFunction.natural("0x1::resource_account","create_resource_account_and_publish_package",[],[n$(t),n$(r),s.getBytes()]));return this.generateSignSubmitTransaction(e,a,i)}async generateSignSubmitWaitForTransaction(e,t,r){let n=await this.generateSignSubmitTransaction(e,t,r);return this.waitForTransactionWithResult(n,r)}async estimateGasPrice(){let{data:e}=await nU({url:this.nodeUrl,endpoint:"estimate_gas_price",originMethod:"estimateGasPrice",overrides:{...this.config}});return e}async estimateMaxGasAmount(e){let[{gas_estimate:t},r]=await Promise.all([this.estimateGasPrice(),this.getAccountResources(e)]);return BigInt(r.find(e=>"0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>"===e.type).data.coin.value)/BigInt(t)}async rotateAuthKeyEd25519(t,r,n){let{sequence_number:i,authentication_key:s}=await this.getAccount(t.address()),a=new sn(r),o=new nT.RotationProofChallenge(nT.AccountAddress.CORE_CODE_ADDRESS,"account","RotationProofChallenge",BigInt(i),nT.AccountAddress.fromHex(t.address()),new nT.AccountAddress(new nI(s).toUint8Array()),a.pubKey().toUint8Array()),l=nI.fromUint8Array(nR(o)),c=t.signHexString(l),u=a.signHexString(l),d=new nT.TransactionPayloadEntryFunction(nT.EntryFunction.natural("0x1::account","rotate_authentication_key",[],[nH(0),n$(t.pubKey().toUint8Array()),nH(0),n$(a.pubKey().toUint8Array()),n$(c.toUint8Array()),n$(u.toUint8Array())])),h=await this.generateRawTransaction(t.address(),d,n),g=e.generateBCSTransaction(t,h);return this.submitSignedBCSTransaction(g)}async lookupOriginalAddress(e){let{address_map:{handle:t}}=(await this.getAccountResource("0x1","0x1::account::OriginatingAddress")).data,r=await this.getTableItem(t,{key_type:"address",value_type:"address",key:nI.ensure(e).hex()});return new nI(r)}async getBlockByHeight(e,t){let{data:r}=await nU({url:this.nodeUrl,endpoint:`blocks/by_height/${e}`,originMethod:"getBlockByHeight",params:{with_transactions:t},overrides:{...this.config}});return r}async getBlockByVersion(e,t){let{data:r}=await nU({url:this.nodeUrl,endpoint:`blocks/by_version/${e}`,originMethod:"getBlockByVersion",params:{with_transactions:t},overrides:{...this.config}});return r}async view(e,t){let{data:r}=await n_({url:this.nodeUrl,body:e,endpoint:"view",originMethod:"getTableItem",params:{ledger_version:t},overrides:{...this.config}});return r}clearCache(e){!function(e){let t=new Set;for(let r of e){let e=nw.get(r);if(e)for(let r of e)t.has(r)||(r.clear(),t.add(r))}t.size}(e)}};na([sF],sR.prototype,"getAccount"),na([sF],sR.prototype,"getAccountTransactions"),na([sF,ny(6e5)],sR.prototype,"getAccountModules"),na([sF],sR.prototype,"getAccountModule"),na([sF],sR.prototype,"getAccountResources"),na([sF],sR.prototype,"getAccountResource"),na([sF],sR.prototype,"getEventsByCreationNumber"),na([sF],sR.prototype,"getEventsByEventHandle"),na([sF],sR.prototype,"submitSignedBCSTransaction"),na([sF],sR.prototype,"submitBCSSimulation"),na([sF],sR.prototype,"getTransactions"),na([sF],sR.prototype,"getTransactionByHash"),na([sF],sR.prototype,"getTransactionByVersion"),na([sF],sR.prototype,"getLedgerInfo"),na([np()],sR.prototype,"getChainId"),na([sF],sR.prototype,"getTableItem"),na([sF,np({ttlMs:3e5,tags:["gas_estimates"]})],sR.prototype,"estimateGasPrice"),na([sF],sR.prototype,"estimateMaxGasAmount"),na([sF],sR.prototype,"getBlockByHeight"),na([sF],sR.prototype,"getBlockByVersion"),na([sF],sR.prototype,"view");var sW=class extends Error{constructor(e,t){super(e),this.lastSubmittedTransaction=t}},sH=class extends Error{constructor(e,t){super(e),this.transaction=t}},sV=class extends Error{constructor(e,t,r,n){super(t),this.status=e,this.message=t,this.errorCode=r,this.vmErrorCode=n}};function sF(e,t,r){let n=r.value;return r.value=async function(...e){var t,r;try{return await n.apply(this,[...e])}catch(e){throw e instanceof nA?new sV(e.status,JSON.stringify({message:e.message,...e.data}),null==(t=e.data)?void 0:t.error_code,null==(r=e.data)?void 0:r.vm_error_code):e}},r}var sQ=class e{constructor(e,t){this.endpoint=e,this.config=t}static validateAddress(e){if(e.length<66)throw Error(`${e} is less than 66 chars long.`)}async queryIndexer(e){let t=await n_({url:this.endpoint,body:e,overrides:{WITH_CREDENTIALS:!1,...this.config}});if(t.data.errors)throw new sV(t.data.errors[0].extensions.code,JSON.stringify({message:t.data.errors[0].message,error_code:t.data.errors[0].extensions.code}));return t.data.data}async getIndexerLedgerInfo(){return this.queryIndexer({query:sm})}async getAccountNFTs(t,r){let n=nI.ensure(t).hex();e.validateAddress(n);let i={query:su,variables:{address:n,offset:r?.offset,limit:r?.limit}};return this.queryIndexer(i)}async getTokenActivities(t,r){var n,i;let s=nI.ensure(t).hex();e.validateAddress(s);let a={token_data_id:{_eq:s}};r?.tokenStandard&&(a.token_standard={_eq:r?.tokenStandard});let o={query:sv,variables:{where_condition:a,offset:null==(n=r?.options)?void 0:n.offset,limit:null==(i=r?.options)?void 0:i.limit,order_by:r?.orderBy}};return this.queryIndexer(o)}async getTokenActivitiesCount(e){return this.queryIndexer({query:sU,variables:{token_id:e}})}async getAccountTokensCount(t,r){var n,i;let s={owner_address:{_eq:t},amount:{_gt:"0"}};r?.tokenStandard&&(s.token_standard={_eq:r?.tokenStandard});let a=nI.ensure(t).hex();e.validateAddress(a);let o={query:sd,variables:{where_condition:s,offset:null==(n=r?.options)?void 0:n.offset,limit:null==(i=r?.options)?void 0:i.limit}};return this.queryIndexer(o)}async getTokenData(t,r){var n,i;let s=nI.ensure(t).hex();e.validateAddress(s);let a={token_data_id:{_eq:s}};r?.tokenStandard&&(a.token_standard={_eq:r?.tokenStandard});let o={query:sE,variables:{where_condition:a,offset:null==(n=r?.options)?void 0:n.offset,limit:null==(i=r?.options)?void 0:i.limit,order_by:r?.orderBy}};return this.queryIndexer(o)}async getTokenOwnersData(t,r,n){var i,s;let a=nI.ensure(t).hex();e.validateAddress(a);let o={token_data_id:{_eq:a},amount:{_gt:"0"}};r&&(o.property_version_v1={_eq:r}),n?.tokenStandard&&(o.token_standard={_eq:n?.tokenStandard});let l={query:sS,variables:{where_condition:o,offset:null==(i=n?.options)?void 0:i.offset,limit:null==(s=n?.options)?void 0:s.limit,order_by:n?.orderBy}};return this.queryIndexer(l)}async getTokenCurrentOwnerData(t,r,n){var i,s;let a=nI.ensure(t).hex();e.validateAddress(a);let o={token_data_id:{_eq:a},amount:{_gt:"0"}};r&&(o.property_version_v1={_eq:r}),n?.tokenStandard&&(o.token_standard={_eq:n?.tokenStandard});let l={query:s_,variables:{where_condition:o,offset:null==(i=n?.options)?void 0:i.offset,limit:null==(s=n?.options)?void 0:s.limit,order_by:n?.orderBy}};return this.queryIndexer(l)}async getOwnedTokens(t,r){var n,i;let s=nI.ensure(t).hex();e.validateAddress(s);let a={owner_address:{_eq:s},amount:{_gt:0}};r?.tokenStandard&&(a.token_standard={_eq:r?.tokenStandard});let o={query:sz,variables:{where_condition:a,offset:null==(n=r?.options)?void 0:n.offset,limit:null==(i=r?.options)?void 0:i.limit,order_by:r?.orderBy}};return this.queryIndexer(o)}async getOwnedTokensByTokenData(t,r){var n,i;let s=nI.ensure(t).hex();e.validateAddress(s);let a={token_data_id:{_eq:s},amount:{_gt:0}};r?.tokenStandard&&(a.token_standard={_eq:r?.tokenStandard});let o={query:sb,variables:{where_condition:a,offset:null==(n=r?.options)?void 0:n.offset,limit:null==(i=r?.options)?void 0:i.limit,order_by:r?.orderBy}};return this.queryIndexer(o)}async getTokenOwnedFromCollectionAddress(t,r,n){var i,s;let a=nI.ensure(t).hex();e.validateAddress(a);let o=nI.ensure(r).hex();e.validateAddress(o);let l={owner_address:{_eq:a},current_token_data:{collection_id:{_eq:o}},amount:{_gt:0}};n?.tokenStandard&&(l.token_standard={_eq:n?.tokenStandard});let c={query:sM,variables:{where_condition:l,offset:null==(i=n?.options)?void 0:i.offset,limit:null==(s=n?.options)?void 0:s.limit,order_by:n?.orderBy}};return this.queryIndexer(c)}async getTokenOwnedFromCollectionNameAndCreatorAddress(e,t,r,n){let i=await this.getCollectionAddress(r,t,n);return await this.getTokenOwnedFromCollectionAddress(e,i,n)}async getCollectionData(t,r,n){var i,s;let a=nI.ensure(t).hex();e.validateAddress(a);let o={collection_name:{_eq:r},creator_address:{_eq:a}};n?.tokenStandard&&(o.token_standard={_eq:n?.tokenStandard});let l={query:sf,variables:{where_condition:o,offset:null==(i=n?.options)?void 0:i.offset,limit:null==(s=n?.options)?void 0:s.limit,order_by:n?.orderBy}};return this.queryIndexer(l)}async getCollectionAddress(e,t,r){return(await this.getCollectionData(e,t,r)).current_collections_v2[0].collection_id}async getCollectionsWithOwnedTokens(t,r){var n,i;let s=nI.ensure(t).hex();e.validateAddress(s);let a={owner_address:{_eq:s}};r?.tokenStandard&&(a.current_collection={token_standard:{_eq:r?.tokenStandard}});let o={query:sp,variables:{where_condition:a,offset:null==(n=r?.options)?void 0:n.offset,limit:null==(i=r?.options)?void 0:i.limit,order_by:r?.orderBy}};return this.queryIndexer(o)}async getAccountTransactionsCount(t){let r=nI.ensure(t).hex();return e.validateAddress(r),this.queryIndexer({query:sh,variables:{address:r}})}async getAccountTransactionsData(t,r){var n,i;let s=nI.ensure(t).hex();e.validateAddress(s);let a={query:sg,variables:{where_condition:{account_address:{_eq:s}},offset:null==(n=r?.options)?void 0:n.offset,limit:null==(i=r?.options)?void 0:i.limit,order_by:r?.orderBy}};return this.queryIndexer(a)}async getTopUserTransactions(e){return this.queryIndexer({query:sI,variables:{limit:e}})}async getUserTransactions(e){var t,r;let n={query:sT,variables:{where_condition:{version:{_lte:e?.startVersion}},offset:null==(t=e?.options)?void 0:t.offset,limit:null==(r=e?.options)?void 0:r.limit,order_by:e?.orderBy}};return this.queryIndexer(n)}async getDelegatedStakingActivities(t,r){let n=nI.ensure(t).hex(),i=nI.ensure(r).hex();return e.validateAddress(n),e.validateAddress(i),this.queryIndexer({query:sw,variables:{delegatorAddress:n,poolAddress:i}})}async getNumberOfDelegators(t){let r=nI.ensure(t).hex();return e.validateAddress(r),this.queryIndexer({query:sA,variables:{poolAddress:r}})}async getAccountCoinsData(t,r){var n,i;let s=nI.ensure(t).hex();e.validateAddress(s);let a={query:sc,variables:{where_condition:{owner_address:{_eq:s}},offset:null==(n=r?.options)?void 0:n.offset,limit:null==(i=r?.options)?void 0:i.limit,order_by:r?.orderBy}};return this.queryIndexer(a)}async getAccountCoinsDataCount(t){let r=nI.ensure(t).hex();return e.validateAddress(r),this.queryIndexer({query:sl,variables:{address:r}})}async getAccountOwnedObjects(t,r){var n,i;let s=nI.ensure(t).hex();e.validateAddress(s);let a={query:sy,variables:{where_condition:{owner_address:{_eq:s}},offset:null==(n=r?.options)?void 0:n.offset,limit:null==(i=r?.options)?void 0:i.limit,order_by:r?.orderBy}};return this.queryIndexer(a)}},sG=class{constructor(e,t,r=!1){var n;let i=null,s=null;if("object"==typeof e&&void 0!==(n=e).fullnodeUrl&&"string"==typeof n.fullnodeUrl?(i=e.fullnodeUrl,s=e.indexerUrl,this.network="CUSTOM"):(i=nS[e],s=nM[e],this.network=e),"CUSTOM"===this.network&&!i)throw Error("fullnode url is not provided");s&&(this.indexerClient=new sQ(s,t)),this.aptosClient=new sR(i,t,r)}};function sq(e,t,r){Object.getOwnPropertyNames(t.prototype).forEach(n=>{let i=Object.getOwnPropertyDescriptor(t.prototype,n);i&&(i.value=function(...e){return this[r][n](...e)},Object.defineProperty(e.prototype,n,i))}),Object.getOwnPropertyNames(t).forEach(n=>{let i=Object.getOwnPropertyDescriptor(t,n);i&&(i.value=function(...e){return this[r][n](...e)},e.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,i))})}sq(sG,sR,"aptosClient"),sq(sG,sQ,"indexerClient");var sY=class{constructor(e,t){this.type=e,this.value=t}},s$=class{constructor(){this.data={}}setProperty(e,t){this.data[e]=t}};function sJ(e){let t=e.map.data,r=new s$;return t.forEach(e=>{let{key:t}=e,n=e.value.value,i=e.value.type,s=function(e,t){let r=new nO(new nI(t).toUint8Array());return e instanceof ic?r.deserializeU8().toString():e instanceof ih?r.deserializeU64().toString():e instanceof ig?r.deserializeU128().toString():e instanceof il?r.deserializeBool()?"true":"false":e instanceof iy?nI.fromUint8Array(r.deserializeFixedBytes(32)).hex():e instanceof iA&&e.isStringTypeTag()?r.deserializeStr():t}("string"===i||"String"===i?new iA(ib):new iS(i).parseTypeTag(),n),a=new sY(i,s);r.setProperty(t,a)}),r}ns({},{PropertyMap:()=>s$,PropertyValue:()=>sY,Token:()=>sX,TokenData:()=>sZ});var sZ=class{constructor(e,t,r,n,i,s,a,o){this.collection=e,this.description=t,this.name=r,this.maximum=n,this.supply=i,this.uri=s,this.default_properties=sJ(a),this.mutability_config=o}},sX=class{constructor(e,t,r){this.id=e,this.amount=t,this.token_properties=sJ(r)}};ns({},{AptosErrorCode:()=>s0,MoveFunctionVisibility:()=>s2,RoleType:()=>s1});var s0=((u=s0||{}).ACCOUNT_NOT_FOUND="account_not_found",u.RESOURCE_NOT_FOUND="resource_not_found",u.MODULE_NOT_FOUND="module_not_found",u.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",u.VERSION_NOT_FOUND="version_not_found",u.TRANSACTION_NOT_FOUND="transaction_not_found",u.TABLE_ITEM_NOT_FOUND="table_item_not_found",u.BLOCK_NOT_FOUND="block_not_found",u.STATE_VALUE_NOT_FOUND="state_value_not_found",u.VERSION_PRUNED="version_pruned",u.BLOCK_PRUNED="block_pruned",u.INVALID_INPUT="invalid_input",u.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",u.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",u.VM_ERROR="vm_error",u.HEALTH_CHECK_FAILED="health_check_failed",u.MEMPOOL_IS_FULL="mempool_is_full",u.INTERNAL_ERROR="internal_error",u.WEB_FRAMEWORK_ERROR="web_framework_error",u.BCS_NOT_SUPPORTED="bcs_not_supported",u.API_DISABLED="api_disabled",u),s2=((d=s2||{}).PRIVATE="private",d.PUBLIC="public",d.FRIEND="friend",d),s1=((h=s1||{}).VALIDATOR="validator",h.FULL_NODE="full_node",h);function s4(e){return e?.serialize!==void 0&&e?.bcsToBytes!==void 0&&e?.bcsToHex!==void 0}function s3(e){return e?.serialize!==void 0||s4(e)}function s8(e){if(s4(e))return e.bcsToHex().toString();let t=nN.bcsToBytes(e);return w.b.fromHexInput(t).toString()}function s5(e,t){let r=w.b.fromHexString(t).toUint8Array(),n=new w.a(r);return e.deserialize(n)}var s6=class e extends Error{constructor(t){super(t),this.name="UnexpectedValueError",Object.setPrototypeOf(this,e.prototype)}};function s9(e){return e instanceof Uint8Array?{type:"Uint8Array",value:w.b.fromHexInput(e).toString()}:Array.isArray(e)?e.map(s9):e}function s7(e){let t=e.arguments.map(s9);return{...e,arguments:t,type:"entry_function_payload"}}function ae(e){if("entry_function_payload"===e.type||void 0===e.type)return s7(e);if("multisig_payload"===e.type){let t=void 0!==e.transaction_payload?s7(e.transaction_payload):void 0;return{...e,transaction_payload:t}}throw new s6}function at(e){let t=s8(e);if("fee_payer_address"in e)return{type:"fee_payer_raw_txn",value:t};if("secondary_signer_addresses"in e)return{type:"multi_agent_raw_txn",value:t};if("chain_id"in e)return{type:"raw_txn",value:t};throw new s6("Invalid raw transaction type")}var ar="https://aptosconnect.app";function an(e,t){if("bcsToBytes"in e)return e;if("bytecode"in e)return(0,w.q)(e);if(t)return void 0!==e.abi?(0,w.g)({...e,abi:e.abi}):(0,w.q)({aptosConfig:t,...e});let r={arguments:e.functionArguments.map(function e(t){if(null==t)return t;if(Array.isArray(t))return t.map(t=>e(t));if("string"==typeof t||"number"==typeof t||"boolean"==typeof t||t instanceof Uint8Array)return t;if("bigint"==typeof t)return t.toString();if(t instanceof ArrayBuffer)return new Uint8Array(t);if("values"in t)return t.values.map(t=>e(t));if("data"in t)return w.l.from(t.data).toString();if(void 0!==t.value){if("string"==typeof t.value||"number"==typeof t.value||"boolean"==typeof t.value||t.value instanceof Uint8Array)return t.value;if("bigint"==typeof t.value)return t.value.toString();throw Error("Unexpected argument")}}),function:e.function,type:"entry_function_payload",type_arguments:(e.typeArguments??[]).map(e=>e.toString())};return"multisigAddress"in e?{multisig_address:w.l.from(e.multisigAddress).toString(),transaction_payload:r,type:"multisig_payload"}:r}var ai=class e extends Error{constructor(t){super(t),this.name="SignatureRequestError",Object.setPrototypeOf(this,e.prototype)}},as=class e extends Error{constructor(t){super(`Missing the following fields: ${t.join(", ")}`),this.name="UnexpectedSignatureResponseError",Object.setPrototypeOf(this,e.prototype)}},aa=class e extends Error{constructor(){super(),this.name="PairingExpiredError",Object.setPrototypeOf(this,e.prototype)}},ao="icDappPairings",al={async get(e){return(await this.getAll())[e]},async getAll(){let e=window.localStorage.getItem(ao);return e?JSON.parse(e):{}},async update(e,t){let r=await this.getAll();void 0===t?delete r[e]:r[e]=t;let n=JSON.stringify(r);window.localStorage.setItem(ao,n)}},ac=["address","application","chainId","fullMessage","message","nonce","prefix","signature"],au=["hash"],ad=/^Sequence number mismatch, expected (?:\S+ to be )?(\d+)/;async function ah(e){return new Promise(t=>{setTimeout(t,e)})}async function ag(e,t,r=1){for(let n=0;n<r;n+=1)try{return await e()}catch(e){t(e)}return e()}var af,ap,ay,aw,am,aA,az,ab,av,aU,a_,aE,aM,aS,aI,aT,aN,ax,ak,aD,aC,aj,aB,aO,aL,aP,aK,aR,aW,aH,aV,aF,aQ,aG,aq,aY,a$,aJ,aZ,aX,a0,a2,a1,a4,a3,a8,a5,a6,a9,a7,oe,ot,or,on,oi,os,oa,oo,ol,oc,ou,od,oh,og=class{constructor({accessors:e=al,axiosConfig:t,defaultNetworkName:r=ri.MAINNET}={}){this.onDisconnectListeners=new Set,this.accessors=e,this.defaultNetworkName=r,this.axiosInstance=m.J.create({baseURL:ar,...t});let n="u">typeof window;this.initPromise=n?this.syncFirstPairing():void 0}async getPairing(e){return(await this.axiosInstance.get(`v1/pairing/${e}/`)).data.data.pairing}async syncFirstPairing(){let e=Object.values(await this.accessors.getAll())[0];if(void 0!==e)try{let{dappSpecificWallet:t,maxDappSequenceNumber:r}=await this.getPairing(e.pairingId);await this.accessors.update(e.accountAddress,{...e,currSequenceNumber:r,dappWalletId:t?.id})}catch{await this.accessors.update(e.accountAddress,void 0)}}async createSigningRequest(e,t,r,n){let i=eT(e.dappEd25519SecretKeyB64),s=eT(e.dappEd25519PublicKeyB64),a=eT(e.accountTransportEd25519PublicKeyB64),o=e.currSequenceNumber+1;return ag(async()=>{let l=await ej(eI(i,eS.Ed25519SecretKey),eI(s,eS.Ed25519PublicKey),eI(a,eS.Ed25519PublicKey),o,{apiVersion:"0.2.0",networkName:r,requestType:t},n),c=await this.axiosInstance.post(`v1/pairing/${e.pairingId}/signing-request/`,l);return await this.accessors.update(e.accountAddress,{...e,currSequenceNumber:o}),c.data.data.signingRequest},e=>{if((0,m.cd)(e)){let t=e.response?.data?.message?.match(ad)?.[1];if(void 0!==t){o=Number(t);return}}throw e})}async getSigningRequest(e){return(await this.axiosInstance.get(`v1/signing-request/${e}/`,{validateStatus:e=>200===e||404===e})).data?.data?.signingRequest}async deletePairing(e,t,r){let n=await ej(t,r,r,0,{},{});await this.axiosInstance.post(`v1/pairing/${e}/delete/`,n,{validateStatus:e=>204===e||404===e})}async cancelSigningRequest(e,t){let r=e.currSequenceNumber,n=eT(e.dappEd25519SecretKeyB64),i=eT(e.dappEd25519PublicKeyB64),s=eT(e.accountTransportEd25519PublicKeyB64),a=await ej(eI(n,eS.Ed25519SecretKey),eI(i,eS.Ed25519PublicKey),eI(s,eS.Ed25519PublicKey),r+1,{},{}),o=await this.axiosInstance.patch(`v1/signing-request/${t}/cancel/`,a);return await this.accessors.update(e.accountAddress,{...e,currSequenceNumber:r+1}),o.data.data.signingRequest}async signRequest(e,t,r,{cancelToken:n,networkName:i}={}){let s;await this.initPromise;let a=await this.accessors.get(e);if(void 0===a)throw Error("The requested account is not paired");try{for(s=await this.createSigningRequest(a,t,i||this.defaultNetworkName,r);"PENDING"===s.status;){if(await ah(2500),n?.cancelled){s.status=ra.CANCELLED;break}s=await this.getSigningRequest(s.id)??s}}catch(t){if((0,m.cd)(t)&&"404"===t.code){for(let t of(await this.accessors.update(e,void 0),this.onDisconnectListeners))t(e);throw new aa}throw t}if("APPROVED"!==s.status)throw new ai(s.status);return function(e,t,r){var n,i;let{encryptedPrivateMessage:s,messageSignature:a,serializedPublicMessage:o}=r,l=JSON.parse(o),c=eT(s.securedB64);if(!function(e,t,r,n){var i,s;let a=new w.h(w.b.fromHexInput(r).toUint8Array()),o=new w.f(n.key);if(i=eB(e,t),s="SECURED_ENVELOPE",!o.verifySignature({message:ex(i,s),signature:a}))throw new eE("Could not verify SecuredEnvelope signature","messageSignature")}(new TextEncoder().encode(o),c,a,e),eN(e.key)!==l._metadata.senderEd25519PublicKeyB64)throw new eE("senderEd25519PublicKey in envelope does not match provided receiverEd25519SecretKey","senderPublicKey");let u=eI(eT(l._metadata.senderX25519PublicKeyB64),"X25519PublicKey"),d={nonce:eT(s.nonceB64),secured:eT(s.securedB64)},h=(n=d.secured,i=d.nonce,JSON.parse(function(e,t,r,n){let i;try{i=z.aw.box.open(r,n,e.key.slice(0,32),t.key.slice(0,32))}catch(e){throw new eM(`Could not decrypt message: ${e.message}`)}if(!i)throw new eM("Could not decrypt message");return new TextDecoder().decode(i)}(u,eI(Z.convertSecretKey(t.key.slice(0,32)),"X25519SecretKey"),n,i)));return eC(l._metadata),eD(h,l),{messageSignature:a,privateMessage:h,publicMessage:l}}(eI(eT(a.accountTransportEd25519PublicKeyB64),eS.Ed25519PublicKey),eI(eT(a.dappEd25519SecretKeyB64),eS.Ed25519SecretKey),s.responseEnvelope).privateMessage}async addPairing({publicKey:e,secretKey:t},r){await this.accessors.update(r.account.accountAddress,{accountAddress:r.account.accountAddress,accountAlias:r.account.userSubmittedAlias??void 0,accountPublicKeyB64:r.account.publicKeyB64,accountTransportEd25519PublicKeyB64:r.account.transportEd25519PublicKeyB64,currSequenceNumber:r.maxDappSequenceNumber,dappEd25519PublicKeyB64:eN(e.key),dappEd25519SecretKeyB64:eN(t.key),dappWalletId:r.dappSpecificWalletId,pairingId:r.id})}async disconnect(e){let t=await this.accessors.get(e);if(void 0===t)throw Error("The specified account is not paired");let r=eT(t.dappEd25519SecretKeyB64),n=eT(t.dappEd25519PublicKeyB64);for(let i of(await this.deletePairing(t.pairingId,eI(r,eS.Ed25519SecretKey),eI(n,eS.Ed25519PublicKey)),await this.accessors.update(e,void 0),this.onDisconnectListeners))i(e)}async signMessage(e,t,r){let n=await this.signRequest(e,rs.SIGN_MESSAGE,t,r);return function(e){let t=new Set(Object.keys(e)),r=ac.filter(e=>!t.has(e));if(r.length>0)throw new as(r)}(n),n}async signTransaction(e,t,r){let n=function(e){if("payload"in e){let t=s3(e.payload)?s8(e.payload):ae(e.payload);return{options:e.options,payload:t}}if("rawTxn"in e)return{rawTxn:at(e.rawTxn)};throw new s6}(t);return function(e){let t=s5(w.V,e.accountAuthenticator);return"rawTxn"in e?{accountAuthenticator:t,rawTxn:s5(w.p,e.rawTxn)}:{accountAuthenticator:t}}(await this.signRequest(e,rs.SIGN_TRANSACTION,n,r))}async signAndSubmitTransaction(e,t,r){let n=function(e){if("payload"in e){let t=s3(e.payload)?s8(e.payload):ae(e.payload);return{options:e.options,payload:t}}if("feePayerAuthenticator"in e)return{feePayerAuthenticator:s8(e.feePayerAuthenticator),rawTxn:at(e.rawTxn)};if("rawTxn"in e)return{rawTxn:at(e.rawTxn)};throw new s6}(t);try{let t=await this.signRequest(e,rs.SIGN_AND_SUBMIT_TRANSACTION,n,r);return function(e){let t=new Set(Object.keys(e)),r=au.filter(e=>!t.has(e));if(r.length>0)throw new as(r)}(t),t}catch(e){throw e instanceof m.ce&&e.response?.data?.message?Error(e.response?.data?.message):e}}async getConnectedAccounts(){return await this.initPromise,Object.values(await this.accessors.getAll()).map(({accountAddress:e,accountEd25519PublicKeyB64:t,accountPublicKeyB64:r})=>({address:w.l.from(e),publicKey:void 0!==r?eO(r):new w.f(eT(t))}))}onDisconnect(e){return this.onDisconnectListeners.add(e),()=>this.onDisconnectListeners.delete(e)}},of=class{constructor({backendBaseURL:e,dappId:t,dappImageURI:r,dappName:n,defaultNetworkName:i=ri.MAINNET,frontendBaseURL:s=ar,provider:a="google",tgWebAppURL:o}={}){this.defaultNetworkName=i,this.dappInfo={domain:window.location.origin,imageURI:r,name:n??document.title},this.transport=new rn(s,a,o),this.dappId=t,this.pairingClient=new og({axiosConfig:{baseURL:e??s},defaultNetworkName:i})}async getKeylessAccounts(){let e=aY.serialize(this.dappInfo),t=await this.transport.sendRequest(e);return a$.deserialize(t).args}async getIcAccounts(){return this.pairingClient.getConnectedAccounts()??[]}async isIcAccount(e){return void 0!==(await this.getIcAccounts()).find(t=>t.address.equals(w.l.from(e)))}async getConnectedAccounts(){return[...await this.getKeylessAccounts(),...await this.getIcAccounts()]}async disconnect(e){if(await this.isIcAccount(e)){let t=w.l.from(e).toString();await this.pairingClient.disconnect(t)}else{let e=aF.serialize(this.dappInfo);await this.transport.sendRequest(e)}}async connect({claimOptions:e,preferredWalletName:t}={}){var r;let n={publicKey:eI((r=z.aw.sign.keyPair()).publicKey,"Ed25519PublicKey"),secretKey:eI(r.secretKey,"Ed25519SecretKey")},i="u">typeof window?window.AC_PREFERRED_WALLET_NAME:void 0,s={claimOptions:e,dappEd25519PublicKeyB64:eN(n.publicKey.key),dappId:this.dappId,preferredWalletName:t??i},a=aH.serialize(this.dappInfo,s),o=await this.transport.sendRequest(a),l=aV.deserialize(o);if("approved"===l.args.status){let{account:e,pairing:t}=l.args.args;return t&&await this.pairingClient.addPairing(n,t),e5({account:e})}return l.args}async signIn(e){let t=aG.serialize(this.dappInfo,e),r=await this.transport.sendRequest(t);return aq.deserialize(r).args}async signMessage(e){let{signerAddress:t}=e;if(await this.isIcAccount(t)){let r,n;let{chainId:i}=e,s=eL(i);try{r=new TextDecoder().decode(e.message),n=new TextDecoder().decode(e.nonce)}catch{throw Error("Only UTF-8 encoded text is supported when using IC")}let{fullMessage:a,signature:o}=await this.pairingClient.signMessage(t.toString(),{address:!0,application:!0,chainId:!0,message:r,nonce:n},{networkName:s}),l=w.b.fromHexInput(o).toUint8Array();return e5({fullMessage:a,signature:l.length===w.h.LENGTH?new w.h(l):w.O.deserialize(new w.a(l))})}let r=a2.serialize(this.dappInfo,e),n=await this.transport.sendRequest(r);return a1.deserialize(n).args}async signTransaction(e){let t="transaction"in e?a4.normalizeArgs(e):e,{signerAddress:r}=e;if(await this.isIcAccount(r)){let{expirationSecondsFromNow:e,expirationTimestamp:n,feePayer:i,gasUnitPrice:s,maxGasAmount:a,network:o,payload:l,secondarySigners:c,sender:u,sequenceNumber:d}=t;if(void 0!==i)throw Error("Sponsored transaction not currently supported");if(c&&c.length>0)throw Error("Multi-agent transactions not currently supported");if(!("bcsToBytes"in l))throw Error("Payload input format is only supported with Keyless accounts.");let h=await this.pairingClient.signTransaction(r.toString(),{options:{expirationSecondsFromNow:e,expirationTimestamp:n,gasUnitPrice:s,maxGasAmount:a,sender:u?.address.toString(),sequenceNumber:void 0!==d?Number(d):void 0},payload:l},{networkName:o});return e5({authenticator:h.accountAuthenticator,rawTransaction:h.rawTxn})}let n=a4.serialize(this.dappInfo,t),i=await this.transport.sendRequest(n);return a3.deserialize(i).args}async signAndSubmitTransaction(e){let{signerAddress:t}=e;if(await this.isIcAccount(t)){let r;let{expirationTimestamp:n,feePayer:i,gasUnitPrice:s,maxGasAmount:a,network:o}=e,l=new w.u({network:o});if(void 0!==i){let n=await an(e.payload,l),o=await (0,w.d)({aptosConfig:l,feePayerAddress:i.address,options:{gasUnitPrice:s,maxGasAmount:a},payload:n,sender:t});r={feePayerAuthenticator:i.authenticator,rawTxn:new w.c(o,[],i.address)}}else r={options:{expirationTimestamp:n,gasUnitPrice:s,maxGasAmount:a},payload:an(e.payload)};let{hash:c}=await this.pairingClient.signAndSubmitTransaction(t.toString(),r,{networkName:o});return e5({txnHash:c})}let r=aX.serialize(this.dappInfo,e),n=await this.transport.sendRequest(r);return a0.deserialize(n).args}},op=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},oy=(e,t,r)=>(op(e,t,"read from private field"),r?r.call(e):t.get(e)),ow=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},om=(e,t,r,n)=>(op(e,t,"write to private field"),t.set(e,r),r),oA=class{constructor({address:e,ansName:t,publicKey:r}){this.chains=K,this.features=[],ow(this,od,void 0),ow(this,oh,void 0),om(this,oh,r),om(this,od,e),this.label=t}get address(){return oy(this,od).toString()}get publicKey(){return oy(this,oh).toUint8Array()}get signingScheme(){if(oy(this,oh) instanceof w.f)return w.E.Ed25519;if(oy(this,oh) instanceof w.F)return w.E.MultiEd25519;if(oy(this,oh) instanceof w.k)return w.E.SingleKey;if(oy(this,oh) instanceof w.S)return w.E.MultiKey;throw Error("Unsupported public key type")}};function oz({address:e,name:t,publicKey:r}){return new P({address:e,ansName:t,publicKey:r})}function ob(e,t){return"dismissed"===e.status?{status:q.REJECTED}:{args:t(e.args),status:q.APPROVED}}od=new WeakMap,oh=new WeakMap;var ov=class e{constructor({claimSecretKey:e,network:t=w.e.MAINNET,preferredWalletName:r,...n}){if(this.version="1.0.0",this.chains=K,this.client=new of(n),!w.i[t])throw Error("Network not supported");let i=new w.u({network:t});this.aptosClient=new w.W(i),this.preferredWalletName=r,this.claimOptions=e?{network:t,secretKey:new w.z(e)}:void 0}static get connectedAccount(){let t=localStorage.getItem(e.connectedAccountStorageKey);if(t)try{let{address:e,publicKey:r}=JSON.parse(t);return new P({address:w.l.from(e),publicKey:eO(r)})}catch{console.warn("Inconsistent state, resetting it"),this.connectedAccount=void 0;return}}static set connectedAccount(t){if(void 0!==t){let r={address:t.address.toString(),publicKey:function(e){let t=new w.n;return ee(t,e),btoa(String.fromCharCode(...t.toUint8Array()))}(t.publicKey)};localStorage.setItem(e.connectedAccountStorageKey,JSON.stringify(r))}else localStorage.removeItem(e.connectedAccountStorageKey)}get accounts(){let{connectedAccount:t}=e;return t?[new oA(t)]:[]}async connect(){let{connectedAccount:t}=e;if(void 0!==t)return{args:t,status:q.APPROVED};let r=await this.client.connect({claimOptions:this.claimOptions,preferredWalletName:this.preferredWalletName});if("dismissed"===r.status)return{status:q.REJECTED};let n=oz(r.args.account);return e.connectedAccount=n,{args:n,status:q.APPROVED}}async disconnect(){let{connectedAccount:t}=e;t&&(await this.client.disconnect(t.address),e.connectedAccount=void 0)}async signIn(t){let r=await this.client.signIn({network:this.aptosClient.config.network,...t});if("dismissed"===r.status)return{status:q.REJECTED};let n=r.args;return e.connectedAccount=n.account,{args:n,status:q.APPROVED}}async getAccount(){let{connectedAccount:t}=e;if(!t)throw new G(F.Unauthorized);return oz(t)}async getNetwork(){let{network:e}=this.aptosClient.config,t=await this.aptosClient.getChainId(),r=w.i[e];return{chainId:t,name:e,url:r}}async signMessage(t){let{connectedAccount:r}=e;if(!r)throw new G(F.Unauthorized);let n=function(e){switch(e){case w.e.MAINNET:return w.r.mainnet;case w.e.TESTNET:return w.r.testnet;default:return w.r.devnet}}(this.aptosClient.config.network),{message:i,nonce:s}=t,a=new TextEncoder,o=a.encode(i),l=a.encode(s),c=await this.client.signMessage({chainId:n,message:o,nonce:l,signerAddress:r.address});if("dismissed"===c.status)return{status:q.REJECTED};let{fullMessage:u,signature:d}=c.args;return{args:{fullMessage:u,signature:d,address:r.address.toString(),application:this.client.dappInfo.domain,chainId:n,message:i,nonce:s,prefix:"APTOS"},status:q.APPROVED}}async signTransaction(t,r){let{connectedAccount:n}=e;if(!n)throw new G(F.Unauthorized);if("bcsToBytes"in t){let e=t.feePayerAddress?{address:t.feePayerAddress}:void 0,r=t.secondarySignerAddresses?.map(e=>({address:e}));return ob(await this.client.signTransaction({feePayer:e,secondarySigners:r,signerAddress:n.address,transaction:t.rawTransaction}),e=>e.authenticator)}return ob(await this.client.signTransaction({...t,signerAddress:n.address}),e=>{let{authenticator:r,rawTransaction:n}=e;if(!n)throw Error("Expected raw transaction in response args");let i=t.secondarySigners??[];return{authenticator:r,rawTransaction:i.length>0?new w.D(n,i.map(e=>e.address),t.feePayer?.address):new w.j(n,t.feePayer?.address)}})}async signAndSubmitTransaction(t){let{gasUnitPrice:r,maxGasAmount:n,payload:i}=t,{connectedAccount:s}=e;if(!s)throw new G(F.Unauthorized);let a=await this.client.signAndSubmitTransaction({gasUnitPrice:r,maxGasAmount:n,network:this.aptosClient.config.network,payload:i,signerAddress:s.address});return"dismissed"===a.status?{status:q.REJECTED}:{args:{hash:a.args.txnHash},status:q.APPROVED}}async onAccountChange(e){}async onNetworkChange(e){}};ov.connectedAccountStorageKey="@aptos-connect/connectedAccount";var oU=ov,o_=class extends oU{constructor(e){super({...e,provider:"google"}),this.name="Continue with Google",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBjbGFzcz0iaF8yMCB3XzIwIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTIzLjU0IDEyLjc2MTNDMjMuNTQgMTEuOTQ1OSAyMy40NjY4IDExLjE2MTggMjMuMzMwOSAxMC40MDkxSDEyLjVWMTQuODU3NUgxOC42ODkxQzE4LjQyMjUgMTYuMjk1IDE3LjYxMjMgMTcuNTEyOSAxNi4zOTQzIDE4LjMyODRWMjEuMjEzOEgyMC4xMTA5QzIyLjI4NTUgMTkuMjExOCAyMy41NCAxNi4yNjM2IDIzLjU0IDEyLjc2MTNaIiBmaWxsPSIjNDI4NUY0Ij48L3BhdGg+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMi40OTk1IDIzLjk5OThDMTUuNjA0NSAyMy45OTk4IDE4LjIwNzcgMjIuOTcgMjAuMTEwNCAyMS4yMTM3TDE2LjM5MzggMTguMzI4MkMxNS4zNjQgMTkuMDE4MiAxNC4wNDY3IDE5LjQyNTkgMTIuNDk5NSAxOS40MjU5QzkuNTA0MjUgMTkuNDI1OSA2Ljk2OTAyIDE3LjQwMyA2LjA2NDcgMTQuNjg0OEgyLjIyMjY2VjE3LjY2NDRDNC4xMTQ5MyAyMS40MjI4IDguMDA0MDIgMjMuOTk5OCAxMi40OTk1IDIzLjk5OThaIiBmaWxsPSIjMzRBODUzIj48L3BhdGg+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjA2NTIzIDE0LjY4NTFDNS44MzUyMyAxMy45OTUxIDUuNzA0NTUgMTMuMjU4MSA1LjcwNDU1IDEyLjUwMDFDNS43MDQ1NSAxMS43NDIyIDUuODM1MjMgMTEuMDA1MSA2LjA2NTIzIDEwLjMxNTFWNy4zMzU1N0gyLjIyMzE4QzEuNDQ0MzIgOC44ODgwNyAxIDEwLjY0NDQgMSAxMi41MDAxQzEgMTQuMzU1OCAxLjQ0NDMyIDE2LjExMjIgMi4yMjMxOCAxNy42NjQ3TDYuMDY1MjMgMTQuNjg1MVoiIGZpbGw9IiNGQkJDMDUiPjwvcGF0aD48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjQ5OTUgNS41NzM4NkMxNC4xODc5IDUuNTczODYgMTUuNzAzOCA2LjE1NDA5IDE2Ljg5NTYgNy4yOTM2NEwyMC4xOTQgMy45OTUyM0MxOC4yMDI0IDIuMTM5NTUgMTUuNTk5MiAxIDEyLjQ5OTUgMUM4LjAwNDAyIDEgNC4xMTQ5MyAzLjU3NzA1IDIuMjIyNjYgNy4zMzU0NUw2LjA2NDcgMTAuMzE1QzYuOTY5MDIgNy41OTY4MiA5LjUwNDI1IDUuNTczODYgMTIuNDk5NSA1LjU3Mzg2WiIgZmlsbD0iI0VBNDMzNSI+PC9wYXRoPjwvc3ZnPg==",this.url="https://aptosconnect.app"}get features(){return{[D]:{connect:this.connect.bind(this),version:"1.0.0"},[C]:{disconnect:this.disconnect.bind(this),version:"1.0.0"},[j]:{account:this.getAccount.bind(this),version:"1.0.0"},[B]:{network:this.getNetwork.bind(this),version:"1.0.0"},[O]:{onAccountChange:this.onAccountChange.bind(this),version:"1.0.0"},[L]:{onNetworkChange:this.onNetworkChange.bind(this),version:"1.0.0"},[T]:{signAndSubmitTransaction:this.signAndSubmitTransaction.bind(this),version:"1.1.0"},[N]:{signIn:this.signIn.bind(this),version:"0.1.0"},[x]:{signMessage:this.signMessage.bind(this),version:"1.0.0"},[k]:{signTransaction:this.signTransaction.bind(this),version:"1.1"}}}},oE=class extends oU{constructor(e){super({...e,provider:"apple"}),this.name="Continue with Apple",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxzdHlsZT4KICAgICAgICBwYXRoIHsKICAgICAgICAgICAgZmlsbDogYmxhY2s7CiAgICAgICAgfQoKICAgICAgICBAbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKSB7CiAgICAgICAgICAgIHBhdGggewogICAgICAgICAgICAgICAgZmlsbDogd2hpdGU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICA8L3N0eWxlPgogICAgPHBhdGgKICAgICAgICBkPSJNMjAuMzkzMiA4LjE4MjQyQzIwLjI1NzggOC4yOTA0MyAxNy44NjggOS42NzUzNyAxNy44NjggMTIuNzU0OUMxNy44NjggMTYuMzE2OCAyMC45MDkgMTcuNTc3IDIxIDE3LjYwODJDMjAuOTg2IDE3LjY4NSAyMC41MTY5IDE5LjMzMzkgMTkuMzk2NiAyMS4wMTQxQzE4LjM5NzcgMjIuNDkyNiAxNy4zNTQ1IDIzLjk2ODggMTUuNzY3NSAyMy45Njg4QzE0LjE4MDQgMjMuOTY4OCAxMy43NzIgMjMuMDIwNyAxMS45Mzk5IDIzLjAyMDdDMTAuMTU0NSAyMy4wMjA3IDkuNTE5NzIgMjQgOC4wNjgwNSAyNEM2LjYxNjM5IDI0IDUuNjAzNDkgMjIuNjMxOSA0LjQzODg5IDIwLjk1MTdDMy4wODk5MiAxOC45Nzg3IDIgMTUuOTEzNiAyIDEzLjAwNDVDMiA4LjMzODQzIDQuOTUwMDEgNS44NjM3OSA3Ljg1MzM0IDUuODYzNzlDOS4zOTYwMiA1Ljg2Mzc5IDEwLjY4MiA2LjkwNTQ5IDExLjY1MDUgNi45MDU0OUMxMi41NzI0IDYuOTA1NDkgMTQuMDEwMSA1LjgwMTM4IDE1Ljc2NTEgNS44MDEzOEMxNi40MzAzIDUuODAxMzggMTguODIwMiA1Ljg2Mzc5IDIwLjM5MzIgOC4xODI0MlpNMTQuOTMxOSAzLjgyNTk4QzE1LjY1NzggMi45NDAyOSAxNi4xNzEyIDEuNzExMzcgMTYuMTcxMiAwLjQ4MjQ0OEMxNi4xNzEyIDAuMzEyMDMxIDE2LjE1NzIgMC4xMzkyMTQgMTYuMTI2OSAwQzE0Ljk0NiAwLjA0NTYwNDYgMTMuNTQxIDAuODA4ODgxIDEyLjY5MzggMS44MTkzOEMxMi4wMjg2IDIuNTk3MDYgMTEuNDA3OCAzLjgyNTk4IDExLjQwNzggNS4wNzE3MUMxMS40MDc4IDUuMjU4OTMgMTEuNDM4MiA1LjQ0NjE0IDExLjQ1MjIgNS41MDYxNUMxMS41MjY4IDUuNTIwNTUgMTEuNjQ4MiA1LjUzNzM1IDExLjc2OTYgNS41MzczNUMxMi44MjkxIDUuNTM3MzUgMTQuMTYxOCA0LjgwNzY4IDE0LjkzMTkgMy44MjU5OFoiIC8+Cjwvc3ZnPg==",this.url="https://aptosconnect.app"}get features(){return{[D]:{connect:this.connect.bind(this),version:"1.0.0"},[C]:{disconnect:this.disconnect.bind(this),version:"1.0.0"},[j]:{account:this.getAccount.bind(this),version:"1.0.0"},[B]:{network:this.getNetwork.bind(this),version:"1.0.0"},[O]:{onAccountChange:this.onAccountChange.bind(this),version:"1.0.0"},[L]:{onNetworkChange:this.onNetworkChange.bind(this),version:"1.0.0"},[T]:{signAndSubmitTransaction:this.signAndSubmitTransaction.bind(this),version:"1.1.0"},[N]:{signIn:this.signIn.bind(this),version:"0.1.0"},[x]:{signMessage:this.signMessage.bind(this),version:"1.0.0"},[k]:{signTransaction:this.signTransaction.bind(this),version:"1.1"}}}};let oM=class{constructor(e={}){this.option=e,this.url="https://www.twallet.ai",this.version="1.0.0",this.name="T wallet",this.icon="data:image/png;base64,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",this.chains=K,this.accounts=[],this.provider="u">typeof window?window.dekey:void 0,this.initializing=!1,this.account=async()=>{var e;let t=await (null==(e=this.provider)?void 0:e.request({method:"aptos_account"}));return{address:t.address,publicKey:t.publicKey}},this.connect=async()=>{var e,t;if(!this.initializing){this.initializing=!0,await r.e(3564).then(r.bind(r,3564));let t=oS(null==(e=this.option)?void 0:e.env);if(!(null!=window&&window.initializeDekeyProvider))throw this.initializing=!1,Error("initializeDekeyProvider not found");await window.initializeDekeyProvider(t),this.provider=window.dekey}if(!await this.checkProvider())return{status:q.REJECTED};let n=await (null==(t=this.provider)?void 0:t.request({method:"aptos_requestAccounts"}));return n?{status:q.APPROVED,args:{address:n.address,publicKey:n.publicKey}}:(await new Promise(e=>setTimeout(e,2e3)),{status:q.REJECTED})},this.checkProvider=async()=>new Promise(e=>{setTimeout(()=>{e(!1)},1e4);let t=setInterval(()=>{this.provider&&(e(!0),clearInterval(t))},100)}),this.network=async()=>{let{chainId:e,name:t,url:r}=await this.provider.request({method:"aptos_network"});return{name:t,chainId:e,url:r}},this.disconnect=async()=>Promise.resolve(),this.signTransaction=async(e,t)=>{try{let t=e.rawTransaction.bcsToBytes(),{concatedSig:r,uncompressedPubkey:n}=await this.provider.request({method:"aptos_signTransaction",params:[Array.from(t)]}),i=new w.m(n),s=new w.s(r),a=new w.Y(new w.k(i),new w.O(s));return Promise.resolve({status:q.APPROVED,args:a})}catch(e){throw e.message}},this.signAndSubmitTransaction=async e=>{let t=e.rawTransaction.bcsToBytes(),r=await this.provider.request({method:"aptos_signAndSubmitTransaction",params:[Array.from(t)]});return{status:q.APPROVED,args:r}},this.signMessage=async e=>{var t;try{let r=await (null==(t=this.provider)?void 0:t.request({method:"aptos_signMessage",params:[e.message]}));return{status:q.APPROVED,args:r}}catch(e){throw e.message}},this.onAccountChange=async()=>Promise.resolve(),this.onNetworkChange=async e=>{let t=async()=>{let{name:t,chainId:r,url:n}=await this.network();e({name:t,chainId:r,url:n})};this.provider.on("chainChanged",()=>{t()})},null!=e&&e.env||e?.registerWallet!==!0||oI(this)}get features(){return{"aptos:connect":{version:"1.0.0",connect:this.connect},"aptos:network":{version:"1.0.0",network:this.network},"aptos:disconnect":{version:"1.0.0",disconnect:this.disconnect},"aptos:signTransaction":{version:"1.0.0",signTransaction:this.signTransaction},"aptos:signAndSubmitTransaction":{version:"1.0.0",signAndSubmitTransaction:this.signAndSubmitTransaction},"aptos:signMessage":{version:"1.0.0",signMessage:this.signMessage},"aptos:onAccountChange":{version:"1.0.0",onAccountChange:this.onAccountChange},"aptos:onNetworkChange":{version:"1.0.0",onNetworkChange:this.onNetworkChange},"aptos:account":{version:"1.0.0",account:this.account}}}},oS=e=>"LOCAL"===e?"http://localhost:5173":"DEV"===e?"https://dev.twallet.ai":"QA"===e?"https://qa.twallet.ai":"https://www.twallet.ai",oI=e=>{typeof window>"u"||function(e){let t=({register:t})=>t(e);try{window.dispatchEvent(new _(t))}catch(e){console.error(`wallet-standard:register-wallet event could not be dispatched
`,e)}try{window.addEventListener("wallet-standard:app-ready",({detail:e})=>t(e))}catch(e){console.error(`wallet-standard:app-ready event listener could not be added
`,e)}}(e)};class oT extends oM{constructor(e={}){super({...e,env:"DEV"}),this.url="https://dev.twallet.ai",this.name="Dev T wallet",e?.registerWallet===!0&&oI(this)}}var oN=class{constructor(){this._listeners={}}on(e,t,r=0){this._listeners[e]||(this._listeners[e]=[]),t._priority=r,-1===this._listeners[e].indexOf(t)&&(this._listeners[e].push(t),this._listeners[e].length>1&&this._listeners[e].sort(this.listenerSorter))}listenerSorter(e,t){return e._priority-t._priority}off(e,t){if(void 0===this._listeners[e])return;if(void 0===t){delete this._listeners[e];return}let r=this._listeners[e].indexOf(t);-1<r&&this._listeners[e].splice(r,1)}trigger(e,t={}){if("string"==typeof e&&(e={type:e,data:"object"==typeof t&&null!==t?t:{}}),"u">typeof this._listeners[e.type])for(let t=this._listeners[e.type].length-1;t>=0;t--)this._listeners[e.type][t](e)}destroy(){this._listeners={}}},ox=class extends oN{constructor(e=100*Math.random()|0){super(),this.id=`BELLHOP:${e}`,this.connected=!1,this.isChild=!0,this.connecting=!1,this.debug=!1,this.origin="*",this.supported=!1,this._sendLater=[],this.iframe=null,this.receive=this.receive.bind(this)}receive(e){if(this.target===e.source){if(this.logDebugMessage(!0,e),"connected"!==e.data){let t=e.data;if("string"==typeof t)try{t=JSON.parse(t)}catch(e){console.warn("Bellhop error: ",e)}this.connected&&"object"==typeof t&&t.type&&this.trigger(t);return}this.onConnectionReceived(e.data)}}onConnectionReceived(e){if(this.connecting=!1,this.connected=!0,!this.isChild){if(!this.target)return;this.target.postMessage(e,this.origin)}for(let e=0;e<this._sendLater.length;e++){let{type:t,data:r}=this._sendLater[e];this.send(t,r)}this._sendLater.length=0,this.trigger("connected")}connect(e,t="*"){this.connecting||(this.disconnect(),this.connecting=!0,e instanceof HTMLIFrameElement&&(this.iframe=e),this.isChild=void 0===e,this.supported=!0,this.isChild&&(this.supported=window!=e),this.origin=t,window.addEventListener("message",this.receive),this.isChild&&(window===this.target?this.trigger("failed"):this.target?.postMessage("connected",this.origin)))}disconnect(){this.connected=!1,this.connecting=!1,this.origin="",this.iframe=null,this.isChild=!0,this._sendLater.length=0,window.removeEventListener("message",this.receive)}send(e,t={}){if("string"!=typeof e)throw"The event type must be a string";let r={type:e,data:t};this.logDebugMessage(!1,r),this.connecting?this._sendLater.push(r):this.target?.postMessage(JSON.stringify(r,(e,t)=>"bigint"==typeof t?t.toString():t),this.origin)}fetch(e,t,r={},n=!1){if(!this.connecting&&!this.connected)throw"No connection, please call connect() first";let i=e=>{n&&this.off(e.type,i),t(e)};this.on(e,i),this.send(e,r)}respond(e,t={},r=!1){let n=this,i=async function(e){r&&n.off(e,i),"function"==typeof t?n.send(e.type,await t()):n.send(e.type,t)};this.on(e,i)}logDebugMessage(e=!1,t){this.debug&&"function"==typeof this.debug?console.log({isChild:this.isChild,received:e,message:t}):this.debug&&console.log(`Bellhop Instance (${this.isChild?"Child":"Parent"}) ${e?"Received":"Sent"}`,t)}destroy(){super.destroy(),this.disconnect(),this._sendLater.length=0}get target(){return this.isChild?window.parent:this.iframe?.contentWindow}},ok="MSafe",oD=class{constructor(e){this.config=e,this.isAIP62Standard=!0,this.version="1.0.0",this.name=ok,this.providerName=ok,this.provider=null,this.icon="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIQAAACECAMAAABmmnOVAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAB4UExURUxpcUe0pke1pke1p0W2oUi1p0e0pk68sEe1pj++q0e0pke1p0e1pke1p0e1p0e1p0e1p0m1qUe0pke1p0e1p0e1p0e1p0e1p0e1pke1p0e1pke1p0e0pka3pEi1p0i2qEq6rEu9rkm4qk3Cs0zAsU7Ftk3Bsk3DtOZUHKYAAAAedFJOUwD4J3kF+/sC/QQb1POTP+wyEVnhvqqdTHDItoVlDC8DDKsAAAdVSURBVHja7VrbQuM6DLTb+NYLlN4oBeLc8/9/eBzookbjNiennKeNHliWTGJFlkcjtWKyySabbLLJJptssskmm2yyvpmkM2f+Fcz8Lx7Q4s6Ye7g/v5jfD0L4sXj9mJ+2m4RWQgsXXrbv6/ePWfj9l30wIvnYr/KmbKpid9wIkcSBifhcr6om4Px587teGCFel21VWK21slmbHWbxBZyY7epCd2bLYiuSX/VhXeVS2/TLrLSt3QoX8+FlV8oLTGbZRiS/uBeHWsn0x7yVRfURWcCJdS1/UDJfGvFb2ZmIeS2tT69N++xJJLgZq8ISSLZrwjzqw8anNmUms+eFcNyJU6tTMpuSpw8nxFulUzDZnsNFBl23soepaEMe3YxSpRGT7UkkzIn3VvYx9TthHvFhJouoE9anM5H0sa+5tT1MWvzGCTHiXMo0aqp6C9fZCc10P4EJ80ggtrQZ4EU556FYlzqCeTQOL8+ZveWELfRlQ2jvtLcMowLmwUAcS+nTWyabfXC0j28UYsxjPjxlnCJY9vdPiBEz5dkNugVyfYwicENkn7KSjrg9w6wWwjwQiBM792C6OQtjWBL1/fa6OQj33wOxWBU6vW+22rLcPJWaY3LCjHfi0PKstJaHItu9CHd9k1nmLDdVvvscEQvgP/5OWWEhN9fCAG0CZrQT9EqWx3X5XPC/2fypt4ITh0ZxTEaYBwuXLexiW6uUB3vZIwsnFpJ56gkzylykcOlAweLM2cvLNpRKLoJSdkJaYu+RWQmbIUz3mhoCdGFm2shKxjCjA4HpZfNXkbjuCHJOrIi9ITcBM4Yrl7lmUe94qbuyr3godHNhZlLGDceoMmDGZmWrGfumQcGbr0ppeXlQ2fNLPxSB5hAzhr3jD5HtQZjvi+8t5GZ9FI7zJuTvGPaOh9OnQaj9bJUCZua6OpQ+H8mpURXc8mg2hz+VyomnHC6zRseJTZZCYu8SYUZUcDhiaUGvarp6DVKvTxYugtEtYYYD8dFKCDcJVhS0SAQB87nLYUs9ae9hXRmyEskyuZa/FUd8n2BxH3NXe4Nk9iBerttKY8S5UhxCRAAYaJiGW88CdaW9tJ5UWRSUUyILwIyTesCIsB93ilR5HCpk6ZDUo61UNuJE957u2lcsUpaacMCMIQsTSWrqbR12A0gWgEGpZ4YC8V7Hux3V307juvwFR+dfjhLmyDDwMhFzkepE9WHdI4JLhwhkYQYwvhgY6zlxoGMF5i93U/ZoBoiQRcMxXaNuRghsrkv6KwQiaKTn2b8VCWD4KUKygJ7hllmW2UbMdJQsXA9jo2SR3Gv7uHTD7B8ggkAWrpcWMUxXkW+3fawuMdPEuhg5mtgBRt8OKWblkUkmZCw6piA8aGInBjFMWTA0rMslGpdxgQg8kkWCGJzqjRxGkAEzx8hCz4RDDCqLqJSpIBCQpvpH3JAA0jDVo5kFDd84Zk8YNv6DauPBi4blptg3MjazGBhDqtiE3nVFA2K/h0BqNtMO8oMRAc4jElAWUJWBVMjZpZi3CgrQkTHzOwUb5hHQ4cNzgF6x0wgKZ2DWYESygzlGSkWKtSow14CiAUftk6ajvQI0cK+XrEhFjr/X+RL7XwvK+JvJIVV4a+twtuURc2Q6BWYWYalGx+iXGiEoUkD3gAFCUTgEJYwTi2f+FF0GCXMR397GrmHhw0J2X7tqai2jbZ3NulP2J/sHOikg21gh61L/TiEz1GmAOIlnvyzP0V4Fuy326Q0UsmUiDB5PlGkh+4nPuY/UtbUSihTlJhu8YCHrFoF4fwlWyn4+sVOsFnedArbIXUcGMwtcyOHxRFkesp9PEz1ryKKql/KXzSx4sfs+nnxeyRqULpAyphMHRo7ebnBmEc9NbLmwCoolf08FWpLIAo8gbRoO35fdUvSWqAdQouEMi5RFo2PjnaHhe+BNYjKeLPhZGLuZvaahYhfB0PBde9CtUBtA/4FEgxNELWQxgDE4m/RdoXyrFCcQRzfekWiy/WClOPZCJ8KQHASlJ/0NKgXB0UrmxFo4LpUbjjnynSU5SHwiNPOdZf119hcq5sQ9GSe7XotjsHcUu8zeLsGY/TiMwE/hMBJc6rFaySiZFwVeBn1fnhkceF1jPFEv+wCBzby3paQ/sPDhhliC0hc0AEOOVuBoV3Kvg29VwIh9vUr95cGs14QT0ih7gWrbvAoXxWjrmaLGkdTqAvF2FTAiqKpaShtMyay90S2T+FlJ27kvfQi0MXGMDJhgStbsGy/UqNcr++2mrfdJ59firWyyosiq1p7Yg3HL67zwqc9qfwr/j2OOdVWkaQc6COFufSUss1or2+Rr02GCI9vzbrV63s8XzAdcITntn21hd8cZQcGL7dsqLbzdzcEHmr7Pd3nZlMX+6YLpfiSLxacQ+GBcQbzMNrPguItCL89YzDZfoJuYsOLTfD3f0JLGGfrnnhHmLjRcHAIZRx7TH4MNrE9QB1hcwznE4FdHnZhssskmm2yyySabbLLJJvt77B/GCxK9lvuH1wAAAABJRU5ErkJggg==",this.chains=K,this.accounts=[],this.bellhop=new ox,this.account=async()=>(console.log("\uD83D\uDE80 ~ MSafeWallet ~ AptosGetAccountMethod:"),this.getCurrentAccountInfo()),this.connect=async()=>(console.log("\uD83D\uDE80 ~ MSafeWallet ~ AptosConnectMethod:"),this.getCurrentAccountInfo().then(e=>({status:q.APPROVED,args:e}))),this.network=async()=>({name:this.config.network,chainId:this.config.network===w.e.MAINNET?1:2}),this.disconnect=async()=>(console.log("\uD83D\uDE80 ~ MSafeWallet ~ disconnect:"),Promise.resolve()),this.signMessage=async e=>(console.log("\uD83D\uDE80 ~ MSafeWallet ~ signMessage:"),this.bellhop.send("signMessage",e),this.fetch("signMessageResponse")),this.signTransaction=async(e,t)=>(console.log("\uD83D\uDE80 ~ MSafeWallet ~ signTransaction:"),this.bellhop.send("signTransaction",{transaction:e,asFeePayer:t}),this.fetch("signTransactionResponse")),this.onAccountChange=async e=>{console.log("\uD83D\uDE80 ~ MSafeWallet ~ onAccountChange ~ listener:",e),this.onAccountChangeInput=e},this.onNetworkChange=async e=>{console.log("\uD83D\uDE80 ~ MSafeWallet ~ onNetworkChange ~ listener:",e),this.onNetworkChangeInput=e};let{network:t,appId:r,appUrl:n}=this.config,i="https://aptos-testnet.m-safe.io/";t!==w.e.TESTNET&&(i="https://aptos.m-safe.io/"),r?this.url=`${i}/store/${r}`:this.url=`${i}/store/0?url=${n}`,this.bellhop.connect(),this.bellhop.on("changeAccount",async e=>{if(console.log("\uD83D\uDE80 ~ MSafeWallet ~ on ~ changeAccount:",e,this.onAccountChangeInput),this.onAccountChangeInput){let t=e.data.address;this.onAccountChangeInput(new P({address:w.l.fromString(t),publicKey:new w.f(t)}))}})}get features(){return{"aptos:connect":{version:"1.0.0",connect:this.connect},"aptos:network":{version:"1.0.0",network:this.network},"aptos:disconnect":{version:"1.0.0",disconnect:this.disconnect},"aptos:signTransaction":{version:"1.0.0",signTransaction:this.signTransaction},"aptos:signAndSubmitTransaction":{version:"1.0.0",signAndSubmitTransaction:this.signAndSubmitTransaction},"aptos:signMessage":{version:"1.0.0",signMessage:this.signMessage},"aptos:onAccountChange":{version:"1.0.0",onAccountChange:this.onAccountChange},"aptos:onNetworkChange":{version:"1.0.0",onNetworkChange:this.onNetworkChange},"aptos:account":{version:"1.0.0",account:this.account}}}async submitTransaction(e){return console.log("\uD83D\uDE80 ~ MSafeWallet ~ submitTransaction:"),this.bellhop.send("submitTransaction",{transaction:e}),this.fetch("submitTransactionResponse")}async signAndSubmitTransaction(e,t){if(console.log("\uD83D\uDE80 ~ MSafeWallet ~ signAndSubmitTransaction:",e),e.rawTransaction){let r=new w.n;e.rawTransaction.serialize(r);let n=w.b.fromHexInput(r.toUint8Array()).toString();this.bellhop.send("signAndSubmitTransaction",{transaction:e,options:t,content:n})}else this.bellhop.send("signAndSubmitTransaction",{transaction:e,options:t});return await this.fetch("signAndSubmitTransactionResponse")}async getCurrentAccountInfo(){this.bellhop.send("connect");let{address:e}=await this.fetch("connectResponse");return console.log("\uD83D\uDE80 ~ MSafeWallet ~ getCurrentAccountInfo ~ address:",e),new P({address:w.l.fromString(e),publicKey:new w.f(e)})}async fetch(e){return new Promise(t=>{this.bellhop.fetch(e,e=>{t(e.data)})})}};function oC(e,t,r,n,i,s,a){try{var o=e[s](a),l=o.value}catch(e){r(e);return}o.done?t(l):Promise.resolve(l).then(n,i)}function oj(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function a(e){oC(s,n,i,a,o,"next",e)}function o(e){oC(s,n,i,a,o,"throw",e)}a(void 0)})}}function oB(e,t,r){var n;return t=oK(t),(n=oG()?Reflect.construct(t,r||[],oK(e).constructor):t.apply(e,r))&&("object"===oF(n)||"function"==typeof n)?n:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function oO(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function oL(e,t,r){return(oL=oG()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&oV(i,r.prototype),i}).apply(null,arguments)}function oP(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}function oK(e){return(oK=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oR(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oV(e,t)}function oW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}function oH(e,t){return t=t??{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function oV(e,t){return(oV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oF(e){return e&&"u">typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function oQ(e){var t="function"==typeof Map?new Map:void 0;return(oQ=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if("u">typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return oL(e,arguments,oK(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),oV(r,e)})(e)}function oG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oG=function(){return!!e})()}function oq(e,t){var r,n,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}var oY="5.5.0",o$=function(){function e(){oO(this,e),this.aptosGAID="G-GNVVWBL3J9",this.injectGA(this.aptosGAID)}return oP(e,[{key:"gtag",value:function(e,t,r){(window.dataLayer||[]).push(arguments)}},{key:"injectGA",value:function(e){if(!(typeof window>"u")&&e){var t=document.getElementsByTagName("head")[0],r=document.createElement("script");r.setAttribute("src","https://www.googletagmanager.com/gtag/js?id=".concat(e));var n=this;r.onload=function(){n.gtag("js",new Date),n.gtag("config","".concat(e),{send_page_view:!1})},t.insertBefore(r,t.children[1])}}}]),e}(),oJ=function(e){function t(e,r){var n;return oO(this,t),(n=oB(this,t,[e])).error=r,n}return oR(t,e),t}(oQ(Error)),oZ=function(e){function t(){var e;return oO(this,t),e=oB(this,t,arguments),e.name="WalletNotSelectedError",e}return oR(t,e),t}(oJ),oX=function(e){function t(){var e;return oO(this,t),e=oB(this,t,arguments),e.name="WalletNotReadyError",e}return oR(t,e),t}(oJ),o0=function(e){function t(){var e;return oO(this,t),e=oB(this,t,arguments),e.name="WalletConnectionError",e}return oR(t,e),t}(oJ),o2=function(e){function t(){var e;return oO(this,t),e=oB(this,t,arguments),e.name="WalletDisconnectionError",e}return oR(t,e),t}(oJ),o1=function(e){function t(){var e;return oO(this,t),e=oB(this,t,arguments),e.name="WalletAccountError",e}return oR(t,e),t}(oJ),o4=function(e){function t(){var e;return oO(this,t),e=oB(this,t,arguments),e.name="WalletGetNetworkError",e}return oR(t,e),t}(oJ),o3=function(e){function t(){var e;return oO(this,t),e=oB(this,t,arguments),e.name="WalletAccountChangeError",e}return oR(t,e),t}(oJ),o8=function(e){function t(){var e;return oO(this,t),e=oB(this,t,arguments),e.name="WalletNetworkChangeError",e}return oR(t,e),t}(oJ),o5=function(e){function t(){var e;return oO(this,t),e=oB(this,t,arguments),e.name="WalletNotConnectedError",e}return oR(t,e),t}(oJ),o6=function(e){function t(){var e;return oO(this,t),e=oB(this,t,arguments),e.name="WalletSignMessageError",e}return oR(t,e),t}(oJ),o9=function(e){function t(){var e;return oO(this,t),e=oB(this,t,arguments),e.name="WalletSignMessageAndVerifyError",e}return oR(t,e),t}(oJ),o7=function(e){function t(){var e;return oO(this,t),e=oB(this,t,arguments),e.name="WalletSignAndSubmitMessageError",e}return oR(t,e),t}(oJ),le=function(e){function t(){var e;return oO(this,t),e=oB(this,t,arguments),e.name="WalletSignTransactionError",e}return oR(t,e),t}(oJ),lt=function(e){function t(){var e;return oO(this,t),e=oB(this,t,arguments),e.name="WalletNotSupportedMethod",e}return oR(t,e),t}(oJ),lr=function(e){function t(){var e;return oO(this,t),e=oB(this,t,arguments),e.name="WalletChangeNetworkError",e}return oR(t,e),t}(oJ),ln=function(e){function t(){var e;return oO(this,t),e=oB(this,t,arguments),e.name="WalletSubmitTransactionError",e}return oR(t,e),t}(oJ),li=function(e){function t(){var e;return oO(this,t),e=oB(this,t,arguments),e.name="WalletNotFoundError",e}return oR(t,e),t}(oJ),ls=((g=ls||{}).Installed="Installed",g.NotDetected="NotDetected",g),la={1:"mainnet",2:"testnet"};function lo(e){return(typeof e>"u"?"undefined":oF(e))==="object"&&"message"in e?e.message:e}var ll=function(e,t){if(!e)throw Error("Undefined network");if(lc(e)){var r=function(e){switch(e?.name){case"mainnet":return w.e.MAINNET;case"testnet":return w.e.TESTNET;case"devnet":return w.e.DEVNET;case"local":return w.e.LOCAL;default:throw Error("Invalid Aptos network name")}}(e);if(lu(r)){var n=t?.aptosApiKeys;return new w.u({network:r,clientConfig:{API_KEY:n?n[r]:void 0}})}return new w.u({network:r})}if(e.url&&Object.values({okx:"https://wallet.okx.com/fullnode/aptos/discover/rpc"}).includes(e.url))return new w.u({network:w.e.CUSTOM,fullnode:e.url});throw Error("Invalid network, network ".concat(e.name," not supported with Aptos wallet adapter to prevent user from using an unexpected network."))},lc=function(e){if(!e)throw Error("Undefined network");return void 0!==w.i[e.name]},lu=function(e){return"devnet"===e||"testnet"===e||"mainnet"===e},ld=(f=oj(function(){return oq(this,function(e){switch(e.label){case 0:return[4,new w.W().getChainId()];case 1:return[2,e.sent()]}})}),function(){return f.apply(this,arguments)}),lh=function(e){var t=e.data.functionArguments[0];"string"==typeof t&&(t=w.b.fromHexInput(t).toUint8Array());var r=e.data.functionArguments[1];if(Array.isArray(r))r=r.map(function(e){return"string"==typeof e?w.b.fromHexInput(e).toUint8Array():e});else throw new o7("The bytecode argument must be an array.").message;return{metadataBytes:t,byteCode:r}},lg="AptosWalletName",lf=[{name:"Nightly",url:"https://nightly.app/",icon:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyOC4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iV2Fyc3R3YV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDg1MS41IDg1MS41IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA4NTEuNSA4NTEuNTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCgkuc3Qwe2ZpbGw6IzYwNjdGOTt9DQoJLnN0MXtmaWxsOiNGN0Y3Rjc7fQ0KPC9zdHlsZT4NCjxnPg0KCTxnIGlkPSJXYXJzdHdhXzJfMDAwMDAwMTQ2MDk2NTQyNTMxODA5NDY0NjAwMDAwMDg2NDc4NTIwMDIxMTY5MTg2ODhfIj4NCgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTEyNCwwaDYwMy42YzY4LjUsMCwxMjQsNTUuNSwxMjQsMTI0djYwMy42YzAsNjguNS01NS41LDEyNC0xMjQsMTI0SDEyNGMtNjguNSwwLTEyNC01NS41LTEyNC0xMjRWMTI0DQoJCQlDMCw1NS41LDU1LjUsMCwxMjQsMHoiLz4NCgk8L2c+DQoJPGcgaWQ9IldhcnN0d2FfMyI+DQoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik02MjMuNSwxNzAuM2MtMzcuNCw1Mi4yLTg0LjIsODguNC0xMzkuNSwxMTIuNmMtMTkuMi01LjMtMzguOS04LTU4LjMtNy44Yy0xOS40LTAuMi0zOS4xLDIuNi01OC4zLDcuOA0KCQkJYy01NS4zLTI0LjMtMTAyLjEtNjAuMy0xMzkuNS0xMTIuNmMtMTEuMywyOC40LTU0LjgsMTI2LjQtMi42LDI2My40YzAsMC0xNi43LDcxLjUsMTQsMTMyLjljMCwwLDQ0LjQtMjAuMSw3OS43LDguMg0KCQkJYzM2LjksMjkuOSwyNS4xLDU4LjcsNTEuMSw4My41YzIyLjQsMjIuOSw1NS43LDIyLjksNTUuNywyMi45czMzLjMsMCw1NS43LTIyLjhjMjYtMjQuNywxNC4zLTUzLjUsNTEuMS04My41DQoJCQljMzUuMi0yOC4zLDc5LjctOC4yLDc5LjctOC4yYzMwLjYtNjEuNCwxNC0xMzIuOSwxNC0xMzIuOUM2NzguMywyOTYuNyw2MzQuOSwxOTguNyw2MjMuNSwxNzAuM3ogTTI1My4xLDQxNC44DQoJCQljLTI4LjQtNTguMy0zNi4yLTEzOC4zLTE4LjMtMjAxLjVjMjMuNyw2MCw1NS45LDg2LjksOTQuMiwxMTUuM0MzMTIuOCwzNjIuMywyODIuMywzOTQuMSwyNTMuMSw0MTQuOHogTTMzNC44LDUxNy41DQoJCQljLTIyLjQtOS45LTI3LjEtMjkuNC0yNy4xLTI5LjRjMzAuNS0xOS4yLDc1LjQtNC41LDc2LjgsNDAuOUMzNjAuOSw1MTQuNywzNTMsNTI1LjQsMzM0LjgsNTE3LjV6IE00MjUuNyw2NzguNw0KCQkJYy0xNiwwLTI5LTExLjUtMjktMjUuNnMxMy0yNS42LDI5LTI1LjZzMjksMTEuNSwyOSwyNS42QzQ1NC43LDY2Ny4zLDQ0MS43LDY3OC43LDQyNS43LDY3OC43eiBNNTE2LjcsNTE3LjUNCgkJCWMtMTguMiw4LTI2LTIuOC00OS43LDExLjVjMS41LTQ1LjQsNDYuMi02MC4xLDc2LjgtNDAuOUM1NDMuOCw0ODgsNTM5LDUwNy42LDUxNi43LDUxNy41eiBNNTk4LjMsNDE0LjgNCgkJCWMtMjkuMS0yMC43LTU5LjctNTIuNC03Ni04Ni4yYzM4LjMtMjguNCw3MC42LTU1LjQsOTQuMi0xMTUuM0M2MzQuNiwyNzYuNSw2MjYuOCwzNTYuNiw1OTguMyw0MTQuOHoiLz4NCgk8L2c+DQo8L2c+DQo8L3N2Zz4NCg==",readyState:"NotDetected",isAIP62Standard:!0,deeplinkProvider:"nightly://v1?network=aptos&url="},{name:"Petra",url:"https://chromewebstore.google.com/detail/petra-aptos-wallet/ejjladinnckdgjemekebdpeokbikhfci?hl=en",icon:"data:image/png;base64,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",readyState:"NotDetected",isAIP62Standard:!0,deeplinkProvider:"https://petra.app/explore?link="},{name:"Pontem Wallet",url:"https://pontem.network/pontem-wallet",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE4IDBDOC4wNzMwNCAwIDAgOC4wNzEzOSAwIDE3Ljk5NjNDMCAyNS4xMjk4IDQuMTczMTYgMzEuMzEwOCAxMC4yMDc2IDM0LjIyMDNWMzQuMjM1MUgxMC4yMzcyQzEyLjU4NiAzNS4zNjQ5IDE1LjIyMjggMzYgMTggMzZDMjcuOTI3IDM2IDM2IDI3LjkyODYgMzYgMTguMDAzN0MzNiA4LjA3MTM4IDI3LjkyNyAwIDE4IDBaTTE4IDEuNDc2OTJDMjcuMTA3MSAxLjQ3NjkyIDM0LjUyMjggOC44OTEwOCAzNC41MjI4IDE3Ljk5NjNDMzQuNTIyOCAyMC42MTA1IDMzLjkwOTcgMjMuMDkxNyAzMi44MjQgMjUuMjkyM0MzMC40NDU2IDI0LjE0MDMgMjguMDMwNCAyMy4yODM3IDI1LjU5MjkgMjIuNzAwM1Y4LjkyMDYyQzI1LjU5MjkgOC40NDA2MiAyNS4yMTYyIDguMDU2NjIgMjQuNzQzNSA4LjA1NjYySDIxLjcxNTJIMTQuMDg1NEgxMS4wNTdDMTAuNTkxNyA4LjA1NjYyIDEwLjIwNzYgOC40NDA2MiAxMC4yMDc2IDguOTIwNjJWMjIuNzY2OEM3Ljg0NDA3IDIzLjM1MDIgNS40OTUyOCAyNC4xOTIgMy4xODM0MiAyNS4yOTk3QzIuMDkwMjcgMjMuMDkxNyAxLjQ3NzIzIDIwLjYxNzggMS40NzcyMyAxNy45OTYzQzEuNDc3MjMgOC44OTEwOCA4Ljg5MjkgMS40NzY5MiAxOCAxLjQ3NjkyWk00LjEzNjIzIDI2Ljk2MTJDNi4wOTM1NiAyNS45OTM4IDguMTI0NzQgMjUuMjQ4IDEwLjIxNSAyNC43MzExVjMyLjU1ODhDNy43NDA2NiAzMS4yMzY5IDUuNjUwMzkgMjkuMzAyMiA0LjEzNjIzIDI2Ljk2MTJaTTE0LjA4NTQgMzQuMDQzMVYxNS42MDM3QzE0LjA4NTQgMTMuNDY5NSAxNS44MzU5IDExLjcwNDYgMTcuOTI2MSAxMS43MDQ2QzIwLjAxNjQgMTEuNzA0NiAyMS43MTUyIDEzLjQzMjYgMjEuNzE1MiAxNS41NTk0QzIxLjcxNTIgMTUuNTc0MiAyMS43MDc4IDE1LjU4ODkgMjEuNzA3OCAxNS42MDM3SDIxLjcxNTJWMjIuMDIwOUMxOS45MzUyIDIxLjgxNDIgMTguMTQ3NyAyMS43NDc3IDE2LjM2MDMgMjEuODQzN0wxNC44OTA0IDIzLjk3NzhDMTcuMTgwMSAyMy43ODU4IDE5LjQxMDcgMjMuODAwNiAyMS42MTE4IDI0LjA1MTdDMjEuNjM0IDI0LjA1MTcgMjEuNjQ4NyAyNC4wNTE3IDIxLjY3MDkgMjQuMDU5MUMyMS42ODU3IDI0LjA1OTEgMjEuNzAwNSAyNC4wNTkxIDIxLjcyMjYgMjQuMDY2NUMyMi4xMDY3IDI0LjExMDggMjMuNTAyNyAyNC4yODggMjQuNzgwNSAyNC42MDU1TDIxLjcyMjYgMjUuNjQ2OFYzNC4xMDIyQzIwLjUyNjEgMzQuMzc1NCAxOS4yODUyIDM0LjUzMDUgMTguMDE0OCAzNC41MzA1QzE2LjY0ODMgMzQuNTE1NyAxNS4zNDEgMzQuMzQ1OCAxNC4wODU0IDM0LjA0MzFaTTI1LjU4NTYgMzIuNjYyMlYyNC43NjhDMjcuNjY4NCAyNS4yOTIzIDI5LjcyOTIgMjYuMDYwMyAzMS43OTczIDI3LjA2NDZDMzAuMjQ2MiAyOS40MjAzIDI4LjEwNDIgMzEuMzU1MSAyNS41ODU2IDMyLjY2MjJaIiBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfMjIyXzE2NzApIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMjIyXzE2NzAiIHgxPSIxNy45OTk3IiB5MT0iMzYuNzc4OSIgeDI9IjE3Ljk5OTciIHkyPSItNS41MTk3OCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBvZmZzZXQ9IjAuMDg1OCIgc3RvcC1jb2xvcj0iIzhEMjlDMSIvPgo8c3RvcCBvZmZzZXQ9IjAuMjM4MyIgc3RvcC1jb2xvcj0iIzk0MkJCQiIvPgo8c3RvcCBvZmZzZXQ9IjAuNDY2NyIgc3RvcC1jb2xvcj0iI0E5MkZBQyIvPgo8c3RvcCBvZmZzZXQ9IjAuNzQxMyIgc3RvcC1jb2xvcj0iI0NBMzc5MyIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGMDNGNzciLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K",readyState:"NotDetected",isAIP62Standard:!0},{name:"Rimosafe",url:"https://chromewebstore.google.com/detail/rimo-safe-wallet/kiicddjcakdmobjkcpppkgcjbpakcagp",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIHZpZXdCb3g9IjAgMCAzMCAzMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiLz4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzLCAzKSBzY2FsZSgwLjgpIj4KICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjkuNTMxMSA5Ljg0MzY5VjBIMTkuNjg3NEwxOS42ODc3IDAuMDAwMzQwNTU1TDAgMC4wMDAzNDE0MTVMNC4zMjEzNGUtMDcgOS44NDQwM0g5Ljg0MzY5QzQuNDA3MTcgOS44NDQwMyAwIDE0LjI1MTIgMCAxOS42ODc3VjMwLjAwMDFIOS44NDM2OVYxOS42ODc5TDE5LjY4NzEgMzAuMDAwMUwxOS42ODcxIDE5LjY4NzdMMjkuNTMwOCA5Ljg0NDAzTDI5LjUzMTEgOS44NDQwM1Y5Ljg0MzY1TDI5LjUzMTEgOS44NDM2OVpNMTkuNjg3MSAxOS42ODc2TDE5LjY4NzEgOS44NDQwM0g5Ljg0MzY5VjE5LjY4NzZIMTkuNjg3MVpNMjkuNTMxMSA5Ljg0MzY1TDE5LjY4NzcgMC4wMDAzNDA1NTVMMjkuNTMxMSAwLjAwMDM0MDEyNVY5Ljg0MzY1Wk0xOS42ODc0IDE5LjY4NzZIMjkuNTMxMVYzMC4wMDAxSDE5LjY4NzRWMTkuNjg3NloiIGZpbGw9IiNGRjVDMjgiLz4KICA8L2c+Cjwvc3ZnPgo=",readyState:"NotDetected",isAIP62Standard:!0},{name:"OKX Wallet",url:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJDSURBVHgB7Zq9jtpAEMfHlhEgQLiioXEkoAGECwoKxMcTRHmC5E3IoyRPkPAEkI7unJYmTgEFTYwA8a3NTKScLnCHN6c9r1e3P2llWQy7M/s1Gv1twCP0ej37dDq9x+Zut1t3t9vZjDEHIiSRSPg4ZpDL5fxkMvn1cDh8m0wmfugfO53OoFQq/crn8wxfY9EymQyrVCqMfHvScZx1p9ls3pFxXBy/bKlUipGPrVbLuQqAfsCliq3zl0H84zwtjQrOw4Mt1W63P5LvBm2d+Xz+YzqdgkqUy+WgWCy+Mc/nc282m4FqLBYL+3g8fjDxenq72WxANZbLJeA13zDX67UDioL5ybXwafMYu64Ltn3bdDweQ5R97fd7GyhBQMipx4POeEDHIu2LfDdBIGGz+hJ9CQ1ABjoA2egAZPM6AgiCAEQhsi/C4jHyPA/6/f5NG3Ks2+3CYDC4aTccDrn6ojG54MnEvG00GoVmWLIRNZ7wTCwDHYBsdACy0QHIhiuRETxlICWpMMhGZHmqS8qH6JLyGegAZKMDkI0uKf8X4SWlaZo+Pp1bRrwlJU8ZKLIvUjKh0WiQ3sRUbNVq9c5Ebew7KEo2m/1p4jJ4qAmDaqDQBzj5XyiAT4VCQezJigAU+IDU+z8vJFnGWeC+bKQV/5VZ71FV6L7PA3gg3tXrdQ+DgLhC+75Wq3no69P3MC0NFQpx2lL04Ql9gHK1bRDjsSBIvScBnDTk1WrlGIZBorIDEYJj+rhdgnQ67VmWRe0zlplXl81vcyEt0rSoYDUAAAAASUVORK5CYII=",readyState:"NotDetected",isAIP62Standard:!0}],lp=function(e){function t(e,r,n){var i,s,a;return oO(this,t),(i=oB(this,t))._wallet=null,i._sdkWallets=[],i._standard_wallets=[],i._standard_not_detected_wallets=[],i._network=null,i._connected=!1,i._connecting=!1,i._account=null,i._optInWallets=[],i._disableTelemetry=!1,i.ga4=null,i._optInWallets=e||[],i._dappConfig=r,i._disableTelemetry=n??!1,i._sdkWallets=(s=i._dappConfig,a=[],"u">typeof window&&a.push(new o_(oW({network:s?.network,dappId:s?.aptosConnectDappId},s?.aptosConnect)),new oE(oW({network:s?.network,dappId:s?.aptosConnectDappId},s?.aptosConnect))),s?.network===w.e.MAINNET?a.push(new oM):a.push(new oT),s?.network&&a.push(new oD(oH(oW({},s?.msafeWalletConfig),{network:s.network}))),a),i._disableTelemetry||(i.ga4=new o$),i.fetchExtensionAIP62AptosWallets(),i.fetchSDKAIP62AptosWallets(),i.appendNotDetectedStandardSupportedWallets(),i}return oR(t,e),oP(t,[{key:"fetchExtensionAIP62AptosWallets",value:function(){var e=H(),t=e.aptosWallets,r=e.on;if(this.setExtensionAIP62Wallets(t),!(typeof window>"u")){var n=this;r("register",function(){var e=H().aptosWallets;n.setExtensionAIP62Wallets(e)}),r("unregister",function(){var e=H().aptosWallets;n.setExtensionAIP62Wallets(e)})}}},{key:"setExtensionAIP62Wallets",value:function(e){var t=this;e.map(function(e){if(!t.excludeWallet(e)&&(t._standard_wallets=t._standard_wallets.filter(function(t){return t.name!==e.name}),W(e))){var r=t._standard_not_detected_wallets.findIndex(function(t){return t.name==e.name});-1!==r&&t._standard_not_detected_wallets.splice(r,1),e.readyState="Installed",t._standard_wallets.push(e),t.emit("standardWalletsAdded",e)}})}},{key:"fetchSDKAIP62AptosWallets",value:function(){var e=this;this._sdkWallets.map(function(t){!e.excludeWallet(t)&&W(t)&&(t.readyState="Installed",e._standard_wallets.push(t))})}},{key:"appendNotDetectedStandardSupportedWallets",value:function(){var e=this;lf.map(function(t){var r=e._standard_wallets.find(function(e){return e.name==t.name});r||e.excludeWallet(t)||r||(e._standard_not_detected_wallets.push(t),e.emit("standardNotDetectedWalletAdded",t))})}},{key:"excludeWallet",value:function(e){return this._optInWallets.length>0&&!this._optInWallets.includes(e.name)}},{key:"recordEvent",value:function(e,t){var r,n,i,s;null===(s=this.ga4)||void 0===s||s.gtag("event","wallet_adapter_".concat(e),oW({wallet:null===(r=this._wallet)||void 0===r?void 0:r.name,network:null===(n=this._network)||void 0===n?void 0:n.name,network_url:null===(i=this._network)||void 0===i?void 0:i.url,adapter_core_version:oY,send_to:"G-GNVVWBL3J9"},t))}},{key:"ensureWalletExists",value:function(e){if(!e)throw new o5().name;if("Installed"!==e.readyState)throw new oX("Wallet is not set").name}},{key:"ensureAccountExists",value:function(e){if(!e)throw new o1("Account is not set").name}},{key:"setAnsName",value:function(){var e=this;return oj(function(){var t,r,n,i,s;return oq(this,function(a){switch(a.label){case 0:if(!(!(null===(t=e._network)||void 0===t)&&t.chainId&&e._account))return[3,4];if(e._account.ansName)return[2];if(!la[e._network.chainId]||!lc(e._network))return e._account.ansName=void 0,[2];r=ll(e._network,e._dappConfig),n=new w.W(r),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.ans.getPrimaryName({address:e._account.address.toString()})];case 2:return i=a.sent(),e._account.ansName=i,[3,4];case 3:return s=a.sent(),console.log("Error setting ANS name ".concat(s)),[3,4];case 4:return[2]}})})()}},{key:"clearData",value:function(){this._connected=!1,this.setWallet(null),this.setAccount(null),this.setNetwork(null),localStorage.removeItem(lg)}},{key:"setWallet",value:function(e){this._wallet=e}},{key:"setAccount",value:function(e){this._account=e}},{key:"setNetwork",value:function(e){this._network=e}},{key:"isConnected",value:function(){return this._connected}},{key:"wallets",get:function(){return this._standard_wallets}},{key:"notDetectedWallets",get:function(){return this._standard_not_detected_wallets}},{key:"wallet",get:function(){try{return this._wallet?this._wallet:null}catch(e){throw new oZ(e).message}}},{key:"account",get:function(){try{return this._account}catch(e){throw new o1(e).message}}},{key:"network",get:function(){try{return this._network}catch(e){throw new o4(e).message}}},{key:"connect",value:function(e){var t=this;return oj(function(){var r,n,i,s,a,o;return oq(this,function(l){switch(l.label){case 0:var c,u;if(!(typeof navigator>"u")&&navigator&&/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/i.test(navigator.userAgent)&&(c=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),u=/(Android).*Version\/[\d.]+.*Chrome\/[^\s]+ Mobile/i.test(navigator.userAgent),!c&&!u)&&(r=t._standard_not_detected_wallets.find(function(t){return t.name===e}))&&(n=r).deeplinkProvider)return i=encodeURIComponent(window.location.href),s=n.deeplinkProvider.concat(i),window.location.href=s,[2];if(!(a=t._standard_wallets.find(function(t){return t.name===e})))return[2];if(t._connected&&t._account&&(null===(o=t._wallet)||void 0===o?void 0:o.name)===e)throw new o0("".concat(e," wallet is already connected")).message;return[4,t.connectWallet(a,oj(function(){var e;return oq(this,function(t){switch(t.label){case 0:return[4,a.features["aptos:connect"].connect()];case 1:if((e=t.sent()).status===q.REJECTED)throw new o0("User has rejected the request").message;return[2,{account:e.args,output:void 0}]}})}))];case 1:return l.sent(),[2]}})})()}},{key:"signIn",value:function(e){var t=this;return oj(function(){var r,n,i;return oq(this,function(s){switch(s.label){case 0:if(r=e.input,n=e.walletName,!(i=t._standard_wallets.find(function(e){return e.name===n})))throw new li("Wallet ".concat(n," not found")).message;if(!i.features["aptos:signIn"])throw new lt("aptos:signIn is not supported by ".concat(n)).message;return[4,t.connectWallet(i,oj(function(){var e;return oq(this,function(t){switch(t.label){case 0:if(!i.features["aptos:signIn"])throw new lt("aptos:signIn is not supported by ".concat(i.name)).message;return[4,i.features["aptos:signIn"].signIn(r)];case 1:if((e=t.sent()).status===q.REJECTED)throw new o0("User has rejected the request").message;return[2,{account:e.args.account,output:e.args}]}})}))];case 1:return[2,s.sent()]}})})()}},{key:"connectWallet",value:function(e,t){var r=this;return oj(function(){var n,i,s,a,o;return oq(this,function(l){switch(l.label){case 0:return l.trys.push([0,4,5,6]),r._connecting=!0,r.setWallet(e),[4,t()];case 1:return i=(n=l.sent()).account,s=n.output,r.setAccount(i),[4,e.features["aptos:network"].network()];case 2:return a=l.sent(),r.setNetwork(a),[4,r.setAnsName()];case 3:var c;return l.sent(),c=e.name,localStorage.setItem(lg,c),r._connected=!0,r.recordEvent("wallet_connect"),r.emit("connect",i),[2,s];case 4:throw o=l.sent(),r.clearData(),new o0(lo(o)).message;case 5:return r._connecting=!1,[7];case 6:return[2]}})})()}},{key:"disconnect",value:function(){var e=this;return oj(function(){return oq(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),e.ensureWalletExists(e._wallet),[4,e._wallet.features["aptos:disconnect"].disconnect()];case 1:return t.sent(),e.clearData(),e.recordEvent("wallet_disconnect"),e.emit("disconnect"),[3,3];case 2:throw new o2(lo(t.sent())).message;case 3:return[2]}})})()}},{key:"signAndSubmitTransaction",value:function(e){var t=this;return oj(function(){var r,n,i,s,a,o,l,c,u,d;return oq(this,function(h){switch(h.label){case 0:if(h.trys.push([0,9,,10]),"function"in e.data){if("0x1::account::rotate_authentication_key_call"===e.data.function)throw new o7("SCAM SITE DETECTED").message;"0x1::code::publish_package_txn"===e.data.function&&(r=lh(e),e.data.functionArguments[0]=r.metadataBytes,e.data.functionArguments[1]=r.byteCode)}return t.ensureWalletExists(t._wallet),t.ensureAccountExists(t._account),t.recordEvent("sign_and_submit_transaction"),t._wallet.features["aptos:signAndSubmitTransaction"]?"1.1.0"===t._wallet.features["aptos:signAndSubmitTransaction"].version?[3,3]:(s=ll(t._network,t._dappConfig),[4,new w.W(s).transaction.build.simple({sender:t._account.address.toString(),data:e.data,options:e.options})]):[3,5];case 1:return a=h.sent(),[4,(0,t._wallet.features["aptos:signAndSubmitTransaction"].signAndSubmitTransaction)(a)];case 2:if((o=h.sent()).status===q.REJECTED)throw new o0("User has rejected the request").message;return[2,o.args];case 3:return[4,t._wallet.features["aptos:signAndSubmitTransaction"].signAndSubmitTransaction({payload:e.data,gasUnitPrice:null===(n=e.options)||void 0===n?void 0:n.gasUnitPrice,maxGasAmount:null===(i=e.options)||void 0===i?void 0:i.maxGasAmount})];case 4:if((l=h.sent()).status===q.REJECTED)throw new o0("User has rejected the request").message;return[2,l.args];case 5:return c=ll(t._network,t._dappConfig),[4,new w.W(c).transaction.build.simple({sender:t._account.address,data:e.data,options:e.options})];case 6:return u=h.sent(),[4,t.signTransaction({transactionOrPayload:u})];case 7:return d=h.sent(),[4,t.submitTransaction({transaction:u,senderAuthenticator:d.authenticator})];case 8:return[2,{hash:h.sent().hash}];case 9:throw new o7(lo(h.sent())).message;case 10:return[2]}})})()}},{key:"signTransaction",value:function(e){var t=this;return oj(function(){var r,n,i,s,a,o,l,c,u,d,h,g,f,p,y,m,A;return oq(this,function(z){switch(z.label){case 0:r=e.transactionOrPayload,n=e.asFeePayer,z.label=1;case 1:return z.trys.push([1,9,,10]),t.ensureWalletExists(t._wallet),t.ensureAccountExists(t._account),t.recordEvent("sign_transaction"),"rawTransaction"in r?[4,null===(s=t._wallet)||void 0===s?void 0:s.features["aptos:signTransaction"].signTransaction(r,n)]:[3,3];case 2:if((a=z.sent()).status===q.REJECTED)throw new o0("User has rejected the request").message;return[2,{authenticator:a.args,rawTransaction:r.rawTransaction.bcsToBytes()}];case 3:return(null===(i=t._wallet.features["aptos:signTransaction"])||void 0===i?void 0:i.version)!=="1.1"?[3,5]:(g={payload:r.data,expirationTimestamp:null===(o=r.options)||void 0===o?void 0:o.expirationTimestamp,expirationSecondsFromNow:null===(l=r.options)||void 0===l?void 0:l.expirationSecondsFromNow,gasUnitPrice:null===(c=r.options)||void 0===c?void 0:c.gasUnitPrice,maxGasAmount:null===(u=r.options)||void 0===u?void 0:u.maxGasAmount,sequenceNumber:null===(d=r.options)||void 0===d?void 0:d.accountSequenceNumber,sender:r.sender?{address:w.l.from(r.sender)}:void 0},[4,(null===(h=t._wallet)||void 0===h?void 0:h.features["aptos:signTransaction"].signTransaction)(g)]);case 4:if((f=z.sent()).status===q.REJECTED)throw new o0("User has rejected the request").message;return[2,{authenticator:f.args.authenticator,rawTransaction:f.args.rawTransaction.bcsToBytes()}];case 5:return y=ll(t._network,t._dappConfig),[4,new w.W(y).transaction.build.simple({sender:t._account.address,data:r.data,options:r.options,withFeePayer:r.withFeePayer})];case 6:return m=z.sent(),[4,null===(p=t._wallet)||void 0===p?void 0:p.features["aptos:signTransaction"].signTransaction(m,n)];case 7:if((A=z.sent()).status===q.REJECTED)throw new o0("User has rejected the request").message;return[2,{authenticator:A.args,rawTransaction:m.bcsToBytes()}];case 8:return[3,10];case 9:throw new le(lo(z.sent())).message;case 10:return[2]}})})()}},{key:"signMessage",value:function(e){var t=this;return oj(function(){var r,n,i;return oq(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),t.ensureWalletExists(t._wallet),t.recordEvent("sign_message"),[4,null===(n=t._wallet)||void 0===n||null===(r=n.features["aptos:signMessage"])||void 0===r?void 0:r.signMessage(e)];case 1:if((i=s.sent()).status===q.REJECTED)throw new o0("User has rejected the request").message;return[2,i.args];case 2:throw new o6(lo(s.sent())).message;case 3:return[2]}})})()}},{key:"submitTransaction",value:function(e){var t=this;return oj(function(){var r,n,i,s,a;return oq(this,function(o){try{return t.ensureWalletExists(t._wallet),r=e.additionalSignersAuthenticators,n=void 0!==r?"multi-agent":"simple",t.recordEvent("submit_transaction",{transaction_type:n}),i=ll(t._network,t._dappConfig),s=new w.W(i),void 0!==r?(a=oH(oW({},e),{additionalSignersAuthenticators:r}),[2,s.transaction.submit.multiAgent(a)]):[2,s.transaction.submit.simple(e)]}catch(e){throw new ln(lo(e)).message}return[2]})})()}},{key:"onAccountChange",value:function(){var e=this;return oj(function(){var t;return oq(this,function(r){switch(r.label){case 0:var n;return r.trys.push([0,2,,3]),e.ensureWalletExists(e._wallet),[4,null===(t=e._wallet.features["aptos:onAccountChange"])||void 0===t?void 0:t.onAccountChange((n=oj(function(t){return oq(this,function(r){switch(r.label){case 0:return e.setAccount(t),[4,e.setAnsName()];case 1:return r.sent(),e.recordEvent("account_change"),e.emit("accountChange",e._account),[2]}})}),function(e){return n.apply(this,arguments)}))];case 1:return r.sent(),[3,3];case 2:throw new o3(lo(r.sent())).message;case 3:return[2]}})})()}},{key:"onNetworkChange",value:function(){var e=this;return oj(function(){var t;return oq(this,function(r){switch(r.label){case 0:var n;return r.trys.push([0,2,,3]),e.ensureWalletExists(e._wallet),[4,null===(t=e._wallet.features["aptos:onNetworkChange"])||void 0===t?void 0:t.onNetworkChange((n=oj(function(t){return oq(this,function(r){switch(r.label){case 0:return e.setNetwork(t),[4,e.setAnsName()];case 1:return r.sent(),e.emit("networkChange",e._network),[2]}})}),function(e){return n.apply(this,arguments)}))];case 1:return r.sent(),[3,3];case 2:throw new o8(lo(r.sent())).message;case 3:return[2]}})})()}},{key:"changeNetwork",value:function(e){var t=this;return oj(function(){var r,n,i,s;return oq(this,function(a){switch(a.label){case 0:return a.trys.push([0,6,,7]),t.ensureWalletExists(t._wallet),t.recordEvent("change_network_request",{from:null===(r=t._network)||void 0===r?void 0:r.name,to:e}),e!==w.e.DEVNET?[3,2]:[4,ld()];case 1:return n=a.sent(),[3,3];case 2:n=w.r[e],a.label=3;case 3:return i={name:e,chainId:n},t._wallet.features["aptos:changeNetwork"]?[4,t._wallet.features["aptos:changeNetwork"].changeNetwork(i)]:[3,5];case 4:if((s=a.sent()).status===q.REJECTED)throw new o0("User has rejected the request").message;return[2,s.args];case 5:throw new lr("".concat(t._wallet.name," does not support changing network request")).message;case 6:throw new lr(lo(a.sent())).message;case 7:return[2]}})})()}},{key:"signMessageAndVerify",value:function(e){var t=this;return oj(function(){var r,n,i;return oq(this,function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),t.ensureWalletExists(t._wallet),t.ensureAccountExists(t._account),t.recordEvent("sign_message_and_verify"),[4,t._wallet.features["aptos:signMessage"].signMessage(e)];case 1:if((r=s.sent()).status===q.REJECTED)throw new o0("Failed to sign a message").message;return n=ll(t._network,t._dappConfig),i=new TextEncoder().encode(r.args.fullMessage),"verifySignatureAsync"in t._account.publicKey?[4,t._account.publicKey.verifySignatureAsync({aptosConfig:n,message:i,signature:r.args.signature,options:{throwErrorWithReason:!0}})]:[3,3];case 2:return[2,s.sent()];case 3:return[2,t._account.publicKey.verifySignature({message:i,signature:r.args.signature})];case 4:throw new o9(lo(s.sent())).message;case 5:return[2]}})})()}}]),t}(I);"u">typeof window&&(window.WALLET_ADAPTER_CORE_VERSION=oY);class ly extends b.W{constructor(e,t){super(),this.selectedAptosWallet=e,this.walletCore=t}static walletCoreFactory(e={network:"mainnet"},t=["Petra","Pontem Wallet","Nightly"]){return new lp(t,e,!0)}getName(){return this.selectedAptosWallet.name}getUrl(){return this.selectedAptosWallet.url}async connect(){return await this.walletCore.connect(this.selectedAptosWallet.name),this.address=this.walletCore.account?.address?.toString(),this.walletCore.on("accountChange",e=>{this.address=e?.address?.toString()}),this.network=this.walletCore.network||void 0,this.walletCore.on("networkChange",e=>{this.network=e||void 0}),this.walletCore.on("disconnect",()=>{this.emit("disconnect")}),this.getAddresses()}getNetworkInfo(){return this.network}isConnected(){return this.walletCore.isConnected()}disconnect(){return this.walletCore.off("accountChange"),this.walletCore.off("networkChange"),this.walletCore.disconnect()}getChainId(){return b.t}getAddress(){return this.address}getAddresses(){let e=this.getAddress();return e?[e]:[]}setMainAddress(){throw Error("Not supported")}getBalance(){throw Error("Not supported")}async signTransaction(e){return(await this.walletCore.signTransaction({transactionOrPayload:e})).authenticator}async sendTransaction(e){let t=await this.walletCore.submitTransaction(e.transaction);return{id:t.hash,data:{hash:t.hash}}}async signAndSendTransaction(e){let t=await this.walletCore.signAndSubmitTransaction(e);return{id:t.hash,data:{hash:t.hash}}}async signMessage(e){return this.walletCore.signMessage(e)}getIcon(){return this.selectedAptosWallet.icon}getWalletState(){let e=this.selectedAptosWallet.readyState||ls.NotDetected;return b.j[e]}getFeatures(){return Object.values(b.B)}supportsChain(e){return e===b.t}}function lw(){let e={network:z.c.isMainnet?"mainnet":"testnet"},t={},r=ly.walletCoreFactory(e);return r.wallets.forEach(e=>{t[e.name]=new ly(e,r)}),t}async function lm(e,t){let r=e.transaction;r.functionArguments=r.functionArguments.map(e=>e instanceof Uint8Array?Array.from(e):"bigint"==typeof e?e.toString():e);let n=await (await (0,z.g)()).getPlatform("Aptos").getRpc("Aptos"),i=await t.signAndSendTransaction({data:r,options:{expireTimestamp:Math.floor(Date.now()/1e3)+300}});return await n.waitForTransaction({transactionHash:i.id}),i}}}]);