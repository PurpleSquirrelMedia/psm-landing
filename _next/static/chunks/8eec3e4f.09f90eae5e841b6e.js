"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2228],{93770:function(e,t,r){r.r(t),r.d(t,{BUTTON_POSITION:function(){return nx},TORUS_BUILD_ENV:function(){return nP},TorusInPageProvider:function(){return nG},default:function(){return n1}});var n=r(73109),i=r(63753),o=r(90686),a=r(27904);r(70165);var s=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,l=Math.ceil,u=Math.floor,d="[BigNumber Error] ",c=d+"Number primitive has more than 15 significant digits: ",f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13];function h(e){var t=0|e;return e>0||e===t?t:t-1}function p(e){for(var t,r,n=1,i=e.length,o=e[0]+"";n<i;){for(r=14-(t=e[n++]+"").length;r--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function g(e,t){var r,n,i=e.c,o=t.c,a=e.s,s=t.s,l=e.e,u=t.e;if(!a||!s)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-s:a;if(a!=s)return a;if(r=a<0,n=l==u,!i||!o)return n?0:!i^r?1:-1;if(!n)return l>u^r?1:-1;for(s=(l=i.length)<(u=o.length)?l:u,a=0;a<s;a++)if(i[a]!=o[a])return i[a]>o[a]^r?1:-1;return l==u?0:l>u^r?1:-1}function b(e,t,r,n){if(e<t||e>r||e!==u(e))throw Error(d+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function y(e){var t=e.c.length-1;return h(e.e/14)==t&&e.c[t]%2!=0}function m(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function w(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(n=e.length,++t>n){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}!function e(t){var r,n,i,o,a,_,v,E,S,A=D.prototype={constructor:D,toString:null,valueOf:null},R=new D(1),I=20,T=4,O=-7,N=21,P=-1e7,x=1e7,C=!1,L=1,k=0,j={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},B="0123456789abcdefghijklmnopqrstuvwxyz",M=!0;function D(e,t){var r,n,i,o,a,l,d,f,h=this;if(!(h instanceof D))return new D(e,t);if(null==t){if(e&&!0===e._isBigNumber){h.s=e.s,!e.c||e.e>x?h.c=h.e=null:e.e<P?h.c=[h.e=0]:(h.e=e.e,h.c=e.c.slice());return}if((l="number"==typeof e)&&0*e==0){if(h.s=1/e<0?(e=-e,-1):1,e===~~e){for(o=0,a=e;a>=10;a/=10,o++);o>x?h.c=h.e=null:(h.e=o,h.c=[e]);return}f=String(e)}else{if(!s.test(f=String(e)))return S(h,f,l);h.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}(o=f.indexOf("."))>-1&&(f=f.replace(".","")),(a=f.search(/e/i))>0?(o<0&&(o=a),o+=+f.slice(a+1),f=f.substring(0,a)):o<0&&(o=f.length)}else{if(b(t,2,B.length,"Base"),10==t&&M)return $(h=new D(e),I+h.e+1,T);if(f=String(e),l="number"==typeof e){if(0*e!=0)return S(h,f,l,t);if(h.s=1/e<0?(f=f.slice(1),-1):1,D.DEBUG&&f.replace(/^0\.0*|\./,"").length>15)throw Error(c+e)}else h.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(r=B.slice(0,t),o=a=0,d=f.length;a<d;a++)if(0>r.indexOf(n=f.charAt(a))){if("."==n){if(a>o){o=d;continue}}else if(!i&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){i=!0,a=-1,o=0;continue}return S(h,String(e),l,t)}l=!1,(o=(f=E(f,t,10,h.s)).indexOf("."))>-1?f=f.replace(".",""):o=f.length}for(a=0;48===f.charCodeAt(a);a++);for(d=f.length;48===f.charCodeAt(--d););if(f=f.slice(a,++d)){if(d-=a,l&&D.DEBUG&&d>15&&(e>9007199254740991||e!==u(e)))throw Error(c+h.s*e);if((o=o-a-1)>x)h.c=h.e=null;else if(o<P)h.c=[h.e=0];else{if(h.e=o,h.c=[],a=(o+1)%14,o<0&&(a+=14),a<d){for(a&&h.c.push(+f.slice(0,a)),d-=14;a<d;)h.c.push(+f.slice(a,a+=14));a=14-(f=f.slice(a)).length}else a-=d;for(;a--;f+="0");h.c.push(+f)}}else h.c=[h.e=0]}function U(e,t,r,n){var i,o,a,s,l;if(null==r?r=T:b(r,0,8),!e.c)return e.toString();if(i=e.c[0],a=e.e,null==t)l=p(e.c),l=1==n||2==n&&(a<=O||a>=N)?m(l,a):w(l,a,"0");else if(o=(e=$(new D(e),t,r)).e,s=(l=p(e.c)).length,1==n||2==n&&(t<=o||o<=O)){for(;s<t;l+="0",s++);l=m(l,o)}else if(t-=a+(2===n&&o>a),l=w(l,o,"0"),o+1>s){if(--t>0)for(l+=".";t--;l+="0");}else if((t+=o-s)>0)for(o+1==s&&(l+=".");t--;l+="0");return e.s<0&&i?"-"+l:l}function W(e,t){for(var r,n,i=1,o=new D(e[0]);i<e.length;i++)(n=new D(e[i])).s&&(r=g(o,n))!==t&&(0!==r||o.s!==t)||(o=n);return o}function F(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+14*r-1)>x?e.c=e.e=null:r<P?e.c=[e.e=0]:(e.e=r,e.c=t),e}function $(e,t,r,n){var i,o,a,s,d,c,h,p=e.c;if(p){e:{for(i=1,s=p[0];s>=10;s/=10,i++);if((o=t-i)<0)o+=14,a=t,h=u((d=p[c=0])/f[i-a-1]%10);else if((c=l((o+1)/14))>=p.length){if(n){for(;p.length<=c;p.push(0));d=h=0,i=1,o%=14,a=o-14+1}else break e}else{for(d=s=p[c],i=1;s>=10;s/=10,i++);o%=14,h=(a=o-14+i)<0?0:u(d/f[i-a-1]%10)}if(n=n||t<0||null!=p[c+1]||(a<0?d:d%f[i-a-1]),n=r<4?(h||n)&&(0==r||r==(e.s<0?3:2)):h>5||5==h&&(4==r||n||6==r&&(o>0?a>0?d/f[i-a]:0:p[c-1])%10&1||r==(e.s<0?8:7)),t<1||!p[0])return p.length=0,n?(t-=e.e+1,p[0]=f[(14-t%14)%14],e.e=-t||0):p[0]=e.e=0,e;if(0==o?(p.length=c,s=1,c--):(p.length=c+1,s=f[14-o],p[c]=a>0?u(d/f[i-a]%f[a])*s:0),n)for(;;)if(0==c){for(o=1,a=p[0];a>=10;a/=10,o++);for(a=p[0]+=s,s=1;a>=10;a/=10,s++);o!=s&&(e.e++,1e14==p[0]&&(p[0]=1));break}else{if(p[c]+=s,1e14!=p[c])break;p[c--]=0,s=1}for(o=p.length;0===p[--o];p.pop());}e.e>x?e.c=e.e=null:e.e<P&&(e.c=[e.e=0])}return e}function q(e){var t,r=e.e;return null===r?e.toString():(t=p(e.c),t=r<=O||r>=N?m(t,r):w(t,r,"0"),e.s<0?"-"+t:t)}return D.clone=e,D.ROUND_UP=0,D.ROUND_DOWN=1,D.ROUND_CEIL=2,D.ROUND_FLOOR=3,D.ROUND_HALF_UP=4,D.ROUND_HALF_DOWN=5,D.ROUND_HALF_EVEN=6,D.ROUND_HALF_CEIL=7,D.ROUND_HALF_FLOOR=8,D.EUCLID=9,D.config=D.set=function(e){var t,r;if(null!=e){if("object"==typeof e){if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(b(r=e[t],0,1e9,t),I=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(b(r=e[t],0,8,t),T=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(b(r[0],-1e9,0,t),b(r[1],0,1e9,t),O=r[0],N=r[1]):(b(r,-1e9,1e9,t),O=-(N=r<0?-r:r))),e.hasOwnProperty(t="RANGE")){if((r=e[t])&&r.pop)b(r[0],-1e9,-1,t),b(r[1],1,1e9,t),P=r[0],x=r[1];else if(b(r,-1e9,1e9,t),r)P=-(x=r<0?-r:r);else throw Error(d+t+" cannot be zero: "+r)}if(e.hasOwnProperty(t="CRYPTO")){if(!!(r=e[t])===r){if(r){if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))C=r;else throw C=!r,Error(d+"crypto unavailable")}else C=r}else throw Error(d+t+" not true or false: "+r)}if(e.hasOwnProperty(t="MODULO_MODE")&&(b(r=e[t],0,9,t),L=r),e.hasOwnProperty(t="POW_PRECISION")&&(b(r=e[t],0,1e9,t),k=r),e.hasOwnProperty(t="FORMAT")){if("object"==typeof(r=e[t]))j=r;else throw Error(d+t+" not an object: "+r)}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(d+t+" invalid: "+r);M="0123456789"==r.slice(0,10),B=r}}else throw Error(d+"Object expected: "+e)}return{DECIMAL_PLACES:I,ROUNDING_MODE:T,EXPONENTIAL_AT:[O,N],RANGE:[P,x],CRYPTO:C,MODULO_MODE:L,POW_PRECISION:k,FORMAT:j,ALPHABET:B}},D.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!D.DEBUG)return!0;var t,r,n=e.c,i=e.e,o=e.s;e:if("[object Array]"==({}).toString.call(n)){if((1===o||-1===o)&&i>=-1e9&&i<=1e9&&i===u(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break e}if((t=(i+1)%14)<1&&(t+=14),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=1e14||r!==u(r))break e;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(d+"Invalid BigNumber: "+e)},D.maximum=D.max=function(){return W(arguments,-1)},D.minimum=D.min=function(){return W(arguments,1)},D.random=(r=9007199254740992*Math.random()&2097151?function(){return u(9007199254740992*Math.random())}:function(){return(1073741824*Math.random()|0)*8388608+(8388608*Math.random()|0)},function(e){var t,n,i,o,a,s=0,c=[],h=new D(R);if(null==e?e=I:b(e,0,1e9),o=l(e/14),C){if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));s<o;)(a=131072*t[s]+(t[s+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[s]=n[0],t[s+1]=n[1]):(c.push(a%1e14),s+=2);s=o/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(o*=7);s<o;)(a=(31&t[s])*281474976710656+1099511627776*t[s+1]+4294967296*t[s+2]+16777216*t[s+3]+(t[s+4]<<16)+(t[s+5]<<8)+t[s+6])>=9e15?crypto.randomBytes(7).copy(t,s):(c.push(a%1e14),s+=7);s=o/7}else throw C=!1,Error(d+"crypto unavailable")}if(!C)for(;s<o;)(a=r())<9e15&&(c[s++]=a%1e14);for(o=c[--s],e%=14,o&&e&&(a=f[14-e],c[s]=u(o/a)*a);0===c[s];c.pop(),s--);if(s<0)c=[i=0];else{for(i=-1;0===c[0];c.splice(0,1),i-=14);for(s=1,a=c[0];a>=10;a/=10,s++);s<14&&(i-=14-s)}return h.e=i,h.c=c,h}),D.sum=function(){for(var e=1,t=arguments,r=new D(t[0]);e<t.length;)r=r.plus(t[e++]);return r},E=function(){var e="0123456789";function t(e,t,r,n){for(var i,o,a=[0],s=0,l=e.length;s<l;){for(o=a.length;o--;a[o]*=t);for(a[0]+=n.indexOf(e.charAt(s++)),i=0;i<a.length;i++)a[i]>r-1&&(null==a[i+1]&&(a[i+1]=0),a[i+1]+=a[i]/r|0,a[i]%=r)}return a.reverse()}return function(r,n,i,o,a){var s,l,u,d,c,f,h,g,b=r.indexOf("."),y=I,m=T;for(b>=0&&(d=k,k=0,r=r.replace(".",""),f=(g=new D(n)).pow(r.length-b),k=d,g.c=t(w(p(f.c),f.e,"0"),10,i,e),g.e=g.c.length),u=d=(h=t(r,n,i,a?(s=B,e):(s=e,B))).length;0==h[--d];h.pop());if(!h[0])return s.charAt(0);if(b<0?--u:(f.c=h,f.e=u,f.s=o,h=(f=v(f,g,y,m,i)).c,c=f.r,u=f.e),b=h[l=u+y+1],d=i/2,c=c||l<0||null!=h[l+1],c=m<4?(null!=b||c)&&(0==m||m==(f.s<0?3:2)):b>d||b==d&&(4==m||c||6==m&&1&h[l-1]||m==(f.s<0?8:7)),l<1||!h[0])r=c?w(s.charAt(1),-y,s.charAt(0)):s.charAt(0);else{if(h.length=l,c)for(--i;++h[--l]>i;)h[l]=0,l||(++u,h=[1].concat(h));for(d=h.length;!h[--d];);for(b=0,r="";b<=d;r+=s.charAt(h[b++]));r=w(r,u,s.charAt(0))}return r}}(),v=function(){function e(e,t,r){var n,i,o,a,s=0,l=e.length,u=t%1e7,d=t/1e7|0;for(e=e.slice();l--;)n=d*(o=e[l]%1e7)+(a=e[l]/1e7|0)*u,s=((i=u*o+n%1e7*1e7+s)/r|0)+(n/1e7|0)+d*a,e[l]=i%r;return s&&(e=[s].concat(e)),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,o,a,s){var l,d,c,f,p,g,b,y,m,w,_,v,E,S,A,R,I,T=n.s==i.s?1:-1,O=n.c,N=i.c;if(!O||!O[0]||!N||!N[0])return new D(n.s&&i.s&&(O?!N||O[0]!=N[0]:N)?O&&0==O[0]||!N?0*T:T/0:NaN);for(m=(y=new D(T)).c=[],T=o+(d=n.e-i.e)+1,s||(s=1e14,d=h(n.e/14)-h(i.e/14),T=T/14|0),c=0;N[c]==(O[c]||0);c++);if(N[c]>(O[c]||0)&&d--,T<0)m.push(1),f=!0;else{for(S=O.length,R=N.length,c=0,T+=2,(p=u(s/(N[0]+1)))>1&&(N=e(N,p,s),O=e(O,p,s),R=N.length,S=O.length),E=R,_=(w=O.slice(0,R)).length;_<R;w[_++]=0);I=[0].concat(I=N.slice()),A=N[0],N[1]>=s/2&&A++;do{if(p=0,(l=t(N,w,R,_))<0){if(v=w[0],R!=_&&(v=v*s+(w[1]||0)),(p=u(v/A))>1)for(p>=s&&(p=s-1),b=(g=e(N,p,s)).length,_=w.length;1==t(g,w,b,_);)p--,r(g,R<b?I:N,b,s),b=g.length,l=1;else 0==p&&(l=p=1),b=(g=N.slice()).length;if(b<_&&(g=[0].concat(g)),r(w,g,_,s),_=w.length,-1==l)for(;1>t(N,w,R,_);)p++,r(w,R<_?I:N,_,s),_=w.length}else 0===l&&(p++,w=[0]);m[c++]=p,w[0]?w[_++]=O[E]||0:(w=[O[E]],_=1)}while((E++<S||null!=w[0])&&T--);f=null!=w[0],m[0]||m.splice(0,1)}if(1e14==s){for(c=1,T=m[0];T>=10;T/=10,c++);$(y,o+(y.e=c+14*d-1)+1,a,f)}else y.e=d,y.r=+f;return y}}(),n=/^(-?)0([xbo])(?=\w[\w.]*$)/i,i=/^([^.]+)\.$/,o=/^\.([^.]+)$/,a=/^-?(Infinity|NaN)$/,_=/^\s*\+(?=[\w.])|^\s+|\s+$/g,S=function(e,t,r,s){var l,u=r?t:t.replace(_,"");if(a.test(u))e.s=isNaN(u)?null:u<0?-1:1;else{if(!r&&(u=u.replace(n,function(e,t,r){return l="x"==(r=r.toLowerCase())?16:"b"==r?2:8,s&&s!=l?e:t}),s&&(l=s,u=u.replace(i,"$1").replace(o,"0.$1")),t!=u))return new D(u,l);if(D.DEBUG)throw Error(d+"Not a"+(s?" base "+s:"")+" number: "+t);e.s=null}e.c=e.e=null},A.absoluteValue=A.abs=function(){var e=new D(this);return e.s<0&&(e.s=1),e},A.comparedTo=function(e,t){return g(this,new D(e,t))},A.decimalPlaces=A.dp=function(e,t){var r,n,i;if(null!=e)return b(e,0,1e9),null==t?t=T:b(t,0,8),$(new D(this),e+this.e+1,t);if(!(r=this.c))return null;if(n=((i=r.length-1)-h(this.e/14))*14,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},A.dividedBy=A.div=function(e,t){return v(this,new D(e,t),I,T)},A.dividedToIntegerBy=A.idiv=function(e,t){return v(this,new D(e,t),0,1)},A.exponentiatedBy=A.pow=function(e,t){var r,n,i,o,a,s,c,f,h,p=this;if((e=new D(e)).c&&!e.isInteger())throw Error(d+"Exponent not an integer: "+q(e));if(null!=t&&(t=new D(t)),s=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return h=new D(Math.pow(+q(p),s?e.s*(2-y(e)):+q(e))),t?h.mod(t):h;if(c=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new D(NaN);(n=!c&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||s&&p.c[1]>=24e7:p.c[0]<8e13||s&&p.c[0]<=9999975e7)))return o=p.s<0&&y(e)?-0:0,p.e>-1&&(o=1/o),new D(c?1/o:o);k&&(o=l(k/14+2))}for(s?(r=new D(.5),c&&(e.s=1),f=y(e)):f=(i=Math.abs(+q(e)))%2,h=new D(R);;){if(f){if(!(h=h.times(p)).c)break;o?h.c.length>o&&(h.c.length=o):n&&(h=h.mod(t))}if(i){if(0===(i=u(i/2)))break;f=i%2}else if($(e=e.times(r),e.e+1,1),e.e>14)f=y(e);else{if(0==(i=+q(e)))break;f=i%2}p=p.times(p),o?p.c&&p.c.length>o&&(p.c.length=o):n&&(p=p.mod(t))}return n?h:(c&&(h=R.div(h)),t?h.mod(t):o?$(h,k,T,a):h)},A.integerValue=function(e){var t=new D(this);return null==e?e=T:b(e,0,8),$(t,t.e+1,e)},A.isEqualTo=A.eq=function(e,t){return 0===g(this,new D(e,t))},A.isFinite=function(){return!!this.c},A.isGreaterThan=A.gt=function(e,t){return g(this,new D(e,t))>0},A.isGreaterThanOrEqualTo=A.gte=function(e,t){return 1===(t=g(this,new D(e,t)))||0===t},A.isInteger=function(){return!!this.c&&h(this.e/14)>this.c.length-2},A.isLessThan=A.lt=function(e,t){return 0>g(this,new D(e,t))},A.isLessThanOrEqualTo=A.lte=function(e,t){return -1===(t=g(this,new D(e,t)))||0===t},A.isNaN=function(){return!this.s},A.isNegative=function(){return this.s<0},A.isPositive=function(){return this.s>0},A.isZero=function(){return!!this.c&&0==this.c[0]},A.minus=function(e,t){var r,n,i,o,a=this.s;if(t=(e=new D(e,t)).s,!a||!t)return new D(NaN);if(a!=t)return e.s=-t,this.plus(e);var s=this.e/14,l=e.e/14,u=this.c,d=e.c;if(!s||!l){if(!u||!d)return u?(e.s=-t,e):new D(d?this:NaN);if(!u[0]||!d[0])return d[0]?(e.s=-t,e):new D(u[0]?this:3==T?-0:0)}if(s=h(s),l=h(l),u=u.slice(),a=s-l){for((o=a<0)?(a=-a,i=u):(l=s,i=d),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(n=(o=(a=u.length)<(t=d.length))?a:t,a=t=0;t<n;t++)if(u[t]!=d[t]){o=u[t]<d[t];break}if(o&&(i=u,u=d,d=i,e.s=-e.s),(t=(n=d.length)-(r=u.length))>0)for(;t--;u[r++]=0);for(t=1e14-1;n>a;){if(u[--n]<d[n]){for(r=n;r&&!u[--r];u[r]=t);--u[r],u[n]+=1e14}u[n]-=d[n]}for(;0==u[0];u.splice(0,1),--l);return u[0]?F(e,u,l):(e.s=3==T?-1:1,e.c=[e.e=0],e)},A.modulo=A.mod=function(e,t){var r,n;return e=new D(e,t),this.c&&e.s&&(!e.c||e.c[0])?e.c&&(!this.c||this.c[0])?(9==L?(n=e.s,e.s=1,r=v(this,e,0,3),e.s=n,r.s*=n):r=v(this,e,0,L),(e=this.minus(r.times(e))).c[0]||1!=L||(e.s=this.s),e):new D(this):new D(NaN)},A.multipliedBy=A.times=function(e,t){var r,n,i,o,a,s,l,u,d,c,f,p,g,b=this.c,y=(e=new D(e,t)).c;if(!b||!y||!b[0]||!y[0])return this.s&&e.s&&(!b||b[0]||y)&&(!y||y[0]||b)?(e.s*=this.s,b&&y?(e.c=[0],e.e=0):e.c=e.e=null):e.c=e.e=e.s=null,e;for(n=h(this.e/14)+h(e.e/14),e.s*=this.s,(l=b.length)<(c=y.length)&&(g=b,b=y,y=g,i=l,l=c,c=i),i=l+c,g=[];i--;g.push(0));for(i=c;--i>=0;){for(r=0,f=y[i]%1e7,p=y[i]/1e7|0,o=i+(a=l);o>i;)s=p*(u=b[--a]%1e7)+(d=b[a]/1e7|0)*f,r=((u=f*u+s%1e7*1e7+g[o]+r)/1e14|0)+(s/1e7|0)+p*d,g[o--]=u%1e14;g[o]=r}return r?++n:g.splice(0,1),F(e,g,n)},A.negated=function(){var e=new D(this);return e.s=-e.s||null,e},A.plus=function(e,t){var r,n=this.s;if(t=(e=new D(e,t)).s,!n||!t)return new D(NaN);if(n!=t)return e.s=-t,this.minus(e);var i=this.e/14,o=e.e/14,a=this.c,s=e.c;if(!i||!o){if(!a||!s)return new D(n/0);if(!a[0]||!s[0])return s[0]?e:new D(a[0]?this:0*n)}if(i=h(i),o=h(o),a=a.slice(),n=i-o){for(n>0?(o=i,r=s):(n=-n,r=a),r.reverse();n--;r.push(0));r.reverse()}for((n=a.length)-(t=s.length)<0&&(r=s,s=a,a=r,t=n),n=0;t;)n=(a[--t]=a[t]+s[t]+n)/1e14|0,a[t]=1e14===a[t]?0:a[t]%1e14;return n&&(a=[n].concat(a),++o),F(e,a,o)},A.precision=A.sd=function(e,t){var r,n,i;if(null!=e&&!!e!==e)return b(e,1,1e9),null==t?t=T:b(t,0,8),$(new D(this),e,t);if(!(r=this.c))return null;if(n=14*(i=r.length-1)+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&this.e+1>n&&(n=this.e+1),n},A.shiftedBy=function(e){return b(e,-9007199254740991,9007199254740991),this.times("1e"+e)},A.squareRoot=A.sqrt=function(){var e,t,r,n,i,o=this.c,a=this.s,s=this.e,l=I+4,u=new D("0.5");if(1!==a||!o||!o[0])return new D(!a||a<0&&(!o||o[0])?NaN:o?this:1/0);if(0==(a=Math.sqrt(+q(this)))||a==1/0?(((t=p(o)).length+s)%2==0&&(t+="0"),a=Math.sqrt(+t),s=h((s+1)/2)-(s<0||s%2),r=new D(t=a==1/0?"5e"+s:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+s)):r=new D(a+""),r.c[0]){for((a=(s=r.e)+l)<3&&(a=0);;)if(i=r,r=u.times(i.plus(v(this,i,l,1))),p(i.c).slice(0,a)===(t=p(r.c)).slice(0,a)){if(r.e<s&&--a,"9999"!=(t=t.slice(a-3,a+1))&&(n||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||($(r,r.e+I+2,1),e=!r.times(r).eq(this));break}if(!n&&($(i,i.e+I+2,0),i.times(i).eq(this))){r=i;break}l+=4,a+=4,n=1}}return $(r,r.e+I+1,T,e)},A.toExponential=function(e,t){return null!=e&&(b(e,0,1e9),e++),U(this,e,t,1)},A.toFixed=function(e,t){return null!=e&&(b(e,0,1e9),e=e+this.e+1),U(this,e,t)},A.toFormat=function(e,t,r){var n;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=j;else if("object"!=typeof r)throw Error(d+"Argument not an object: "+r);if(n=this.toFixed(e,t),this.c){var i,o=n.split("."),a=+r.groupSize,s=+r.secondaryGroupSize,l=r.groupSeparator||"",u=o[0],c=o[1],f=this.s<0,h=f?u.slice(1):u,p=h.length;if(s&&(i=a,a=s,s=i,p-=i),a>0&&p>0){for(i=p%a||a,u=h.substr(0,i);i<p;i+=a)u+=l+h.substr(i,a);s>0&&(u+=l+h.slice(i)),f&&(u="-"+u)}n=c?u+(r.decimalSeparator||"")+((s=+r.fractionGroupSize)?c.replace(RegExp("\\d{"+s+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):c):u}return(r.prefix||"")+n+(r.suffix||"")},A.toFraction=function(e){var t,r,n,i,o,a,s,l,u,c,h,g,b=this.c;if(null!=e&&(!(s=new D(e)).isInteger()&&(s.c||1!==s.s)||s.lt(R)))throw Error(d+"Argument "+(s.isInteger()?"out of range: ":"not an integer: ")+q(s));if(!b)return new D(this);for(t=new D(R),u=r=new D(R),n=l=new D(R),g=p(b),o=t.e=g.length-this.e-1,t.c[0]=f[(a=o%14)<0?14+a:a],e=!e||s.comparedTo(t)>0?o>0?t:u:s,a=x,x=1/0,s=new D(g),l.c[0]=0;c=v(s,t,0,1),1!=(i=r.plus(c.times(n))).comparedTo(e);)r=n,n=i,u=l.plus(c.times(i=u)),l=i,t=s.minus(c.times(i=t)),s=i;return i=v(e.minus(r),n,0,1),l=l.plus(i.times(u)),r=r.plus(i.times(n)),l.s=u.s=this.s,o*=2,h=1>v(u,n,o,T).minus(this).abs().comparedTo(v(l,r,o,T).minus(this).abs())?[u,n]:[l,r],x=a,h},A.toNumber=function(){return+q(this)},A.toPrecision=function(e,t){return null!=e&&b(e,1,1e9),U(this,e,t,2)},A.toString=function(e){var t,r=this,n=r.s,i=r.e;return null===i?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(null==e?t=i<=O||i>=N?m(p(r.c),i):w(p(r.c),i,"0"):10===e&&M?t=w(p((r=$(new D(r),I+i+1,T)).c),r.e,"0"):(b(e,2,B.length,"Base"),t=E(w(p(r.c),i,"0"),10,e,n,!0)),n<0&&r.c[0]&&(t="-"+t)),t},A.valueOf=A.toJSON=function(){return q(this)},A._isBigNumber=!0,A[Symbol.toStringTag]="BigNumber",A[Symbol.for("nodejs.util.inspect.custom")]=A.valueOf,null!=t&&D.set(t),D}();var _,v,E={},S={};function A(){if(v)return _;v=1,_=o,o.default=o,o.stable=l,o.stableStringify=l;var e="[...]",t="[Circular]",r=[],n=[];function i(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function o(o,s,l,d){typeof d>"u"&&(d=i()),function r(n,i,o,s,l,u,d){if(u+=1,"object"==typeof n&&null!==n){for(c=0;c<s.length;c++)if(s[c]===n){a(t,n,i,l);return}if("u">typeof d.depthLimit&&u>d.depthLimit||"u">typeof d.edgesLimit&&o+1>d.edgesLimit){a(e,n,i,l);return}if(s.push(n),Array.isArray(n))for(c=0;c<n.length;c++)r(n[c],c,c,s,n,u,d);else{var c,f=Object.keys(n);for(c=0;c<f.length;c++){var h=f[c];r(n[h],h,c,s,n,u,d)}}s.pop()}}(o,"",0,[],void 0,0,d);try{c=0===n.length?JSON.stringify(o,s,l):JSON.stringify(o,u(s),l)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var c,f=r.pop();4===f.length?Object.defineProperty(f[0],f[1],f[3]):f[0][f[1]]=f[2]}}return c}function a(e,t,i,o){var a=Object.getOwnPropertyDescriptor(o,i);void 0!==a.get?a.configurable?(Object.defineProperty(o,i,{value:e}),r.push([o,i,t,a])):n.push([t,i,e]):(o[i]=e,r.push([o,i,t]))}function s(e,t){return e<t?-1:e>t?1:0}function l(o,l,d,c){typeof c>"u"&&(c=i());var f,h=function n(i,o,l,u,d,c,f){if(c+=1,"object"==typeof i&&null!==i){for(h=0;h<u.length;h++)if(u[h]===i){a(t,i,o,d);return}try{if("function"==typeof i.toJSON)return}catch{return}if("u">typeof f.depthLimit&&c>f.depthLimit||"u">typeof f.edgesLimit&&l+1>f.edgesLimit){a(e,i,o,d);return}if(u.push(i),Array.isArray(i))for(h=0;h<i.length;h++)n(i[h],h,h,u,i,c,f);else{var h,p={},g=Object.keys(i).sort(s);for(h=0;h<g.length;h++){var b=g[h];n(i[b],b,h,u,i,c,f),p[b]=i[b]}if(!("u">typeof d))return p;r.push([d,o,i]),d[o]=p}u.pop()}}(o,"",0,[],void 0,0,c)||o;try{f=0===n.length?JSON.stringify(h,l,d):JSON.stringify(h,u(l),d)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var p=r.pop();4===p.length?Object.defineProperty(p[0],p[1],p[3]):p[0][p[1]]=p[2]}}return f}function u(e){return e="u">typeof e?e:function(e,t){return t},function(t,r){if(n.length>0)for(var i=0;i<n.length;i++){var o=n[i];if(o[1]===t&&o[0]===r){r=o[2],n.splice(i,1);break}}return e.call(this,t,r)}}return _}function R(){if(I)return S;I=1,Object.defineProperty(S,"__esModule",{value:!0}),S.EthereumProviderError=S.EthereumRpcError=void 0;let e=A();class t extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){let e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return e.default(this.serialize(),n,2)}}S.EthereumRpcError=t;class r extends t{constructor(e,t,r){if(!(Number.isInteger(e)&&e>=1e3&&e<=4999))throw Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}function n(e,t){if("[Circular]"!==t)return t}return S.EthereumProviderError=r,S}var I,T,O={},N={};function P(){return T||(T=1,Object.defineProperty(N,"__esModule",{value:!0}),N.errorValues=N.errorCodes=void 0,N.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},N.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}),N}function x(){return C||(C=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;let t=P(),r=R(),n=t.errorCodes.rpc.internal,i={code:n,message:o(n)};function o(r,n="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(r)){let n=r.toString();if(l(t.errorValues,n))return t.errorValues[n].message;if(r>=-32099&&r<=-32e3)return e.JSON_RPC_SERVER_ERROR_MESSAGE}return n}function a(e){if(!Number.isInteger(e))return!1;let r=e.toString();return!!(t.errorValues[r]||e>=-32099&&e<=-32e3)}function s(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",e.getMessageFromCode=o,e.isValidCode=a,e.serializeError=function(e,{fallbackError:t=i,shouldIncludeStack:n=!1}={}){if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw Error("Must provide fallback error with integer number code and string message.");if(e instanceof r.EthereumRpcError)return e.serialize();let u={};if(e&&"object"==typeof e&&!Array.isArray(e)&&l(e,"code")&&a(e.code))u.code=e.code,e.message&&"string"==typeof e.message?(u.message=e.message,l(e,"data")&&(u.data=e.data)):(u.message=o(u.code),u.data={originalError:s(e)});else{u.code=t.code;let r=null==e?void 0:e.message;u.message=r&&"string"==typeof r?r:t.message,u.data={originalError:s(e)}}let d=null==e?void 0:e.stack;return n&&e&&d&&"string"==typeof d&&(u.stack=d),u}}(O)),O}var C,L,k={};function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t,r){var n;return(n=function(e,t){if("object"!=j(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=j(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==j(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach(function(t){B(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var U,W,F,$={exports:{}},q={exports:{}};function H(){if(F)return W;F=1;class e extends Error{constructor(e){if(!Array.isArray(e))throw TypeError(`Expected input to be an Array, got ${typeof e}`);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}
`;super(t),this.name="AggregateError",this.errors=e}}return W={AggregateError:e,ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error,FunctionPrototypeCall:(e,t,...r)=>e.call(t,...r),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),PromiseResolve:e=>Promise.resolve(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Boolean,Uint8Array}}var z,V,G={exports:{}};function K(){return V||(V=1,z={format:(e,...t)=>e.replace(/%([sdifj])/g,function(...[e,r]){let n=t.shift();return"f"===r?n.toFixed(6):"j"===r?JSON.stringify(n):"s"===r&&"object"==typeof n?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()}),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}),z}function J(){if(Z)return Y;Z=1;let{format:e,inspect:t}=K(),{AggregateError:r}=H(),n=globalThis.AggregateError||r,i=Symbol("kIsNodeError"),o=["string","function","number","object","Function","Object","boolean","bigint","symbol"],a=/^([A-Z][a-z0-9]*)+$/,s={};function l(e,t){if(!e)throw new s.ERR_INTERNAL_ASSERTION(t)}function u(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function d(t,r,n){n||(n=Error);class o extends n{constructor(...n){super(function(t,r,n){if("function"==typeof r)return l(r.length<=n.length,`Code: ${t}; The provided arguments length (${n.length}) does not match the required ones (${r.length}).`),r(...n);let i=(r.match(/%[dfijoOs]/g)||[]).length;return l(i===n.length,`Code: ${t}; The provided arguments length (${n.length}) does not match the required ones (${i}).`),0===n.length?r:e(r,...n)}(t,r,n))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(o.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),o.prototype.code=t,o.prototype[i]=!0,s[t]=o}function c(e){let t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class f extends Error{constructor(e="The operation was aborted",t){if(void 0!==t&&"object"!=typeof t)throw new s.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}return d("ERR_ASSERTION","%s",Error),d("ERR_INVALID_ARG_TYPE",(e,r,n)=>{l("string"==typeof e,"'name' must be a string"),Array.isArray(r)||(r=[r]);let i="The ";e.endsWith(" argument")?i+=`${e} `:i+=`"${e}" ${e.includes(".")?"property":"argument"} `,i+="must be ";let s=[],u=[],d=[];for(let e of r)l("string"==typeof e,"All expected entries have to be of type string"),o.includes(e)?s.push(e.toLowerCase()):a.test(e)?u.push(e):(l("object"!==e,'The value "object" should be written as "Object"'),d.push(e));if(u.length>0){let e=s.indexOf("object");-1!==e&&(s.splice(s,e,1),u.push("Object"))}if(s.length>0){switch(s.length){case 1:i+=`of type ${s[0]}`;break;case 2:i+=`one of type ${s[0]} or ${s[1]}`;break;default:{let e=s.pop();i+=`one of type ${s.join(", ")}, or ${e}`}}(u.length>0||d.length>0)&&(i+=" or ")}if(u.length>0){switch(u.length){case 1:i+=`an instance of ${u[0]}`;break;case 2:i+=`an instance of ${u[0]} or ${u[1]}`;break;default:{let e=u.pop();i+=`an instance of ${u.join(", ")}, or ${e}`}}d.length>0&&(i+=" or ")}switch(d.length){case 0:break;case 1:d[0].toLowerCase()!==d[0]&&(i+="an "),i+=`${d[0]}`;break;case 2:i+=`one of ${d[0]} or ${d[1]}`;break;default:{let e=d.pop();i+=`one of ${d.join(", ")}, or ${e}`}}if(null==n)i+=`. Received ${n}`;else if("function"==typeof n&&n.name)i+=`. Received function ${n.name}`;else if("object"==typeof n){var c;if(null!==(c=n.constructor)&&void 0!==c&&c.name)i+=`. Received an instance of ${n.constructor.name}`;else{let e=t(n,{depth:-1});i+=`. Received ${e}`}}else{let e=t(n,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),i+=`. Received type ${typeof n} (${e})`}return i},TypeError),d("ERR_INVALID_ARG_VALUE",(e,r,n="is invalid")=>{let i=t(r);return i.length>128&&(i=i.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${n}. Received ${i}`},TypeError),d("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;let i=null!=r&&null!==(n=r.constructor)&&void 0!==n&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${i}.`},TypeError),d("ERR_MISSING_ARGS",(...e)=>{let t;l(e.length>0,"At least one arg needs to be specified");let r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(e=>`"${e}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{let r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}}return`${t} must be specified`},TypeError),d("ERR_OUT_OF_RANGE",(e,r,n)=>{let i;if(l(r,'Missing "range" argument'),Number.isInteger(n)&&Math.abs(n)>4294967296)i=u(String(n));else if("bigint"==typeof n){i=String(n);let e=BigInt(2)**BigInt(32);(n>e||n<-e)&&(i=u(i)),i+="n"}else i=t(n);return`The value of "${e}" is out of range. It must be ${r}. Received ${i}`},RangeError),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),d("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),d("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),d("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),d("ERR_STREAM_WRITE_AFTER_END","write after end",Error),d("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Y={AbortError:f,aggregateTwoErrors:c(function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;let r=new n([t,e],t.message);return r.code=t.code,r}return e||t}),hideStackFrames:c,codes:s}}var Y,Z,Q,X={exports:{}};function ee(){if(Q)return X.exports;Q=1;let{AbortController:e,AbortSignal:t}="u">typeof self?self:"u">typeof window?window:void 0;return X.exports=e,X.exports.AbortSignal=t,X.exports.default=e,X.exports}function et(){return er||(er=1,function(e){let t=(0,i.w)(),{format:r,inspect:n}=K(),{codes:{ERR_INVALID_ARG_TYPE:a}}=J(),{kResistStopPropagation:s,AggregateError:l,SymbolDispose:u}=H(),d=globalThis.AbortSignal||ee().AbortSignal,c=globalThis.AbortController||ee().AbortController,f=Object.getPrototypeOf(async function(){}).constructor,h=globalThis.Blob||t.Blob,p=(e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new a(t,"AbortSignal",e)},g=(e,t)=>{if("function"!=typeof e)throw new a(t,"Function",e)};e.exports={AggregateError:l,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}},promisify:e=>new Promise((t,r)=>{e((e,...n)=>e?r(e):t(...n))}),debuglog:()=>function(){},format:r,inspect:n,types:{isAsyncFunction:e=>e instanceof f,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:"u">typeof h?function(e){return e instanceof h}:function(e){return!1},deprecate:(e,t)=>e,addAbortListener:(0,o.ab)().addAbortListener||function(e,t){let r;if(void 0===e)throw new a("signal","AbortSignal",e);return p(e,"signal"),g(t,"listener"),e.aborted?queueMicrotask(()=>t()):(e.addEventListener("abort",t,{__proto__:null,once:!0,[s]:!0}),r=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[u](){var e;null===(e=r)||void 0===e||e()}}},AbortSignalAny:d.any||function(e){if(1===e.length)return e[0];let t=new c,r=()=>t.abort();return e.forEach(e=>{p(e,"signals"),e.addEventListener("abort",r,{once:!0})}),t.signal.addEventListener("abort",()=>{e.forEach(e=>e.removeEventListener("abort",r))},{once:!0}),t.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(G)),G.exports}var er,en,ei,eo={};function ea(){if(ei)return en;ei=1;let{ArrayIsArray:e,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:r,ArrayPrototypeMap:n,NumberIsInteger:i,NumberIsNaN:o,NumberMAX_SAFE_INTEGER:a,NumberMIN_SAFE_INTEGER:s,NumberParseInt:l,ObjectPrototypeHasOwnProperty:u,RegExpPrototypeExec:d,String:c,StringPrototypeToUpperCase:f,StringPrototypeTrim:h}=H(),{hideStackFrames:p,codes:{ERR_SOCKET_BAD_PORT:g,ERR_INVALID_ARG_TYPE:b,ERR_INVALID_ARG_VALUE:y,ERR_OUT_OF_RANGE:m,ERR_UNKNOWN_SIGNAL:w}}=J(),{normalizeEncoding:_}=et(),{isAsyncFunction:v,isArrayBufferView:E}=et().types,S={},A=/^[0-7]+$/,R=p((e,t,r=s,n=a)=>{if("number"!=typeof e)throw new b(t,"number",e);if(!i(e))throw new m(t,"an integer",e);if(e<r||e>n)throw new m(t,`>= ${r} && <= ${n}`,e)}),I=p((e,t,r=-2147483648,n=2147483647)=>{if("number"!=typeof e)throw new b(t,"number",e);if(!i(e))throw new m(t,"an integer",e);if(e<r||e>n)throw new m(t,`>= ${r} && <= ${n}`,e)}),T=p((e,t,r=!1)=>{if("number"!=typeof e)throw new b(t,"number",e);if(!i(e))throw new m(t,"an integer",e);let n=r?1:0;if(e<n||e>4294967295)throw new m(t,`>= ${n} && <= 4294967295`,e)});function O(e,t){if("string"!=typeof e)throw new b(t,"string",e)}let N=p((e,i,o)=>{if(!t(o,e))throw new y(i,e,"must be one of: "+r(n(o,e=>"string"==typeof e?`'${e}'`:c(e)),", "))});function P(e,t){if("boolean"!=typeof e)throw new b(t,"boolean",e)}function x(e,t,r){return null!=e&&u(e,t)?e[t]:r}let C=p((t,r,n=null)=>{let i=x(n,"allowArray",!1),o=x(n,"allowFunction",!1);if(!x(n,"nullable",!1)&&null===t||!i&&e(t)||"object"!=typeof t&&(!o||"function"!=typeof t))throw new b(r,"Object",t)}),L=p((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new b(t,"a dictionary",e)}),k=p((t,r,n=0)=>{if(!e(t))throw new b(r,"Array",t);if(t.length<n)throw new y(r,t,`must be longer than ${n}`)}),j=p((e,t="buffer")=>{if(!E(e))throw new b(t,["Buffer","TypedArray","DataView"],e)}),B=p((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new b(t,"AbortSignal",e)}),M=p((e,t)=>{if("function"!=typeof e)throw new b(t,"Function",e)}),D=p((e,t)=>{if("function"!=typeof e||v(e))throw new b(t,"Function",e)}),U=p((e,t)=>{if(void 0!==e)throw new b(t,"undefined",e)}),W=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function F(e,t){if(typeof e>"u"||!d(W,e))throw new y(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return en={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if(typeof e>"u"&&(e=r),"string"==typeof e){if(null===d(A,e))throw new y(t,e,"must be a 32-bit unsigned integer or an octal string");e=l(e,8)}return T(e,t),e},validateArray:k,validateStringArray:function(e,t){k(e,t);for(let r=0;r<e.length;r++)O(e[r],`${t}[${r}]`)},validateBooleanArray:function(e,t){k(e,t);for(let r=0;r<e.length;r++)P(e[r],`${t}[${r}]`)},validateAbortSignalArray:function(e,t){k(e,t);for(let r=0;r<e.length;r++){let n=e[r],i=`${t}[${r}]`;if(null==n)throw new b(i,"AbortSignal",n);B(n,i)}},validateBoolean:P,validateBuffer:j,validateDictionary:L,validateEncoding:function(e,t){let r=_(t),n=e.length;if("hex"===r&&n%2!=0)throw new y("encoding",t,`is invalid for data of length ${n}`)},validateFunction:M,validateInt32:I,validateInteger:R,validateNumber:function(e,t,r,n){if("number"!=typeof e)throw new b(t,"number",e);if(null!=r&&e<r||null!=n&&e>n||(null!=r||null!=n)&&o(e))throw new m(t,`${null!=r?`>= ${r}`:""}${null!=r&&null!=n?" && ":""}${null!=n?`<= ${n}`:""}`,e)},validateObject:C,validateOneOf:N,validatePlainFunction:D,validatePort:function(e,t="Port",r=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===h(e).length||+e!=+e>>>0||e>65535||0===e&&!r)throw new g(t,e,r);return 0|e},validateSignalName:function(e,t="signal"){if(O(e,t),void 0===S[e])throw new w(void 0!==S[f(e)]?e+" (signals must use all capital letters)":e)},validateString:O,validateUint32:T,validateUndefined:U,validateUnion:function(e,n,i){if(!t(i,e))throw new b(n,`('${r(i,"|")}')`,e)},validateAbortSignal:B,validateLinkHeaderValue:function(t){if("string"==typeof t)return F(t,"hints"),t;if(e(t)){let e=t.length,r="";if(0===e)return r;for(let n=0;n<e;n++){let i=t[n];F(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new y("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}}var es,el={exports:{}},eu={exports:{}};function ed(){if(es)return eu.exports;es=1;var e,t,r=eu.exports={};function n(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function o(t){if(e===setTimeout)return setTimeout(t,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch{try{return e.call(null,t,0)}catch{return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:n}catch{e=n}try{t="function"==typeof clearTimeout?clearTimeout:i}catch{t=i}}();var a,s=[],l=!1,u=-1;function d(){l&&a&&(l=!1,a.length?s=a.concat(s):u=-1,s.length&&c())}function c(){if(!l){var e=o(d);l=!0;for(var r=s.length;r;){for(a=s,s=[];++u<r;)a&&a[u].run();u=-1,r=s.length}a=null,l=!1,function(e){if(t===clearTimeout)return clearTimeout(e);if((t===i||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(e);try{t(e)}catch{try{return t.call(null,e)}catch{return t.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function h(){}return r.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new f(e,t)),1!==s.length||l||o(c)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0},eu.exports}function ec(){if(eb)return eg;eb=1;let{SymbolAsyncIterator:e,SymbolIterator:t,SymbolFor:r}=H(),n=r("nodejs.stream.destroyed"),i=r("nodejs.stream.errored"),o=r("nodejs.stream.readable"),a=r("nodejs.stream.writable"),s=r("nodejs.stream.disturbed");function l(e,t=!1){var r;return!!(e&&"function"==typeof e.pipe&&"function"==typeof e.on&&(!t||"function"==typeof e.pause&&"function"==typeof e.resume)&&(!e._writableState||(null===(r=e._readableState)||void 0===r?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function u(e){var t;return!!(e&&"function"==typeof e.write&&"function"==typeof e.on&&(!e._readableState||(null===(t=e._writableState)||void 0===t?void 0:t.writable)!==!1))}function d(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function c(e){return!!(e&&!d(e)&&"function"==typeof e.pipeThrough&&"function"==typeof e.getReader&&"function"==typeof e.cancel)}function f(e){return!!(e&&!d(e)&&"function"==typeof e.getWriter&&"function"==typeof e.abort)}function h(e){return!!(e&&!d(e)&&"object"==typeof e.readable&&"object"==typeof e.writable)}function p(e){if(!d(e))return null;let t=e._writableState,r=e._readableState,i=t||r;return!!(e.destroyed||e[n]||null!=i&&i.destroyed)}function g(e){if(!u(e))return null;if(!0===e.writableEnded)return!0;let t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof t?.ended?null:t.ended)}function b(e,t){if(!l(e))return null;let r=e._readableState;return(null==r||!r.errored)&&("boolean"!=typeof r?.endEmitted?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function y(e){return e&&null!=e[o]?e[o]:"boolean"!=typeof e?.readable?null:!p(e)&&l(e)&&e.readable&&!b(e)}function m(e){return e&&null!=e[a]?e[a]:"boolean"!=typeof e?.writable?null:!p(e)&&u(e)&&e.writable&&!g(e)}function w(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function _(e){return"boolean"==typeof e._sent100&&w(e)}return eg={isDestroyed:p,kIsDestroyed:n,isDisturbed:function(e){var t;return!!(e&&(null!==(t=e[s])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:s,isErrored:function(e){var t,r,n,o,a,s,l,u,d,c;return!!(e&&(null!==(t=null!==(r=null!==(n=null!==(o=null!==(a=null!==(s=e[i])&&void 0!==s?s:e.readableErrored)&&void 0!==a?a:e.writableErrored)&&void 0!==o?o:null===(l=e._readableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==n?n:null===(u=e._writableState)||void 0===u?void 0:u.errorEmitted)&&void 0!==r?r:null===(d=e._readableState)||void 0===d?void 0:d.errored)&&void 0!==t?t:!(null===(c=e._writableState)||void 0===c)&&c.errored))},kIsErrored:i,isReadable:y,kIsReadable:o,kIsClosedPromise:r("nodejs.webstream.isClosedPromise"),kControllerErrorFunction:r("nodejs.webstream.controllerErrorFunction"),kIsWritable:a,isClosed:function(e){if(!d(e))return null;if("boolean"==typeof e.closed)return e.closed;let t=e._writableState,r=e._readableState;return"boolean"==typeof t?.closed||"boolean"==typeof r?.closed?t?.closed||r?.closed:"boolean"==typeof e._closed&&w(e)?e._closed:null},isDuplexNodeStream:function(e){return!!(e&&"function"==typeof e.pipe&&e._readableState&&"function"==typeof e.on&&"function"==typeof e.write)},isFinished:function(e,t){return d(e)?!!p(e)||!(t?.readable!==!1&&y(e)||t?.writable!==!1&&m(e)):null},isIterable:function(r,n){return null!=r&&(!0===n?"function"==typeof r[e]:!1===n?"function"==typeof r[t]:"function"==typeof r[e]||"function"==typeof r[t])},isReadableNodeStream:l,isReadableStream:c,isReadableEnded:function(e){if(!l(e))return null;if(!0===e.readableEnded)return!0;let t=e._readableState;return!!t&&!t.errored&&("boolean"!=typeof t?.ended?null:t.ended)},isReadableFinished:b,isReadableErrored:function(e){var t,r;return d(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:d,isWebStream:function(e){return c(e)||f(e)||h(e)},isWritable:m,isWritableNodeStream:u,isWritableStream:f,isWritableEnded:g,isWritableFinished:function(e,t){if(!u(e))return null;if(!0===e.writableFinished)return!0;let r=e._writableState;return(null==r||!r.errored)&&("boolean"!=typeof r?.finished?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function(e){var t,r;return d(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)===void 0},isServerResponse:_,willEmitClose:function(e){if(!d(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!n&&_(e)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)},isTransformStream:h}}function ef(){let e;if(ey)return el.exports;ey=1;let t=ed(),{AbortError:r,codes:n}=J(),{ERR_INVALID_ARG_TYPE:i,ERR_STREAM_PREMATURE_CLOSE:o}=n,{kEmptyObject:a,once:s}=et(),{validateAbortSignal:l,validateFunction:u,validateObject:d,validateBoolean:c}=ea(),{Promise:f,PromisePrototypeThen:h,SymbolDispose:p}=H(),{isClosed:g,isReadable:b,isReadableNodeStream:y,isReadableStream:m,isReadableFinished:w,isReadableErrored:_,isWritable:v,isWritableNodeStream:E,isWritableStream:S,isWritableFinished:A,isWritableErrored:R,isNodeStream:I,willEmitClose:T,kIsClosedPromise:O}=ec(),N=()=>{};function P(n,c,f){var P,x;if(2==arguments.length?(f=c,c=a):null==c?c=a:d(c,"options"),u(f,"callback"),l(c.signal,"options.signal"),f=s(f),m(n)||S(n))return function(n,i,o){let a=!1,l=N;if(i.signal){if(l=()=>{a=!0,o.call(n,new r(void 0,{cause:i.signal.reason}))},i.signal.aborted)t.nextTick(l);else{let t=(e=e||et().addAbortListener)(i.signal,l),r=o;o=s((...e)=>{t[p](),r.apply(n,e)})}}let u=(...e)=>{a||t.nextTick(()=>o.apply(n,e))};return h(n[O].promise,u,u),N}(n,c,f);if(!I(n))throw new i("stream",["ReadableStream","WritableStream","Stream"],n);let C=null!==(P=c.readable)&&void 0!==P?P:y(n),L=null!==(x=c.writable)&&void 0!==x?x:E(n),k=n._writableState,j=n._readableState,B=()=>{n.writable||U()},M=T(n)&&y(n)===C&&E(n)===L,D=A(n,!1),U=()=>{D=!0,n.destroyed&&(M=!1),M&&(!n.readable||C)||C&&!W||f.call(n)},W=w(n,!1),F=()=>{W=!0,n.destroyed&&(M=!1),M&&(!n.writable||L)||L&&!D||f.call(n)},$=e=>{f.call(n,e)},q=g(n),H=()=>{q=!0;let e=R(n)||_(n);return e&&"boolean"!=typeof e?f.call(n,e):C&&!W&&y(n,!0)&&!w(n,!1)||L&&!D&&!A(n,!1)?f.call(n,new o):void f.call(n)},z=()=>{q=!0;let e=R(n)||_(n);if(e&&"boolean"!=typeof e)return f.call(n,e);f.call(n)},V=()=>{n.req.on("finish",U)};n.setHeader&&"function"==typeof n.abort?(n.on("complete",U),M||n.on("abort",H),n.req?V():n.on("request",V)):L&&!k&&(n.on("end",B),n.on("close",B)),M||"boolean"!=typeof n.aborted||n.on("aborted",H),n.on("end",F),n.on("finish",U),!1!==c.error&&n.on("error",$),n.on("close",H),q?t.nextTick(H):null!=k&&k.errorEmitted||null!=j&&j.errorEmitted?M||t.nextTick(z):(!C&&(!M||b(n))&&(D||!1===v(n))||!L&&(!M||v(n))&&(W||!1===b(n))||j&&n.req&&n.aborted)&&t.nextTick(z);let G=()=>{f=N,n.removeListener("aborted",H),n.removeListener("complete",U),n.removeListener("abort",H),n.removeListener("request",V),n.req&&n.req.removeListener("finish",U),n.removeListener("end",B),n.removeListener("close",B),n.removeListener("finish",U),n.removeListener("end",F),n.removeListener("error",$),n.removeListener("close",H)};if(c.signal&&!q){let i=()=>{let e=f;G(),e.call(n,new r(void 0,{cause:c.signal.reason}))};if(c.signal.aborted)t.nextTick(i);else{let t=(e=e||et().addAbortListener)(c.signal,i),r=f;f=s((...e)=>{t[p](),r.apply(n,e)})}}return G}return el.exports=P,el.exports.finished=function(e,t){var r;let n=!1;return null===t&&(t=a),null!==(r=t)&&void 0!==r&&r.cleanup&&(c(t.cleanup,"cleanup"),n=t.cleanup),new f((r,i)=>{let o=P(e,t,e=>{n&&o(),e?i(e):r()})})},el.exports}function eh(){if(ew)return em;ew=1;let e=ed(),{aggregateTwoErrors:t,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:n}=J(),{Symbol:i}=H(),{kIsDestroyed:o,isDestroyed:a,isFinished:s,isServerRequest:l}=ec(),u=i("kDestroy"),d=i("kConstruct");function c(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function f(t,r,n){let i=!1;function o(r){if(i)return;i=!0;let o=t._readableState,a=t._writableState;c(r,a,o),a&&(a.closed=!0),o&&(o.closed=!0),"function"==typeof n&&n(r),r?e.nextTick(h,t,r):e.nextTick(p,t)}try{t._destroy(r||null,o)}catch(e){o(e)}}function h(e,t){g(e,t),p(e)}function p(e){let t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=r&&r.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function g(e,t){let r=e._readableState,n=e._writableState;null!=n&&n.errorEmitted||null!=r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function b(t,r,n){let i=t._readableState,o=t._writableState;if(null!=o&&o.destroyed||null!=i&&i.destroyed)return this;null!=i&&i.autoDestroy||null!=o&&o.autoDestroy?t.destroy(r):r&&(r.stack,o&&!o.errored&&(o.errored=r),i&&!i.errored&&(i.errored=r),n?e.nextTick(g,t,r):g(t,r))}function y(t){let n=!1;function i(i){if(n){b(t,i??new r);return}n=!0;let o=t._readableState,a=t._writableState,s=a||o;o&&(o.constructed=!0),a&&(a.constructed=!0),s.destroyed?t.emit(u,i):i?b(t,i,!0):e.nextTick(m,t)}try{t._construct(t=>{e.nextTick(i,t)})}catch(t){e.nextTick(i,t)}}function m(e){e.emit(d)}function w(e){return e?.setHeader&&"function"==typeof e.abort}function _(e){e.emit("close")}function v(t,r){t.emit("error",r),e.nextTick(_,t)}return em={construct:function(t,r){if("function"!=typeof t._construct)return;let n=t._readableState,i=t._writableState;n&&(n.constructed=!1),i&&(i.constructed=!1),t.once(d,r),t.listenerCount(d)>1||e.nextTick(y,t)},destroyer:function(t,r){!t||a(t)||(r||s(t)||(r=new n),l(t)?(t.socket=null,t.destroy(r)):w(t)?t.abort():w(t.req)?t.req.abort():"function"==typeof t.destroy?t.destroy(r):"function"==typeof t.close?t.close():r?e.nextTick(v,t,r):e.nextTick(_,t),t.destroyed||(t[o]=!0))},destroy:function(e,r){let n=this._readableState,i=this._writableState,o=i||n;return null!=i&&i.destroyed||null!=n&&n.destroyed?"function"==typeof r&&r():(c(e,i,n),i&&(i.destroyed=!0),n&&(n.destroyed=!0),o.constructed?f(this,e,r):this.once(u,function(n){f(this,t(n,e),r)})),this},undestroy:function(){let e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:b}}function ep(){if(ev)return e_;ev=1;let{ArrayIsArray:e,ObjectSetPrototypeOf:t}=H(),{EventEmitter:r}=(0,o.ab)();function n(e){r.call(this,e)}function i(t,r,n){if("function"==typeof t.prependListener)return t.prependListener(r,n);t._events&&t._events[r]?e(t._events[r])?t._events[r].unshift(n):t._events[r]=[n,t._events[r]]:t.on(r,n)}return t(n.prototype,r.prototype),t(n,r),n.prototype.pipe=function(e,t){let n=this;function o(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function a(){n.readable&&n.resume&&n.resume()}n.on("data",o),e.on("drain",a),e._isStdio||t&&!1===t.end||(n.on("end",l),n.on("close",u));let s=!1;function l(){s||(s=!0,e.end())}function u(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function d(e){c(),0===r.listenerCount(this,"error")&&this.emit("error",e)}function c(){n.removeListener("data",o),e.removeListener("drain",a),n.removeListener("end",l),n.removeListener("close",u),n.removeListener("error",d),e.removeListener("error",d),n.removeListener("end",c),n.removeListener("close",c),e.removeListener("close",c)}return i(n,"error",d),i(e,"error",d),n.on("end",c),n.on("close",c),e.on("close",c),e.emit("pipe",n),e},e_={Stream:n,prependListener:i}}var eg,eb,ey,em,ew,e_,ev,eE,eS={exports:{}};function eA(){return eE||(eE=1,function(e){let t;let{SymbolDispose:r}=H(),{AbortError:n,codes:i}=J(),{isNodeStream:o,isWebStream:a,kControllerErrorFunction:s}=ec(),l=ef(),{ERR_INVALID_ARG_TYPE:u}=i,d=(e,t)=>{if("object"!=typeof e||!("aborted"in e))throw new u(t,"AbortSignal",e)};e.exports.addAbortSignal=function(t,r){if(d(t,"signal"),!o(r)&&!a(r))throw new u("stream",["ReadableStream","WritableStream","Stream"],r);return e.exports.addAbortSignalNoValidate(t,r)},e.exports.addAbortSignalNoValidate=function(e,i){if("object"!=typeof e||!("aborted"in e))return i;let a=o(i)?()=>{i.destroy(new n(void 0,{cause:e.reason}))}:()=>{i[s](new n(void 0,{cause:e.reason}))};return e.aborted?a():l(i,(t=t||et().addAbortListener)(e,a)[r]),i}}(eS)),eS.exports}function eR(){if(eN)return eO;eN=1;let{MathFloor:e,NumberIsInteger:t}=H(),{validateInteger:r}=ea(),{ERR_INVALID_ARG_VALUE:n}=J().codes,i=16384,o=16;function a(e){return e?o:i}return eO={getHighWaterMark:function(r,i,o,s){let l=null!=i.highWaterMark?i.highWaterMark:s?i[o]:null;if(null!=l){if(!t(l)||l<0)throw new n(s?`options.${o}`:"options.highWaterMark",l);return e(l)}return a(r.objectMode)},getDefaultHighWaterMark:a,setDefaultHighWaterMark:function(e,t){r(t,"value",0),e?o=t:i=t}}}var eI,eT,eO,eN,eP,ex={};function eC(){if(eV)return ez;eV=1;let e=ed(),{PromisePrototypeThen:t,SymbolAsyncIterator:r,SymbolIterator:n}=H(),{Buffer:o}=(0,i.w)(),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:s}=J().codes;return ez=function(i,l,u){let d,c;if("string"==typeof l||l instanceof o)return new i({objectMode:!0,...u,read(){this.push(l),this.push(null)}});if(l&&l[r])c=!0,d=l[r]();else if(l&&l[n])c=!1,d=l[n]();else throw new a("iterable",["Iterable"],l);let f=new i({objectMode:!0,highWaterMark:1,...u}),h=!1;async function p(e){let t=null!=e,r="function"==typeof d.throw;if(t&&r){let{value:t,done:r}=await d.throw(e);if(await t,r)return}if("function"==typeof d.return){let{value:e}=await d.return();await e}}async function g(){for(;;){try{let{value:e,done:t}=c?await d.next():d.next();if(t)f.push(null);else{let t=e&&"function"==typeof e.then?await e:e;if(null===t)throw h=!1,new s;if(f.push(t))continue;h=!1}}catch(e){f.destroy(e)}break}}return f._read=function(){h||(h=!0,g())},f._destroy=function(r,n){t(p(r),()=>e.nextTick(n,r),t=>e.nextTick(n,t||r))},f}}function eL(){let e;if(eK)return eG;eK=1;let t=ed(),{ArrayPrototypeIndexOf:r,NumberIsInteger:n,NumberIsNaN:a,NumberParseInt:s,ObjectDefineProperties:l,ObjectKeys:u,ObjectSetPrototypeOf:d,Promise:c,SafeSet:f,SymbolAsyncDispose:h,SymbolAsyncIterator:p,Symbol:g}=H();eG=$,$.ReadableState=F;let{EventEmitter:b}=(0,o.ab)(),{Stream:y,prependListener:m}=ep(),{Buffer:w}=(0,i.w)(),{addAbortSignal:_}=eA(),v=ef(),E=et().debuglog("stream",e=>{E=e}),S=function(){if(eT)return eI;eT=1;let{StringPrototypeSlice:e,SymbolIterator:t,TypedArrayPrototypeSet:r,Uint8Array:n}=H(),{Buffer:o}=(0,i.w)(),{inspect:a}=et();return eI=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){let t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;let e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return o.alloc(0);let t=o.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)r(t,n.data,i),i+=n.data.length,n=n.next;return t}consume(e,t){let r=this.head.data;if(e<r.length){let t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[t](){for(let e=this.head;e;e=e.next)yield e.data}_getString(t){let r="",n=this.head,i=0;do{let o=n.data;if(t>o.length)r+=o,t-=o.length;else{t===o.length?(r+=o,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=e(o,0,t),this.head=n,n.data=e(o,t));break}++i}while(null!==(n=n.next));return this.length-=i,r}_getBuffer(e){let t=o.allocUnsafe(e),i=e,a=this.head,s=0;do{let o=a.data;if(e>o.length)r(t,o,i-e),e-=o.length;else{e===o.length?(r(t,o,i-e),++s,a.next?this.head=a.next:this.head=this.tail=null):(r(t,new n(o.buffer,o.byteOffset,e),i-e),this.head=a,a.data=o.slice(e));break}++s}while(null!==(a=a.next));return this.length-=s,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return a(this,{...t,depth:0,customInspect:!1})}}}(),A=eh(),{getHighWaterMark:R,getDefaultHighWaterMark:I}=eR(),{aggregateTwoErrors:T,codes:{ERR_INVALID_ARG_TYPE:O,ERR_METHOD_NOT_IMPLEMENTED:N,ERR_OUT_OF_RANGE:P,ERR_STREAM_PUSH_AFTER_EOF:x,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:C},AbortError:L}=J(),{validateObject:k}=ea(),j=g("kPaused"),{StringDecoder:B}=function(){if(eP)return ex;eP=1;var e=(0,i.ad)().Buffer,t=e.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(r){var n;switch(this.encoding=function(r){var n=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(r);if("string"!=typeof n&&(e.isEncoding===t||!t(r)))throw Error("Unknown encoding: "+r);return n||r}(r),this.encoding){case"utf16le":this.text=a,this.end=s,n=4;break;case"utf8":this.fillLast=o,n=4;break;case"base64":this.text=l,this.end=u,n=3;break;default:this.write=d,this.end=c;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(n)}function n(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function a(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function s(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function c(e){return e&&e.length?this.write(e):""}return ex.StringDecoder=r,r.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},r.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},r.prototype.text=function(e,t){var r=function(e,t,r){var i=t.length-1;if(i<r)return 0;var o=n(t[i]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--i<r||-2===o?0:(o=n(t[i]))>=0?(o>0&&(e.lastNeed=o-2),o):--i<r||-2===o?0:(o=n(t[i]))>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},r.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},ex}(),M=eC();d($.prototype,y.prototype),d($,y);let D=()=>{},{errorOrDestroy:U}=A;function W(e){return{enumerable:!1,get(){return(this.state&e)!=0},set(t){t?this.state|=e:this.state&=~e}}}function F(e,t,r){"boolean"!=typeof r&&(r=t instanceof ej()),this.state=6192,e&&e.objectMode&&(this.state|=1),r&&e&&e.readableObjectMode&&(this.state|=1),this.highWaterMark=e?R(this,e,"readableHighWaterMark",r):I(!1),this.buffer=new S,this.length=0,this.pipes=[],this.flowing=null,this[j]=null,e&&!1===e.emitClose&&(this.state&=-2049),e&&!1===e.autoDestroy&&(this.state&=-4097),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new B(e.encoding),this.encoding=e.encoding)}function $(e){if(!(this instanceof $))return new $(e);let t=this instanceof ej();this._readableState=new F(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&_(e.signal,this)),y.call(this,e),A.construct(this,()=>{this._readableState.needReadable&&Y(this,this._readableState)})}function q(e,t,r,n){let i;E("readableAddChunk",t);let o=e._readableState;if((1&o.state)==0&&("string"==typeof t?(r=r||o.defaultEncoding,o.encoding!==r&&(n&&o.encoding?t=w.from(t,r).toString(o.encoding):(t=w.from(t,r),r=""))):t instanceof w?r="":y._isUint8Array(t)?(t=y._uint8ArrayToBuffer(t),r=""):null!=t&&(i=new O("chunk",["string","Buffer","Uint8Array"],t))),i)U(e,i);else if(null===t)o.state&=-9,function(e,t){if(E("onEofChunk"),!t.ended){if(t.decoder){let e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?G(e):(t.needReadable=!1,t.emittedReadable=!0,K(e))}}(e,o);else if((1&o.state)!=0||t&&t.length>0){if(n){if((4&o.state)!=0)U(e,new C);else{if(o.destroyed||o.errored)return!1;z(e,o,t,!0)}}else if(o.ended)U(e,new x);else{if(o.destroyed||o.errored)return!1;o.state&=-9,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?z(e,o,t,!1):Y(e,o)):z(e,o,t,!1)}}else n||(o.state&=-9,Y(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function z(e,t,r,n){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?((65536&t.state)!=0?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),(64&t.state)!=0&&G(e)),Y(e,t)}function V(e,t){return e<=0||0===t.length&&t.ended?0:(1&t.state)!=0?1:a(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function G(e){let r=e._readableState;E("emitReadable",r.needReadable,r.emittedReadable),r.needReadable=!1,r.emittedReadable||(E("emitReadable",r.flowing),r.emittedReadable=!0,t.nextTick(K,e))}function K(e){let t=e._readableState;E("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,er(e)}function Y(e,r){!r.readingMore&&r.constructed&&(r.readingMore=!0,t.nextTick(Z,e,r))}function Z(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){let r=t.length;if(E("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function Q(e){let t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[j]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function X(e){E("readable nexttick read 0"),e.read(0)}function ee(e,t){E("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),er(e),t.flowing&&!t.reading&&e.read(0)}function er(e){let t=e._readableState;for(E("flow",t.flowing);t.flowing&&null!==e.read(););}function en(e,t){"function"!=typeof e.read&&(e=$.wrap(e,{objectMode:!0}));let r=ei(e,t);return r.stream=e,r}async function*ei(e,t){let r,n=D;function i(t){this===e?(n(),n=D):n=t}e.on("readable",i);let o=v(e,{writable:!1},e=>{r=e?T(r,e):null,n(),n=D});try{for(;;){let t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(r)throw r;if(null===r)return;await new c(i)}}}catch(e){throw r=T(r,e)}finally{(r||t?.destroyOnReturn!==!1)&&(void 0===r||e._readableState.autoDestroy)?A.destroyer(e,null):(e.off("readable",i),o())}}function eo(e,t){let r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function es(e){let r=e._readableState;E("endReadable",r.endEmitted),r.endEmitted||(r.ended=!0,t.nextTick(el,r,e))}function el(e,r){if(E("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length){if(e.endEmitted=!0,r.emit("end"),r.writable&&!1===r.allowHalfOpen)t.nextTick(eu,r);else if(e.autoDestroy){let e=r._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&r.destroy()}}}function eu(e){!e.writable||e.writableEnded||e.destroyed||e.end()}function ec(){return void 0===e&&(e={}),e}return l(F.prototype,{objectMode:W(1),ended:W(2),endEmitted:W(4),reading:W(8),constructed:W(16),sync:W(32),needReadable:W(64),emittedReadable:W(128),readableListening:W(256),resumeScheduled:W(512),errorEmitted:W(1024),emitClose:W(2048),autoDestroy:W(4096),destroyed:W(8192),closed:W(16384),closeEmitted:W(32768),multiAwaitDrain:W(65536),readingMore:W(131072),dataEmitted:W(262144)}),$.prototype.destroy=A.destroy,$.prototype._undestroy=A.undestroy,$.prototype._destroy=function(e,t){t(e)},$.prototype[b.captureRejectionSymbol]=function(e){this.destroy(e)},$.prototype[h]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new L,this.destroy(e)),new c((t,r)=>v(this,n=>n&&n!==e?r(n):t(null)))},$.prototype.push=function(e,t){return q(this,e,t,!1)},$.prototype.unshift=function(e,t){return q(this,e,t,!0)},$.prototype.isPaused=function(){let e=this._readableState;return!0===e[j]||!1===e.flowing},$.prototype.setEncoding=function(e){let t=new B(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let e of r)n+=t.write(e);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this},$.prototype.read=function(e){let t;E("read",e),void 0===e?e=NaN:n(e)||(e=s(e,10));let r=this._readableState,i=e;if(e>r.highWaterMark&&(r.highWaterMark=function(e){if(e>1073741824)throw new P("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(r.state&=-129),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return E("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?es(this):G(this),null;if(0===(e=V(e,r))&&r.ended)return 0===r.length&&es(this),null;let o=(64&r.state)!=0;if(E("need readable",o),(0===r.length||r.length-e<r.highWaterMark)&&E("length less than watermark",o=!0),r.ended||r.reading||r.destroyed||r.errored||!r.constructed)E("reading, ended or constructing",o=!1);else if(o){E("do read"),r.state|=40,0===r.length&&(r.state|=64);try{this._read(r.highWaterMark)}catch(e){U(this,e)}r.state&=-33,r.reading||(e=V(i,r))}return null===(t=e>0?eo(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.multiAwaitDrain?r.awaitDrainWriters.clear():r.awaitDrainWriters=null),0===r.length&&(r.ended||(r.needReadable=!0),i!==e&&r.ended&&es(this)),null===t||r.errorEmitted||r.closeEmitted||(r.dataEmitted=!0,this.emit("data",t)),t},$.prototype._read=function(e){throw new N("_read()")},$.prototype.pipe=function(e,r){let n=this,i=this._readableState;1===i.pipes.length&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new f(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(e),E("pipe count=%d opts=%j",i.pipes.length,r);let o=r&&!1===r.end||e===t.stdout||e===t.stderr?g:a;function a(){E("onend"),e.end()}i.endEmitted?t.nextTick(o):n.once("end",o),e.on("unpipe",function t(r,o){E("onunpipe"),r===n&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,E("cleanup"),e.removeListener("close",h),e.removeListener("finish",p),s&&e.removeListener("drain",s),e.removeListener("error",c),e.removeListener("unpipe",t),n.removeListener("end",a),n.removeListener("end",g),n.removeListener("data",d),l=!0,s&&i.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&s())});let s,l=!1;function u(){l||(1===i.pipes.length&&i.pipes[0]===e?(E("false write response, pause",0),i.awaitDrainWriters=e,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(e)&&(E("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(e)),n.pause()),s||(s=function(){let t=n._readableState;t.awaitDrainWriters===e?(E("pipeOnDrain",1),t.awaitDrainWriters=null):t.multiAwaitDrain&&(E("pipeOnDrain",t.awaitDrainWriters.size),t.awaitDrainWriters.delete(e)),(!t.awaitDrainWriters||0===t.awaitDrainWriters.size)&&n.listenerCount("data")&&n.resume()},e.on("drain",s))}function d(t){E("ondata");let r=e.write(t);E("dest.write",r),!1===r&&u()}function c(t){if(E("onerror",t),g(),e.removeListener("error",c),0===e.listenerCount("error")){let r=e._writableState||e._readableState;r&&!r.errorEmitted?U(e,t):e.emit("error",t)}}function h(){e.removeListener("finish",p),g()}function p(){E("onfinish"),e.removeListener("close",h),g()}function g(){E("unpipe"),n.unpipe(e)}return n.on("data",d),m(e,"error",c),e.once("close",h),e.once("finish",p),e.emit("pipe",n),!0===e.writableNeedDrain?u():i.flowing||(E("pipe resume"),n.resume()),e},$.prototype.unpipe=function(e){let t=this._readableState;if(0===t.pipes.length)return this;if(!e){let e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}let n=r(t.pipes,e);return -1===n||(t.pipes.splice(n,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},$.prototype.on=function(e,r){let n=y.prototype.on.call(this,e,r),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"!==e||i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,E("on readable",i.length,i.reading),i.length?G(this):i.reading||t.nextTick(X,this)),n},$.prototype.addListener=$.prototype.on,$.prototype.removeListener=function(e,r){let n=y.prototype.removeListener.call(this,e,r);return"readable"===e&&t.nextTick(Q,this),n},$.prototype.off=$.prototype.removeListener,$.prototype.removeAllListeners=function(e){let r=y.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&t.nextTick(Q,this),r},$.prototype.resume=function(){let e=this._readableState;return e.flowing||(E("resume"),e.flowing=!e.readableListening,e.resumeScheduled||(e.resumeScheduled=!0,t.nextTick(ee,this,e))),e[j]=!1,this},$.prototype.pause=function(){return E("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(E("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[j]=!0,this},$.prototype.wrap=function(e){let t=!1;e.on("data",r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",e=>{U(this,e)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};let r=u(e);for(let t=1;t<r.length;t++){let n=r[t];void 0===this[n]&&"function"==typeof e[n]&&(this[n]=e[n].bind(e))}return this},$.prototype[p]=function(){return en(this)},$.prototype.iterator=function(e){return void 0!==e&&k(e,"options"),en(this,e)},l($.prototype,{readable:{__proto__:null,get(){let e=this._readableState;return!!e&&!1!==e.readable&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(!1!==this._readableState.readable&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),l(F.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[j]},set(e){this[j]=!!e}}}),$._fromList=eo,$.from=function(e,t){return M($,e,t)},$.fromWeb=function(e,t){return ec().newStreamReadableFromReadableStream(e,t)},$.toWeb=function(e,t){return ec().newReadableStreamFromStreamReadable(e,t)},$.wrap=function(e,t){var r,n;return new $({objectMode:null===(r=null!==(n=e.readableObjectMode)&&void 0!==n?n:e.objectMode)||void 0===r||r,...t,destroy(t,r){A.destroyer(e,t),r(t)}}).wrap(e)},eG}function ek(){let e;if(eY)return eJ;eY=1;let t=ed(),{ArrayPrototypeSlice:r,Error:n,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:s,ObjectDefineProperties:l,ObjectSetPrototypeOf:u,StringPrototypeToLowerCase:d,Symbol:c,SymbolHasInstance:f}=H();eJ=k,k.WritableState=C;let{EventEmitter:h}=(0,o.ab)(),p=ep().Stream,{Buffer:g}=(0,i.w)(),b=eh(),{addAbortSignal:y}=eA(),{getHighWaterMark:m,getDefaultHighWaterMark:w}=eR(),{ERR_INVALID_ARG_TYPE:_,ERR_METHOD_NOT_IMPLEMENTED:v,ERR_MULTIPLE_CALLBACK:E,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:A,ERR_STREAM_ALREADY_FINISHED:R,ERR_STREAM_NULL_VALUES:I,ERR_STREAM_WRITE_AFTER_END:T,ERR_UNKNOWN_ENCODING:O}=J().codes,{errorOrDestroy:N}=b;function P(){}u(k.prototype,p.prototype),u(k,p);let x=c("kOnFinished");function C(e,t,r){"boolean"!=typeof r&&(r=t instanceof ej()),this.objectMode=!!(e&&e.objectMode),r&&(this.objectMode=this.objectMode||!!(e&&e.writableObjectMode)),this.highWaterMark=e?m(this,e,"writableHighWaterMark",r):w(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(e&&!1===e.decodeStrings);this.decodeStrings=!n,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=D.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,L(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[x]=[]}function L(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function k(e){let t=this instanceof ej();if(!t&&!a(k,this))return new k(e);this._writableState=new C(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&y(e.signal,this)),p.call(this,e),b.construct(this,()=>{let e=this._writableState;e.writing||$(this,e),z(this,e)})}function j(e,r,n,i){let o;let a=e._writableState;if("function"==typeof n)i=n,n=a.defaultEncoding;else{if(n){if("buffer"!==n&&!g.isEncoding(n))throw new O(n)}else n=a.defaultEncoding;"function"!=typeof i&&(i=P)}if(null===r)throw new I;if(!a.objectMode){if("string"==typeof r)!1!==a.decodeStrings&&(r=g.from(r,n),n="buffer");else if(r instanceof g)n="buffer";else if(p._isUint8Array(r))r=p._uint8ArrayToBuffer(r),n="buffer";else throw new _("chunk",["string","Buffer","Uint8Array"],r)}return a.ending?o=new T:a.destroyed&&(o=new A("write")),o?(t.nextTick(i,o),N(e,o,!0),o):(a.pendingcb++,function(e,t,r,n,i){let o=t.objectMode?1:r.length;t.length+=o;let a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&"buffer"!==n&&(t.allBuffers=!1),t.allNoop&&i!==P&&(t.allNoop=!1)):(t.writelen=o,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1),a&&!t.errored&&!t.destroyed}(e,a,r,n,i))}function B(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new A("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function M(e,t,r,n){--t.pendingcb,n(r),F(t),N(e,r)}function D(e,r){let n=e._writableState,i=n.sync,o=n.writecb;if("function"!=typeof o){N(e,new E);return}n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,r?(r.stack,n.errored||(n.errored=r),e._readableState&&!e._readableState.errored&&(e._readableState.errored=r),i?t.nextTick(M,e,n,r,o):M(e,n,r,o)):(n.buffered.length>n.bufferedIndex&&$(e,n),i?null!==n.afterWriteTickInfo&&n.afterWriteTickInfo.cb===o?n.afterWriteTickInfo.count++:(n.afterWriteTickInfo={count:1,cb:o,stream:e,state:n},t.nextTick(U,n.afterWriteTickInfo)):W(e,n,1,o))}function U({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,W(e,t,r,n)}function W(e,t,r,n){for(t.ending||e.destroyed||0!==t.length||!t.needDrain||(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&F(t),z(e,t)}function F(e){var t,r;if(e.writing)return;for(let r=e.bufferedIndex;r<e.buffered.length;++r){let{chunk:n,callback:i}=e.buffered[r],o=e.objectMode?1:n.length;e.length-=o,i(null!==(t=e.errored)&&void 0!==t?t:new A("write"))}let n=e[x].splice(0);for(let t=0;t<n.length;t++)n[t](null!==(r=e.errored)&&void 0!==r?r:new A("end"));L(e)}function $(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;let{buffered:n,bufferedIndex:i,objectMode:o}=t,a=n.length-i;if(!a)return;let s=i;if(t.bufferProcessing=!0,a>1&&e._writev){t.pendingcb-=a-1;let i=t.allNoop?P:e=>{for(let t=s;t<n.length;++t)n[t].callback(e)},o=t.allNoop&&0===s?n:r(n,s);o.allBuffers=t.allBuffers,B(e,t,!0,t.length,o,"",i),L(t)}else{do{let{chunk:r,encoding:i,callback:a}=n[s];n[s++]=null,B(e,t,!1,o?1:r.length,r,i,a)}while(s<n.length&&!t.writing);s===n.length?L(t):s>256?(n.splice(0,s),t.bufferedIndex=0):t.bufferedIndex=s}t.bufferProcessing=!1}function q(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function z(e,r,n){q(r)&&(r.prefinished||r.finalCalled||("function"!=typeof e._final||r.destroyed?(r.prefinished=!0,e.emit("prefinish")):(r.finalCalled=!0,function(e,r){let n=!1;function i(i){if(n){N(e,i??E());return}if(n=!0,r.pendingcb--,i){let t=r[x].splice(0);for(let e=0;e<t.length;e++)t[e](i);N(e,i,r.sync)}else q(r)&&(r.prefinished=!0,e.emit("prefinish"),r.pendingcb++,t.nextTick(V,e,r))}r.sync=!0,r.pendingcb++;try{e._final(i)}catch(e){i(e)}r.sync=!1}(e,r))),0===r.pendingcb&&(n?(r.pendingcb++,t.nextTick((e,t)=>{q(t)?V(e,t):t.pendingcb--},e,r)):q(r)&&(r.pendingcb++,V(e,r))))}function V(e,t){t.pendingcb--,t.finished=!0;let r=t[x].splice(0);for(let e=0;e<r.length;e++)r[e]();if(e.emit("finish"),t.autoDestroy){let t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}C.prototype.getBuffer=function(){return r(this.buffered,this.bufferedIndex)},s(C.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),s(k,f,{__proto__:null,value:function(e){return!!a(this,e)||this===k&&e&&e._writableState instanceof C}}),k.prototype.pipe=function(){N(this,new S)},k.prototype.write=function(e,t,r){return!0===j(this,e,t,r)},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){let e=this._writableState;e.corked&&(e.corked--,e.writing||$(this,e))},k.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=d(e)),!g.isEncoding(e))throw new O(e);return this._writableState.defaultEncoding=e,this},k.prototype._write=function(e,t,r){if(this._writev)this._writev([{chunk:e,encoding:t}],r);else throw new v("_write()")},k.prototype._writev=null,k.prototype.end=function(e,r,i){let o;let a=this._writableState;if("function"==typeof e?(i=e,e=null,r=null):"function"==typeof r&&(i=r,r=null),null!=e){let t=j(this,e,r);t instanceof n&&(o=t)}return a.corked&&(a.corked=1,this.uncork()),o||(a.errored||a.ending?a.finished?o=new R("end"):a.destroyed&&(o=new A("end")):(a.ending=!0,z(this,a,!0),a.ended=!0)),"function"==typeof i&&(o||a.finished?t.nextTick(i,o):a[x].push(i)),this},l(k.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){let e=this._writableState;return!!e&&!1!==e.writable&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){let e=this._writableState;return!!e&&!e.destroyed&&!e.ending&&e.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(!1!==this._writableState.writable&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});let G=b.destroy;function K(){return void 0===e&&(e={}),e}return k.prototype.destroy=function(e,r){let n=this._writableState;return!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[x].length)&&t.nextTick(F,n),G.call(this,e,r),this},k.prototype._undestroy=b.undestroy,k.prototype._destroy=function(e,t){t(e)},k.prototype[h.captureRejectionSymbol]=function(e){this.destroy(e)},k.fromWeb=function(e,t){return K().newStreamWritableFromWritableStream(e,t)},k.toWeb=function(e){return K().newWritableStreamFromStreamWritable(e)},eJ}function ej(){let e,t;if(e0)return eX;e0=1;let{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:n,ObjectKeys:o,ObjectSetPrototypeOf:a}=H();eX=u;let s=eL(),l=ek();a(u.prototype,s.prototype),a(u,s);{let e=o(l.prototype);for(let t=0;t<e.length;t++){let r=e[t];u.prototype[r]||(u.prototype[r]=l.prototype[r])}}function u(e){if(!(this instanceof u))return new u(e);s.call(this,e),l.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}function d(){return void 0===e&&(e={}),e}return r(u.prototype,{writable:{__proto__:null,...n(l.prototype,"writable")},writableHighWaterMark:{__proto__:null,...n(l.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...n(l.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...n(l.prototype,"writableBuffer")},writableLength:{__proto__:null,...n(l.prototype,"writableLength")},writableFinished:{__proto__:null,...n(l.prototype,"writableFinished")},writableCorked:{__proto__:null,...n(l.prototype,"writableCorked")},writableEnded:{__proto__:null,...n(l.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...n(l.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),u.fromWeb=function(e,t){return d().newStreamDuplexFromReadableWritablePair(e,t)},u.toWeb=function(e){return d().newReadableWritablePairFromDuplex(e)},u.from=function(e){return t||(t=function(){if(eQ)return eZ;eQ=1;let e=ed(),t=(0,i.w)(),{isReadable:r,isWritable:n,isIterable:o,isNodeStream:a,isReadableNodeStream:s,isWritableNodeStream:l,isDuplexNodeStream:u,isReadableStream:d,isWritableStream:c}=ec(),f=ef(),{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:g}}=J(),{destroyer:b}=eh(),y=ej(),m=eL(),w=ek(),{createDeferredPromise:_}=et(),v=eC(),E=globalThis.Blob||t.Blob,S="u">typeof E?function(e){return e instanceof E}:function(e){return!1},A=globalThis.AbortController||ee().AbortController,{FunctionPrototypeCall:R}=H();class I extends y{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function T(e){let t=e.readable&&"function"!=typeof e.readable.read?m.wrap(e.readable):e.readable,i=e.writable,o=!!r(t),a=!!n(i),s,l,u,d,c;function p(e){let t=d;d=null,t?t(e):e&&c.destroy(e)}return c=new I({readableObjectMode:!!(null!=t&&t.readableObjectMode),writableObjectMode:!!(null!=i&&i.writableObjectMode),readable:o,writable:a}),a&&(f(i,e=>{a=!1,e&&b(t,e),p(e)}),c._write=function(e,t,r){i.write(e,t)?r():s=r},c._final=function(e){i.end(),l=e},i.on("drain",function(){if(s){let e=s;s=null,e()}}),i.on("finish",function(){if(l){let e=l;l=null,e()}})),o&&(f(t,e=>{o=!1,e&&b(t,e),p(e)}),t.on("readable",function(){if(u){let e=u;u=null,e()}}),t.on("end",function(){c.push(null)}),c._read=function(){for(;;){let e=t.read();if(null===e){u=c._read;return}if(!c.push(e))return}}),c._destroy=function(e,r){e||null===d||(e=new h),u=null,s=null,l=null,null===d?r(e):(d=r,b(i,e),b(t,e))},c}return eZ=function t(r,n){if(u(r))return r;if(s(r))return T({readable:r});if(l(r))return T({writable:r});if(a(r))return T({writable:!1,readable:!1});if(d(r))return T({readable:m.fromWeb(r)});if(c(r))return T({writable:w.fromWeb(r)});if("function"==typeof r){let{value:t,write:i,final:a,destroy:s}=function(t){let{promise:r,resolve:n}=_(),i=new A,o=i.signal;return{value:t(async function*(){for(;;){let t=r;r=null;let{chunk:i,done:a,cb:s}=await t;if(e.nextTick(s),a)return;if(o.aborted)throw new h(void 0,{cause:o.reason});({promise:r,resolve:n}=_()),yield i}}(),{signal:o}),write(e,t,r){let i=n;n=null,i({chunk:e,done:!1,cb:r})},final(e){let t=n;n=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(r);if(o(t))return v(I,t,{objectMode:!0,write:i,final:a,destroy:s});let l=t?.then;if("function"==typeof l){let r;let n=R(l,t,e=>{if(null!=e)throw new g("nully","body",e)},e=>{b(r,e)});return r=new I({objectMode:!0,readable:!1,write:i,final(t){a(async()=>{try{await n,e.nextTick(t,null)}catch(r){e.nextTick(t,r)}})},destroy:s})}throw new g("Iterable, AsyncIterable or AsyncFunction",n,t)}if(S(r))return t(r.arrayBuffer());if(o(r))return v(I,r,{objectMode:!0,writable:!1});if(d(r?.readable)&&c(r?.writable))return I.fromWeb(r);if("object"==typeof r?.writable||"object"==typeof r?.readable)return T({readable:null!=r&&r.readable?s(r?.readable)?r?.readable:t(r.readable):void 0,writable:null!=r&&r.writable?l(r?.writable)?r?.writable:t(r.writable):void 0});let i=r?.then;if("function"==typeof i){let e;return R(i,r,t=>{null!=t&&e.push(t),e.push(null)},t=>{b(e,t)}),e=new I({objectMode:!0,writable:!1,read(){}})}throw new p(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],r)}}()),t(e,"body")},eX}function eB(){if(e2)return e1;e2=1;let{ObjectSetPrototypeOf:e,Symbol:t}=H();e1=a;let{ERR_METHOD_NOT_IMPLEMENTED:r}=J().codes,n=ej(),{getHighWaterMark:i}=eR();e(a.prototype,n.prototype),e(a,n);let o=t("kCallback");function a(e){if(!(this instanceof a))return new a(e);let t=e?i(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),n.call(this,e),this._readableState.sync=!1,this[o]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",l)}function s(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}null!=r&&this.push(r),this.push(null),e&&e()})}function l(){this._final!==s&&s.call(this)}return a.prototype._final=s,a.prototype._transform=function(e,t,n){throw new r("_transform()")},a.prototype._write=function(e,t,r){let n=this._readableState,i=this._writableState,a=n.length;this._transform(e,t,(e,t)=>{if(e){r(e);return}null!=t&&this.push(t),i.ended||a===n.length||n.length<n.highWaterMark?r():this[o]=r})},a.prototype._read=function(){if(this[o]){let e=this[o];this[o]=null,e()}},e1}function eM(){if(e3)return e4;e3=1;let{ObjectSetPrototypeOf:e}=H();e4=r;let t=eB();function r(e){if(!(this instanceof r))return new r(e);t.call(this,e)}return e(r.prototype,t.prototype),e(r,t),r.prototype._transform=function(e,t,r){r(null,e)},e4}function eD(){let e,t,r;if(e8)return e9;e8=1;let n=ed(),{ArrayIsArray:i,Promise:o,SymbolAsyncIterator:a,SymbolDispose:s}=H(),l=ef(),{once:u}=et(),d=eh(),c=ej(),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:g,ERR_STREAM_DESTROYED:b,ERR_STREAM_PREMATURE_CLOSE:y},AbortError:m}=J(),{validateFunction:w,validateAbortSignal:_}=ea(),{isIterable:v,isReadable:E,isReadableNodeStream:S,isNodeStream:A,isTransformStream:R,isWebStream:I,isReadableStream:T,isReadableFinished:O}=ec(),N=globalThis.AbortController||ee().AbortController;function P(e,t,r){let n=!1;return e.on("close",()=>{n=!0}),{destroy:t=>{n||(n=!0,d.destroyer(e,t||new b("pipe")))},cleanup:l(e,{readable:t,writable:r},e=>{n=!e})}}function x(e){if(v(e))return e;if(S(e))return C(e);throw new h("val",["Readable","Iterable","AsyncIterable"],e)}async function*C(e){t||(t=eL()),yield*t.prototype[a].call(e)}async function L(e,t,r,{end:n}){let i,a=null,s=e=>{if(e&&(i=e),a){let e=a;a=null,e()}},u=()=>new o((e,t)=>{i?t(i):a=()=>{i?t(i):e()}});t.on("drain",s);let d=l(t,{readable:!1},s);try{for await(let r of(t.writableNeedDrain&&await u(),e))t.write(r)||await u();n&&(t.end(),await u()),r()}catch(e){r(i!==e?f(i,e):e)}finally{d(),t.off("drain",s)}}async function k(e,t,r,{end:n}){R(t)&&(t=t.writable);let i=t.getWriter();try{for await(let t of e)await i.ready,i.write(t).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(e){try{await i.abort(e),r(e)}catch(e){r(e)}}}function j(t,o,a){let u,d,f,b;if(1===t.length&&i(t[0])&&(t=t[0]),t.length<2)throw new g("streams");let w=new N,C=w.signal,j=a?.signal,B=[];function M(){F(new m)}_(j,"options.signal"),r=r||et().addAbortListener,j&&(u=r(j,M));let D=[],U=0;function W(e){F(e,0==--U)}function F(e,t){var r;if(e&&(!d||"ERR_STREAM_PREMATURE_CLOSE"===d.code)&&(d=e),!(!d&&!t)){for(;D.length;)D.shift()(d);null===(r=u)||void 0===r||r[s](),w.abort(),t&&(d||B.forEach(e=>e()),n.nextTick(o,d,f))}}for(let r=0;r<t.length;r++){let i=t[r],o=r<t.length-1,s=r>0,u=o||a?.end!==!1,d=r===t.length-1;if(A(i)){let e=function(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&W(e)};if(u){let{destroy:e,cleanup:t}=P(i,o,s);D.push(e),E(i)&&d&&B.push(t)}i.on("error",e),E(i)&&d&&B.push(()=>{i.removeListener("error",e)})}if(0===r){if("function"==typeof i){if(!v(b=i({signal:C})))throw new p("Iterable, AsyncIterable or Stream","source",b)}else b=v(i)||S(i)||R(i)?i:c.from(i)}else if("function"==typeof i){var $,q;if(b=i(b=R(b)?x(null===($=b)||void 0===$?void 0:$.readable):x(b),{signal:C}),o){if(!v(b,!0))throw new p("AsyncIterable",`transform[${r-1}]`,b)}else{e||(e=eM());let t=new e({objectMode:!0}),r=null===(q=b)||void 0===q?void 0:q.then;if("function"==typeof r)U++,r.call(b,e=>{f=e,null!=e&&t.write(e),u&&t.end(),n.nextTick(W)},e=>{t.destroy(e),n.nextTick(W,e)});else if(v(b,!0))U++,L(b,t,W,{end:u});else if(T(b)||R(b)){let e=b.readable||b;U++,L(e,t,W,{end:u})}else throw new p("AsyncIterable or Promise","destination",b);let{destroy:i,cleanup:o}=P(b=t,!1,!0);D.push(i),d&&B.push(o)}}else if(A(i)){if(S(b)){U+=2;let e=function(e,t,r,{end:i}){let o=!1;if(t.on("close",()=>{o||r(new y)}),e.pipe(t,{end:!1}),i){let r=function(){o=!0,t.end()};O(e)?n.nextTick(r):e.once("end",r)}else r();return l(e,{readable:!0,writable:!1},t=>{let n=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&n&&n.ended&&!n.errored&&!n.errorEmitted?e.once("end",r).once("error",r):r(t)}),l(t,{readable:!1,writable:!0},r)}(b,i,W,{end:u});E(i)&&d&&B.push(e)}else if(R(b)||T(b)){let e=b.readable||b;U++,L(e,i,W,{end:u})}else if(v(b))U++,L(b,i,W,{end:u});else throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],b);b=i}else if(I(i)){if(S(b))U++,k(x(b),i,W,{end:u});else if(T(b)||v(b))U++,k(b,i,W,{end:u});else if(R(b))U++,k(b.readable,i,W,{end:u});else throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],b);b=i}else b=c.from(i)}return(null!=C&&C.aborted||null!=j&&j.aborted)&&n.nextTick(M),b}return e9={pipelineImpl:j,pipeline:function(...e){return j(e,u((w(e[e.length-1],"streams[stream.length - 1]"),e.pop())))}}}function eU(){if(e7)return e6;e7=1;let{pipeline:e}=eD(),t=ej(),{destroyer:r}=eh(),{isNodeStream:n,isReadable:i,isWritable:o,isWebStream:a,isTransformStream:s,isWritableStream:l,isReadableStream:u}=ec(),{AbortError:d,codes:{ERR_INVALID_ARG_VALUE:c,ERR_MISSING_ARGS:f}}=J(),h=ef();return e6=function(...p){let g,b,y,m,w;if(0===p.length)throw new f("streams");if(1===p.length)return t.from(p[0]);let _=[...p];if("function"==typeof p[0]&&(p[0]=t.from(p[0])),"function"==typeof p[p.length-1]){let e=p.length-1;p[e]=t.from(p[e])}for(let e=0;e<p.length;++e)if(!(!n(p[e])&&!a(p[e]))){if(e<p.length-1&&!(i(p[e])||u(p[e])||s(p[e])))throw new c(`streams[${e}]`,_[e],"must be readable");if(e>0&&!(o(p[e])||l(p[e])||s(p[e])))throw new c(`streams[${e}]`,_[e],"must be writable")}let v=p[0],E=e(p,function(e){let t=m;m=null,t?t(e):e?w.destroy(e):A||S||w.destroy()}),S=!!(o(v)||l(v)||s(v)),A=!!(i(E)||u(E)||s(E));if(w=new t({writableObjectMode:!!(null!=v&&v.writableObjectMode),readableObjectMode:!!(null!=E&&E.readableObjectMode),writable:S,readable:A}),S){if(n(v))w._write=function(e,t,r){v.write(e,t)?r():g=r},w._final=function(e){v.end(),b=e},v.on("drain",function(){if(g){let e=g;g=null,e()}});else if(a(v)){let e=(s(v)?v.writable:v).getWriter();w._write=async function(t,r,n){try{await e.ready,e.write(t).catch(()=>{}),n()}catch(e){n(e)}},w._final=async function(t){try{await e.ready,e.close().catch(()=>{}),b=t}catch(e){t(e)}}}h(s(E)?E.readable:E,()=>{if(b){let e=b;b=null,e()}})}if(A){if(n(E))E.on("readable",function(){if(y){let e=y;y=null,e()}}),E.on("end",function(){w.push(null)}),w._read=function(){for(;;){let e=E.read();if(null===e){y=w._read;return}if(!w.push(e))return}};else if(a(E)){let e=(s(E)?E.readable:E).getReader();w._read=async function(){for(;;)try{let{value:t,done:r}=await e.read();if(!w.push(t))return;if(r){w.push(null);return}}catch{return}}}}return w._destroy=function(e,t){e||null===m||(e=new d),y=null,g=null,b=null,null===m?t(e):(m=t,n(E)&&r(E,e))},w}}function eW(){if(tt)return te;tt=1;let{ArrayPrototypePop:e,Promise:t}=H(),{isIterable:r,isNodeStream:n,isWebStream:i}=ec(),{pipelineImpl:o}=eD(),{finished:a}=ef();return eF(),te={finished:a,pipeline:function(...a){return new t((t,s)=>{let l,u;let d=a[a.length-1];if(d&&"object"==typeof d&&!n(d)&&!r(d)&&!i(d)){let t=e(a);l=t.signal,u=t.end}o(a,(e,r)=>{e?s(e):t(r)},{signal:l,end:u})})}}}function eF(){if(tr)return q.exports;tr=1;let{Buffer:e}=(0,i.w)(),{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=H(),{promisify:{custom:o}}=et(),{streamReturningOperators:a,promiseReturningOperators:s}=function(){if(e5)return eo;e5=1;let e=globalThis.AbortController||ee().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:i},AbortError:o}=J(),{validateAbortSignal:a,validateInteger:s,validateObject:l}=ea(),u=H().Symbol("kWeak"),d=H().Symbol("kResistStopPropagation"),{finished:c}=ef(),f=eU(),{addAbortSignalNoValidate:h}=eA(),{isWritable:p,isNodeStream:g}=ec(),{deprecate:b}=et(),{ArrayPrototypePush:y,Boolean:m,MathFloor:w,Number:_,NumberIsNaN:v,Promise:E,PromiseReject:S,PromiseResolve:A,PromisePrototypeThen:R,Symbol:I}=H(),T=I("kEmpty"),O=I("kEof");function N(e,t){if("function"!=typeof e)throw new r("fn",["Function","AsyncFunction"],e);null!=t&&l(t,"options"),t?.signal!=null&&a(t.signal,"options.signal");let n=1;t?.concurrency!=null&&(n=w(t.concurrency));let i=n-1;return t?.highWaterMark!=null&&(i=w(t.highWaterMark)),s(n,"options.concurrency",1),s(i,"options.highWaterMark",0),i+=n,(async function*(){let r=et().AbortSignalAny([t?.signal].filter(m)),a=this,s=[],l={signal:r},u,d,c=!1,f=0;function h(){c=!0,p()}function p(){f-=1,g()}function g(){d&&!c&&f<n&&s.length<i&&(d(),d=null)}(async function(){try{for await(let t of a){if(c)return;if(r.aborted)throw new o;try{if((t=e(t,l))===T)continue;t=A(t)}catch(e){t=S(e)}f+=1,R(t,p,h),s.push(t),u&&(u(),u=null),!c&&(s.length>=i||f>=n)&&await new E(e=>{d=e})}s.push(O)}catch(t){let e=S(t);R(e,p,h),s.push(e)}finally{c=!0,u&&(u(),u=null)}})();try{for(;;){for(;s.length>0;){let e=await s[0];if(e===O)return;if(r.aborted)throw new o;e!==T&&(yield e),s.shift(),g()}await new E(e=>{u=e})}}finally{c=!0,d&&(d(),d=null)}}).call(this)}async function P(e,t){for await(let r of k.call(this,e,t))return!0;return!1}async function x(e,t){if("function"!=typeof e)throw new r("fn",["Function","AsyncFunction"],e);return!await P.call(this,async(...t)=>!await e(...t),t)}async function C(e,t){for await(let r of k.call(this,e,t))return r}async function L(e,t){if("function"!=typeof e)throw new r("fn",["Function","AsyncFunction"],e);async function n(t,r){return await e(t,r),T}for await(let e of N.call(this,n,t));}function k(e,t){if("function"!=typeof e)throw new r("fn",["Function","AsyncFunction"],e);async function n(t,r){return await e(t,r)?t:T}return N.call(this,n,t)}class j extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function B(t,n,i){var s,f;if("function"!=typeof t)throw new r("reducer",["Function","AsyncFunction"],t);null!=i&&l(i,"options"),i?.signal!=null&&a(i.signal,"options.signal");let h=arguments.length>1;if(null!=i&&null!==(s=i.signal)&&void 0!==s&&s.aborted){let e=new o(void 0,{cause:i.signal.reason});throw this.once("error",()=>{}),await c(this.destroy(e)),e}let p=new e,g=p.signal;null!=i&&i.signal&&i.signal.addEventListener("abort",()=>p.abort(),{once:!0,[u]:this,[d]:!0});let b=!1;try{for await(let e of this){if(b=!0,null!=i&&null!==(f=i.signal)&&void 0!==f&&f.aborted)throw new o;h?n=await t(n,e,{signal:g}):(n=e,h=!0)}if(!b&&!h)throw new j}finally{p.abort()}return n}async function M(e){null!=e&&l(e,"options"),e?.signal!=null&&a(e.signal,"options.signal");let t=[];for await(let n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new o(void 0,{cause:e.signal.reason});y(t,n)}return t}function D(e){if(v(e=_(e)))return 0;if(e<0)throw new i("number",">= 0",e);return e}return eo.streamReturningOperators={asIndexedPairs:b(function(e){return null!=e&&l(e,"options"),e?.signal!=null&&a(e.signal,"options.signal"),(async function*(){let t=0;for await(let n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new o({cause:e.signal.reason});yield[t++,n]}}).call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function(e,t){return null!=t&&l(t,"options"),t?.signal!=null&&a(t.signal,"options.signal"),e=D(e),(async function*(){var r,n;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new o;for await(let r of this){if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new o;e--<=0&&(yield r)}}).call(this)},filter:k,flatMap:function(e,t){let r=N.call(this,e,t);return(async function*(){for await(let e of r)yield*e}).call(this)},map:N,take:function(e,t){return null!=t&&l(t,"options"),t?.signal!=null&&a(t.signal,"options.signal"),e=D(e),(async function*(){var r,n;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new o;for await(let r of this){if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new o;if(e-- >0&&(yield r),e<=0)return}}).call(this)},compose:function(e,r){if(null!=r&&l(r,"options"),r?.signal!=null&&a(r.signal,"options.signal"),g(e)&&!p(e))throw new t("stream",e,"must be writable");let n=f(this,e);return null!=r&&r.signal&&h(r.signal,n),n}},eo.promiseReturningOperators={every:x,forEach:L,reduce:B,toArray:M,some:P,find:C},eo}(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:l}}=J(),u=eU(),{setDefaultHighWaterMark:d,getDefaultHighWaterMark:c}=eR(),{pipeline:f}=eD(),{destroyer:h}=eh(),p=ef(),g=eW(),b=ec(),y=q.exports=ep().Stream;for(let e of(y.isDestroyed=b.isDestroyed,y.isDisturbed=b.isDisturbed,y.isErrored=b.isErrored,y.isReadable=b.isReadable,y.isWritable=b.isWritable,y.Readable=eL(),r(a))){let r=function(...e){if(new.target)throw l();return y.Readable.from(n(i,this,e))},i=a[e];t(r,"name",{__proto__:null,value:i.name}),t(r,"length",{__proto__:null,value:i.length}),t(y.Readable.prototype,e,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}for(let e of r(s)){let r=function(...e){if(new.target)throw l();return n(i,this,e)},i=s[e];t(r,"name",{__proto__:null,value:i.name}),t(r,"length",{__proto__:null,value:i.length}),t(y.Readable.prototype,e,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}y.Writable=ek(),y.Duplex=ej(),y.Transform=eB(),y.PassThrough=eM(),y.pipeline=f;let{addAbortSignal:m}=eA();return y.addAbortSignal=m,y.finished=p,y.destroy=h,y.compose=u,y.setDefaultHighWaterMark=d,y.getDefaultHighWaterMark=c,t(y,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>g}),t(f,o,{__proto__:null,enumerable:!0,get:()=>g.pipeline}),t(p,o,{__proto__:null,enumerable:!0,get:()=>g.finished}),y.Stream=y,y._isUint8Array=function(e){return e instanceof Uint8Array},y._uint8ArrayToBuffer=function(t){return e.from(t.buffer,t.byteOffset,t.byteLength)},q.exports}var e$=(tn||(tn=1,function(e){let t=eF(),r=eW(),n=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=n,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get:()=>r}),e.exports.Stream=t.Stream,e.exports.default=e.exports}($)),$.exports),eq=A();let eH=(0,i.g)(eq);var ez,eV,eG,eK,eJ,eY,eZ,eQ,eX,e0,e1,e2,e4,e3,e9,e8,e6,e7,e5,te,tt,tr,tn,ti,to,ta={exports:{}};function ts(){if(tj)return ta.exports;tj=1;var e=to?ti:(to=1,ti=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw TypeError("need wrapper function");return Object.keys(t).forEach(function(e){n[e]=t[e]}),n;function n(){for(var e=Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach(function(e){n[e]=i[e]}),n}});function t(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function r(e){var t=function(){if(t.called)throw Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}return ta.exports=e(t),ta.exports.strict=e(r),t.proto=t(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return t(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return r(this)},configurable:!0})}),ta.exports}function tl(){if(tM)return tB;tM=1;var e=ts(),t=function(){},r=i.c.Bare?queueMicrotask:n.p.nextTick.bind(n.p),o=function(n,i,a){if("function"==typeof i)return o(n,null,i);i||(i={}),a=e(a||t);var s=n._writableState,l=n._readableState,u=i.readable||!1!==i.readable&&n.readable,d=i.writable||!1!==i.writable&&n.writable,c=!1,f=function(){n.writable||h()},h=function(){d=!1,u||a.call(n)},p=function(){u=!1,d||a.call(n)},g=function(e){a.call(n,e?Error("exited with error code: "+e):null)},b=function(e){a.call(n,e)},y=function(){r(m)},m=function(){if(!c&&(u&&!(l&&l.ended&&!l.destroyed)||d&&!(s&&s.ended&&!s.destroyed)))return a.call(n,Error("premature close"))},w=function(){n.req.on("finish",h)};return n.setHeader&&"function"==typeof n.abort?(n.on("complete",h),n.on("abort",y),n.req?w():n.on("request",w)):d&&!s&&(n.on("end",f),n.on("close",f)),n.stdio&&Array.isArray(n.stdio)&&3===n.stdio.length&&n.on("exit",g),n.on("end",p),n.on("finish",h),!1!==i.error&&n.on("error",b),n.on("close",y),function(){c=!0,n.removeListener("complete",h),n.removeListener("abort",y),n.removeListener("request",w),n.req&&n.req.removeListener("finish",h),n.removeListener("end",f),n.removeListener("close",f),n.removeListener("finish",h),n.removeListener("exit",g),n.removeListener("end",p),n.removeListener("error",b),n.removeListener("close",y)}};return tB=o}var tu=tl();let td=(0,i.g)(tu);var tc=ts();let tf=(0,i.g)(tc);var th=function(){if(tU)return tD;tU=1;var e,t=ts(),r=tl();try{e=o.ac}catch{}var i=function(){},a=!(typeof n.p>"u")&&/^v?\.0/.test(n.p.version),s=function(e){return"function"==typeof e},l=function(n,o,l,u){u=t(u);var d=!1;n.on("close",function(){d=!0}),r(n,{readable:o,writable:l},function(e){if(e)return u(e);d=!0,u()});var c=!1;return function(t){if(!d&&!c){if(c=!0,a&&e&&(n instanceof(e.ReadStream||i)||n instanceof(e.WriteStream||i))&&s(n.close))return n.close(i);if(n.setHeader&&s(n.abort))return n.abort();if(s(n.destroy))return n.destroy();u(t||Error("stream was destroyed"))}}},u=function(e){e()},d=function(e,t){return e.pipe(t)};return tD=function(){var e=Array.prototype.slice.call(arguments),t=s(e[e.length-1]||i)&&e.pop()||i;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw Error("pump requires two streams per minimum");var r,n=e.map(function(i,o){var a=o<e.length-1;return l(i,a,o>0,function(e){r||(r=e),e&&n.forEach(u),a||(n.forEach(u),t(r))})});return e.reduce(d)}}();let tp=(0,i.g)(th);function tg(){}class tb extends e$.Duplex{constructor(e){let{name:t,target:r,targetWindow:n=window,targetOrigin:i="*"}=e;if(super({objectMode:!0}),B(this,"_init",void 0),B(this,"_haveSyn",void 0),B(this,"_name",void 0),B(this,"_target",void 0),B(this,"_targetWindow",void 0),B(this,"_targetOrigin",void 0),B(this,"_onMessage",void 0),B(this,"_synIntervalId",void 0),!t||!r)throw Error("Invalid input.");this._init=!1,this._haveSyn=!1,this._name=t,this._target=r,this._targetWindow=n,this._targetOrigin=i,this._onMessage=this.onMessage.bind(this),this._synIntervalId=null,window.addEventListener("message",this._onMessage,!1),this._handShake()}_break(){this.cork(),this._write("BRK",null,tg),this._haveSyn=!1,this._init=!1}_handShake(){this._write("SYN",null,tg),this.cork()}_onData(e){if(this._init){if("BRK"===e)this._break();else try{this.push(e)}catch(e){this.emit("error",e)}}else"SYN"===e?(this._haveSyn=!0,this._write("ACK",null,tg)):"ACK"===e&&(this._init=!0,this._haveSyn||this._write("ACK",null,tg),this.uncork())}_postMessage(e){let t=this._targetOrigin;this._targetWindow.postMessage({target:this._target,data:e},t)}onMessage(e){let t=e.data;("*"===this._targetOrigin||e.origin===this._targetOrigin)&&e.source===this._targetWindow&&"object"==typeof t&&t.target===this._name&&t.data&&this._onData(t.data)}_read(){}_write(e,t,r){this._postMessage(e),r()}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}let ty={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};function tm(e){return Number.isInteger(e)}function tw(e){return"string"==typeof e&&e.length>0}function t_(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function tv(e){return!(!e||!tm(e.code)||!tw(e.message)||e.stack&&!tw(e.stack))}let tE={code:-32603,message:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unspecified error message. This is a bug, please report it.";if(tm(e)){let t=e.toString();if(Object.hasOwn(ty,t))return ty[t].message}return t}(-32603)};function tS(e){try{JSON.parse(JSON.stringify(e,(e,t)=>{if("__proto__"===e||"constructor"===e||"function"==typeof t||"symbol"==typeof t)throw Error("Not valid json");return t}),(e,t)=>{if(!("__proto__"===e||"constructor"===e))return t})}catch{return!1}return!0}function tA(e){return Object.getOwnPropertyNames(e).reduce((t,r)=>{let n=e[r];return tS(n)&&(t[r]=n),t},{})}function tR(e){let{fallbackError:t=tE,shouldIncludeStack:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!tv(t))throw Error("Must provide fallback error with integer number code and string message.");let n=function(e,t){if(e&&"object"==typeof e&&"serialize"in e&&"function"==typeof e.serialize)return e.serialize();if(tv(e))return e;let r=Array.isArray(e)?e.map(e=>tS(e)?e:t_(e)?tA(e):null):t_(e)?tA(e):tS(e)?e:null;return D(D({},t),{},{data:{cause:r}})}(e,t);return r||delete n.stack,n}function tI(e,t,r){try{Reflect.apply(e,t,r)}catch(e){setTimeout(()=>{throw e})}}class tT extends a.g.EventEmitter{emit(e){let t="error"===e,r=this._events;if(void 0!==r)t=t&&void 0===r.error;else if(!t)return!1;for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];if(t){let e;if(i.length>0&&([e]=i),e instanceof Error)throw e;let t=Error(`Unhandled error.${e?` (${e.message})`:""}`);throw t.context=e,t}let a=r[e];if(void 0===a)return!1;if("function"==typeof a)tI(a,this,i);else{let e=a.length,t=function(e){let t=e.length,r=Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}(a);for(let r=0;r<e;r+=1)tI(t[r],this,i)}return!0}}class tO extends Error{constructor(e){let{code:t,message:r,data:n}=e;if(!Number.isInteger(t))throw Error("code must be an integer");if(!r||"string"!=typeof r)throw Error("message must be string");super(r),B(this,"code",void 0),B(this,"data",void 0),this.code=t,void 0!==n&&(this.data=n)}toString(){return eH({code:this.code,message:this.message,data:this.data,stack:this.stack})}}let tN=function(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return(n,i)=>{n||i.error?t(n||i.error):!r||Array.isArray(i)?e(i):e(i.result)}};class tP extends tT{constructor(){super(),B(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,t,r){let n=[],i=null,o=!1;for(let a of r)if([i,o]=await tP._runMiddleware(e,t,a,n),o)break;return[i,o,n.reverse()]}static _runMiddleware(e,t,r,n){return new Promise(i=>{let o=e=>{let r=e||t.error;r&&("object"==typeof r&&!1===Object.keys(r).includes("stack")&&(r.stack="Stack trace is not available."),t.error=tR(r,{shouldIncludeStack:!0,fallbackError:{message:r?.message||r?.toString(),code:r?.code||-32603,stack:r?.stack||"Stack trace is not available.",data:r?.data||r?.message||r?.toString()}})),i([r,!0])};try{r(e,t,e=>{t.error?o(t.error):(e&&("function"!=typeof e&&o(new tO({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),n.push(e)),i([null,!1]))},o)}catch(e){o(e)}})}static async _runReturnHandlers(e){for(let t of e)await new Promise((e,r)=>{t(t=>t?r(t):e())})}static _checkForCompletion(e,t,r){if(!("result"in t)&&!("error"in t))throw new tO({code:-32603,message:"Response has no error or result for request"});if(!r)throw new tO({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!=typeof t)throw Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,r,n)=>{try{let[i,o,a]=await tP._runAllMiddleware(e,t,this._middleware);return o?(await tP._runReturnHandlers(a),n(i)):r(async e=>{try{await tP._runReturnHandlers(a)}catch(t){return e(t)}return e()})}catch(e){return n(e)}}}async _handleBatch(e,t){try{let r=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,r):r}catch(e){if(t)return t(e);throw e}}_promiseHandle(e){return new Promise((t,r)=>{this._handle(e,(e,n)=>{e&&void 0===n?r(e):t(n)}).catch(r)})}async _handle(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){let e=new tO({code:-32603,message:"request must be plain object"});return t(e,{id:void 0,jsonrpc:"2.0",error:e})}if("string"!=typeof e.method){let r=new tO({code:-32603,message:"method must be string"});return t(r,{id:e.id,jsonrpc:"2.0",error:r})}let r=D({},e),n={id:r.id,jsonrpc:r.jsonrpc},i=null;try{await this._processRequest(r,n)}catch(e){i=e}if(i&&(delete n.result,!n.error)){var o,a,s,l,u,d,c;"object"==typeof i&&!1===Object.keys(i).includes("stack")&&(i.stack="Stack trace is not available."),n.error=tR(i,{shouldIncludeStack:!0,fallbackError:{message:(null===(o=i)||void 0===o?void 0:o.message)||(null===(a=i)||void 0===a?void 0:a.toString()),code:(null===(s=i)||void 0===s?void 0:s.code)||-32603,stack:(null===(l=i)||void 0===l?void 0:l.stack)||"Stack trace is not available.",data:(null===(u=i)||void 0===u?void 0:u.data)||(null===(d=i)||void 0===d?void 0:d.message)||(null===(c=i)||void 0===c?void 0:c.toString())}})}return t(i,n)}async _processRequest(e,t){let[r,n,i]=await tP._runAllMiddleware(e,t,this._middleware);if(tP._checkForCompletion(e,t,n),await tP._runReturnHandlers(i),r)throw r}}class tx extends e$.Duplex{constructor(e){let{parent:t,name:r}=e;super({objectMode:!0}),B(this,"_parent",void 0),B(this,"_name",void 0),this._parent=t,this._name=r}_read(){}_write(e,t,r){this._parent.push({name:this._name,data:e}),r()}}let tC=Symbol("IGNORE_SUBSTREAM");class tL extends e$.Duplex{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(D(D({},e),{},{objectMode:!0})),B(this,"_substreams",void 0),B(this,"getStream",void 0),this._substreams={}}createStream(e){if(!e)throw Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw Error(`ObjectMultiplex - Substream for name "${e}" already exists`);let t=new tx({parent:this,name:e});return this._substreams[e]=t,function(e,t){let r=tf(t);td(e,{readable:!1},r),td(e,{writable:!1},r)}(this,e=>t.destroy(e||void 0)),t}ignoreStream(e){if(!e)throw Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=tC}_read(){}_write(e,t,r){let{name:n,data:i}=e;if(!n)return window.console.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),r();let o=this._substreams[n];return o?o!==tC&&o.push(i):window.console.warn(`ObjectMultiplex - orphaned data for stream "${n}"`),r()}}var tk={exports:{}};tk.exports,tW||(tW=1,function(e,t){var r,n,o,a,s,l,u,d,c,f,h,p="__lodash_hash_undefined__",g="[object Arguments]",b="[object Function]",y="[object Object]",m=/^\[object .+?Constructor\]$/,w=/^(?:0|[1-9]\d*)$/,_={};_["[object Float32Array]"]=_["[object Float64Array]"]=_["[object Int8Array]"]=_["[object Int16Array]"]=_["[object Int32Array]"]=_["[object Uint8Array]"]=_["[object Uint8ClampedArray]"]=_["[object Uint16Array]"]=_["[object Uint32Array]"]=!0,_[g]=_["[object Array]"]=_["[object ArrayBuffer]"]=_["[object Boolean]"]=_["[object DataView]"]=_["[object Date]"]=_["[object Error]"]=_[b]=_["[object Map]"]=_["[object Number]"]=_[y]=_["[object RegExp]"]=_["[object Set]"]=_["[object String]"]=_["[object WeakMap]"]=!1;var v="object"==typeof i.c&&i.c&&i.c.Object===Object&&i.c,E="object"==typeof self&&self&&self.Object===Object&&self,S=v||E||Function("return this")(),A=t&&!t.nodeType&&t,R=A&&e&&!e.nodeType&&e,I=R&&R.exports===A,T=I&&v.process,O=function(){try{return R&&R.require&&R.require("util").types||T&&T.binding&&T.binding("util")}catch{}}(),N=O&&O.isTypedArray,P=Array.prototype,x=Function.prototype,C=Object.prototype,L=S["__core-js_shared__"],k=x.toString,j=C.hasOwnProperty,B=(u=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"",M=C.toString,D=k.call(Object),U=RegExp("^"+k.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=I?S.Buffer:void 0,F=S.Symbol,$=S.Uint8Array;W&&W.allocUnsafe;var q=(d=Object.getPrototypeOf,c=Object,function(e){return d(c(e))}),H=Object.create,z=C.propertyIsEnumerable,V=P.splice,G=F?F.toStringTag:void 0,K=function(){try{var e=ef(Object,"defineProperty");return e({},"",{}),e}catch{}}(),J=W?W.isBuffer:void 0,Y=Math.max,Z=Date.now,Q=ef(S,"Map"),X=ef(Object,"create"),ee=function(){function e(){}return function(t){if(!eA(t))return{};if(H)return H(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function et(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function er(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function en(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ei(e){var t=this.__data__=new er(e);this.size=t.size}function eo(e,t,r){(void 0===r||ey(e[t],r))&&(void 0!==r||t in e)||es(e,t,r)}function ea(e,t){for(var r=e.length;r--;)if(ey(e[r][0],t))return r;return -1}function es(e,t,r){"__proto__"==t&&K?K(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}et.prototype.clear=function(){this.__data__=X?X(null):{},this.size=0},et.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},et.prototype.get=function(e){var t=this.__data__;if(X){var r=t[e];return r===p?void 0:r}return j.call(t,e)?t[e]:void 0},et.prototype.has=function(e){var t=this.__data__;return X?void 0!==t[e]:j.call(t,e)},et.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=X&&void 0===t?p:t,this},er.prototype.clear=function(){this.__data__=[],this.size=0},er.prototype.delete=function(e){var t=this.__data__,r=ea(t,e);return!(r<0)&&(r==t.length-1?t.pop():V.call(t,r,1),--this.size,!0)},er.prototype.get=function(e){var t=this.__data__,r=ea(t,e);return r<0?void 0:t[r][1]},er.prototype.has=function(e){return ea(this.__data__,e)>-1},er.prototype.set=function(e,t){var r=this.__data__,n=ea(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},en.prototype.clear=function(){this.size=0,this.__data__={hash:new et,map:new(Q||er),string:new et}},en.prototype.delete=function(e){var t=ec(this,e).delete(e);return this.size-=t?1:0,t},en.prototype.get=function(e){return ec(this,e).get(e)},en.prototype.has=function(e){return ec(this,e).has(e)},en.prototype.set=function(e,t){var r=ec(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},ei.prototype.clear=function(){this.__data__=new er,this.size=0},ei.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},ei.prototype.get=function(e){return this.__data__.get(e)},ei.prototype.has=function(e){return this.__data__.has(e)},ei.prototype.set=function(e,t){var r=this.__data__;if(r instanceof er){var n=r.__data__;if(!Q||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new en(n)}return r.set(e,t),this.size=r.size,this};var el=function(e,t,r){for(var n=-1,i=Object(e),o=r(e),a=o.length;a--;){var s=o[++n];if(!1===t(i[s],s,i))break}return e};function eu(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":G&&G in Object(e)?function(e){var t=j.call(e,G),r=e[G];try{e[G]=void 0;var n=!0}catch{}var i=M.call(e);return n&&(t?e[G]=r:delete e[G]),i}(e):M.call(e)}function ed(e){return eR(e)&&eu(e)==g}function ec(e,t){var r,n=e.__data__;return("string"==(r=typeof t)||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?n["string"==typeof t?"string":"hash"]:n.map}function ef(e,t){var r=e?.[t];return!(!eA(r)||B&&B in r)&&(eE(r)?U:m).test(function(e){if(null!=e){try{return k.call(e)}catch{}try{return e+""}catch{}}return""}(r))?r:void 0}function eh(e,t){var r=typeof e;return!!(t=t??9007199254740991)&&("number"==r||"symbol"!=r&&w.test(e))&&e>-1&&e%1==0&&e<t}function ep(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||C)}function eg(e,t){if(!("constructor"===t&&"function"==typeof e[t])&&"__proto__"!=t)return e[t]}var eb=(r=K?function(e,t){return K(e,"toString",{configurable:!0,enumerable:!1,value:function(){return t},writable:!0})}:eN,n=0,o=0,function(){var e=Z(),t=16-(e-o);if(o=e,t>0){if(++n>=800)return arguments[0]}else n=0;return r.apply(void 0,arguments)});function ey(e,t){return e===t||e!=e&&t!=t}var em=ed(function(){return arguments}())?ed:function(e){return eR(e)&&j.call(e,"callee")&&!z.call(e,"callee")},ew=Array.isArray;function e_(e){return null!=e&&eS(e.length)&&!eE(e)}var ev=J||function(){return!1};function eE(e){if(!eA(e))return!1;var t=eu(e);return t==b||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function eS(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function eA(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function eR(e){return null!=e&&"object"==typeof e}var eI=N?function(e){return N(e)}:function(e){return eR(e)&&eS(e.length)&&!!_[eu(e)]};function eT(e){return e_(e)?function(e,t){var r=ew(e),n=!r&&em(e),i=!r&&!n&&ev(e),o=!r&&!n&&!i&&eI(e),a=r||n||i||o,s=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],l=s.length;for(var u in e)a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||eh(u,l))||s.push(u);return s}(e):function(e){if(!eA(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=ep(e),r=[];for(var n in e)"constructor"==n&&(t||!j.call(e,n))||r.push(n);return r}(e)}var eO=(f=function(e,t,r){(function e(t,r,n,i,o){t!==r&&el(r,function(a,s){if(o||(o=new ei),eA(a))(function(e,t,r,n,i,o,a){var s=eg(e,r),l=eg(t,r),u=a.get(l);if(u){eo(e,r,u);return}var d=o?o(s,l,r+"",e,t,a):void 0,c=void 0===d;if(c){var f,h,p,g=ew(l),b=!g&&ev(l),m=!g&&!b&&eI(l);d=l,g||b||m?ew(s)?d=s:eR(s)&&e_(s)?d=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(s):b?(c=!1,d=l.slice()):m?(c=!1,new $(h=new(f=l.buffer).constructor(f.byteLength)).set(new $(f)),p=h,d=new l.constructor(p,l.byteOffset,l.length)):d=[]:function(e){if(!eR(e)||eu(e)!=y)return!1;var t=q(e);if(null===t)return!0;var r=j.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&k.call(r)==D}(l)||em(l)?(d=s,em(s)?d=function(e,t,r,n){var i=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=void 0;void 0===l&&(l=e[s]),i?es(r,s,l):function(e,t,r){var n=e[t];j.call(e,t)&&ey(n,r)&&(void 0!==r||t in e)||es(e,t,r)}(r,s,l)}return r}(s,eT(s)):(!eA(s)||eE(s))&&(d="function"!=typeof l.constructor||ep(l)?{}:ee(q(l)))):c=!1}c&&(a.set(l,d),i(d,l,n,o,a),a.delete(l)),eo(e,r,d)})(t,r,s,n,e,i,o);else{var l=i?i(eg(t,s),a,s+"",t,r,o):void 0;void 0===l&&(l=a),eo(t,s,l)}},eT)})(e,t,r)},eb((a=h=function(e,t){var r=-1,n=t.length,i=n>1?t[n-1]:void 0,o=n>2?t[2]:void 0;for(i=f.length>3&&"function"==typeof i?(n--,i):void 0,o&&function(e,t,r){if(!eA(r))return!1;var n=typeof t;return("number"==n?!!(e_(r)&&eh(t,r.length)):"string"==n&&(t in r))&&ey(r[t],e)}(t[0],t[1],o)&&(i=n<3?void 0:i,n=1),e=Object(e);++r<n;){var a=t[r];a&&f(e,a,r,i)}return e},s=void 0,l=eN,s=Y(void 0===s?a.length-1:s,0),function(){for(var e=arguments,t=-1,r=Y(e.length-s,0),n=Array(r);++t<r;)n[t]=e[s+t];t=-1;for(var i=Array(s+1);++t<s;)i[t]=e[t];return i[s]=l(n),function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(a,this,i)}),h+""));function eN(e){return e}e.exports=eO}(tk,tk.exports)),tk.exports;var tj,tB,tM,tD,tU,tW,tF,t$={exports:{}},tq=t$.exports,tH=(tF||(tF=1,r6=function(){var e=function(){},t="undefined",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"],i={},o=null;function a(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch{return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(){for(var r=this.getLevel(),i=0;i<n.length;i++){var o=n[i];this[o]=i<r?e:this.methodFactory(o,r,this.name)}if(this.log=this.debug,typeof console===t&&r<this.levels.SILENT)return"No console available for logging"}function u(e){return function(){typeof console!==t&&(l.call(this),this[e].apply(this,arguments))}}function d(n,i,o){var l;return"debug"===(l=n)&&(l="log"),typeof console!==t&&("trace"===l&&r?s:void 0!==console[l]?a(console,l):void 0!==console.log?a(console,"log"):e)||u.apply(this,arguments)}function c(e,r){var a,s,u,c=this,f="loglevel";function h(){var e;if(!(typeof window===t||!f)){try{e=window.localStorage[f]}catch{}if(typeof e===t)try{var r=window.document.cookie,n=encodeURIComponent(f),i=r.indexOf(n+"=");-1!==i&&(e=/^([^;]+)/.exec(r.slice(i+n.length+1))[1])}catch{}return void 0===c.levels[e]&&(e=void 0),e}}function p(e){var t=e;if("string"==typeof t&&void 0!==c.levels[t.toUpperCase()]&&(t=c.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=c.levels.SILENT)return t;throw TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?f+=":"+e:"symbol"==typeof e&&(f=void 0),c.name=e,c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=r||d,c.getLevel=function(){return u??s??a},c.setLevel=function(e,r){return u=p(e),!1!==r&&function(e){var r=(n[e]||"silent").toUpperCase();if(!(typeof window===t||!f)){try{window.localStorage[f]=r;return}catch{}try{window.document.cookie=encodeURIComponent(f)+"="+r+";"}catch{}}}(u),l.call(c)},c.setDefaultLevel=function(e){s=p(e),h()||c.setLevel(e,!1)},c.resetLevel=function(){u=null,function(){if(!(typeof window===t||!f)){try{window.localStorage.removeItem(f)}catch{}try{window.document.cookie=encodeURIComponent(f)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}(),l.call(c)},c.enableAll=function(e){c.setLevel(c.levels.TRACE,e)},c.disableAll=function(e){c.setLevel(c.levels.SILENT,e)},c.rebuild=function(){if(o!==c&&(a=p(o.getLevel())),l.call(c),o===c)for(var e in i)i[e].rebuild()},a=p(o?o.getLevel():"WARN");var g=h();null!=g&&(u=p(g)),l.call(c)}(o=new c).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw TypeError("You must supply a name when creating a logger.");var t=i[e];return t||(t=i[e]=new c(e,o.methodFactory)),t};var f=typeof window!==t?window.log:void 0;return o.noConflict=function(){return typeof window!==t&&window.log===o&&(window.log=f),o},o.getLoggers=function(){return i},o.default=o,o},t$.exports?t$.exports=r6():tq.log=r6()),t$.exports);let tz=(0,i.g)(tH);function tV(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`positive integer expected, not ${e}`)}function tG(e,...t){if(!(e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function tK(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}tz.getLogger("http-helpers").setLevel(tH.levels.INFO);let tJ="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,tY=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),tZ=(e,t)=>e<<32-t|e>>>t;function tQ(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}(e)),tG(e),e}new Uint8Array(new Uint32Array([287454020]).buffer)[0];class tX{clone(){return this._cloneInto()}}function t0(e=32){if(tJ&&"function"==typeof tJ.getRandomValues)return tJ.getRandomValues(new Uint8Array(e));throw Error("crypto.getRandomValues must be defined")}let t1=(e,t,r)=>e&t^~e&r,t2=(e,t,r)=>e&t^e&r^t&r;class t4 extends tX{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=tY(this.buffer)}update(e){tK(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=tQ(e)).length;for(let o=0;o<i;){let a=Math.min(n-this.pos,i-o);if(a===n){let t=tY(e);for(;n<=i-o;o+=n)this.process(t,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){tK(this),function(e,t){tG(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),l=n?4:0,u=n?0:4;e.setUint32(t+l,a,n),e.setUint32(t+u,s,n)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);let a=tY(e),s=this.outputLen;if(s%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=s/4,u=this.get();if(l>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)a.setUint32(4*e,u[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:a}=this;return e.length=n,e.pos=a,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}let t3=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t9=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),t8=new Uint32Array(64);class t6 extends t4{constructor(){super(64,32,8,!1),this.A=0|t9[0],this.B=0|t9[1],this.C=0|t9[2],this.D=0|t9[3],this.E=0|t9[4],this.F=0|t9[5],this.G=0|t9[6],this.H=0|t9[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:a,H:s}=this;return[e,t,r,n,i,o,a,s]}set(e,t,r,n,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)t8[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=t8[e-15],r=t8[e-2],n=tZ(t,7)^tZ(t,18)^t>>>3,i=tZ(r,17)^tZ(r,19)^r>>>10;t8[e]=i+t8[e-7]+n+t8[e-16]|0}let{A:r,B:n,C:i,D:o,E:a,F:s,G:l,H:u}=this;for(let e=0;e<64;e++){let t=u+(tZ(a,6)^tZ(a,11)^tZ(a,25))+t1(a,s,l)+t3[e]+t8[e]|0,d=(tZ(r,2)^tZ(r,13)^tZ(r,22))+t2(r,n,i)|0;u=l,l=s,s=a,a=o+t|0,o=i,i=n,n=r,r=t+d|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,s=s+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,n,i,o,a,s,l,u)}roundClean(){t8.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let t7=function(e){let t=t=>e().update(tQ(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}(()=>new t6);class t5 extends tX{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");tV(e.outputLen),tV(e.blockLen)}(e);let r=tQ(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return tK(this),this.iHash.update(e),this}digestInto(e){tK(this),tG(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let re=(e,t,r)=>new t5(e,t).update(r).digest();re.create=(e,t)=>new t5(e,t);let rt=BigInt(0),rr=BigInt(1),rn=BigInt(2);function ri(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function ro(e){if(!ri(e))throw Error("Uint8Array expected")}let ra=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function rs(e){ro(e);let t="";for(let r=0;r<e.length;r++)t+=ra[e[r]];return t}function rl(e){let t=e.toString(16);return 1&t.length?`0${t}`:t}function ru(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}let rd={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function rc(e){return e>=rd._0&&e<=rd._9?e-rd._0:e>=rd._A&&e<=rd._F?e-(rd._A-10):e>=rd._a&&e<=rd._f?e-(rd._a-10):void 0}function rf(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=rc(e.charCodeAt(i)),o=rc(e.charCodeAt(i+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+o}return n}function rh(e){return ru(rs(e))}function rp(e){return ro(e),ru(rs(Uint8Array.from(e).reverse()))}function rg(e,t){return rf(e.toString(16).padStart(2*t,"0"))}function rb(e,t){return rg(e,t).reverse()}function ry(e,t,r){let n;if("string"==typeof t)try{n=rf(t)}catch(r){throw Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else if(ri(t))n=Uint8Array.from(t);else throw Error(`${e} must be hex string or Uint8Array`);let i=n.length;if("number"==typeof r&&i!==r)throw Error(`${e} expected ${r} bytes, got ${i}`);return n}function rm(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];ro(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let rw=e=>(rn<<BigInt(e-1))-rr,r_=e=>new Uint8Array(e),rv=e=>Uint8Array.from(e);function rE(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=r_(e),i=r_(e),o=0,a=()=>{n.fill(1),i.fill(0),o=0},s=(...e)=>r(i,n,...e),l=(e=r_())=>{i=s(rv([0]),e),n=s(),0!==e.length&&(i=s(rv([1]),e),n=s())},u=()=>{if(o++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=s()).slice();r.push(t),e+=n.length}return rm(...r)};return(e,t)=>{let r;for(a(),l(e);!(r=t(u()));)l();return a(),r}}let rS={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||ri(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function rA(e,t,r={}){let n=(t,r,n)=>{let i=rS[r];if("function"!=typeof i)throw Error(`Invalid validator "${r}", expected function`);let o=e[t];if(!(n&&void 0===o)&&!i(o,e))throw Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${r}`)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}let rR=Object.freeze(Object.defineProperty({__proto__:null,abytes:ro,bitGet:function(e,t){return e>>BigInt(t)&rr},bitLen:function(e){let t;for(t=0;e>rt;e>>=rr,t+=1);return t},bitMask:rw,bitSet:function(e,t,r){return e|(r?rr:rt)<<BigInt(t)},bytesToHex:rs,bytesToNumberBE:rh,bytesToNumberLE:rp,concatBytes:rm,createHmacDrbg:rE,ensureBytes:ry,equalBytes:function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r},hexToBytes:rf,hexToNumber:ru,isBytes:ri,numberToBytesBE:rg,numberToBytesLE:rb,numberToHexUnpadded:rl,numberToVarBytesBE:function(e){return rf(rl(e))},utf8ToBytes:function(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))},validateObject:rA},Symbol.toStringTag,{value:"Module"})),rI=BigInt(0),rT=BigInt(1),rO=BigInt(2),rN=BigInt(3),rP=BigInt(4),rx=BigInt(5),rC=BigInt(8);function rL(e,t){let r=e%t;return r>=rI?r:t+r}function rk(e,t,r){let n=e;for(;t-- >rI;)n*=n,n%=r;return n}function rj(e,t){if(e===rI||t<=rI)throw Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=rL(e,t),n=t,i=rI,o=rT;for(;r!==rI;){let e=n/r,t=n%r,a=i-o*e;n=r,r=t,i=o,o=a}if(n!==rT)throw Error("invert: does not exist");return rL(i,t)}BigInt(9),BigInt(16);let rB=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function rM(e,t){let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function rD(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function rU(e){let t=rD(e);return t+Math.ceil(t/2)}let rW=BigInt(0),rF=BigInt(1);function r$(e){return rA(e.Fp,rB.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),rA(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...rM(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}let{bytesToNumberBE:rq,hexToBytes:rH}=rR,rz={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){let{Err:t}=rz;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");let r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:rq(n),l:e.subarray(r+2)}},toSig(e){let{Err:t}=rz,r="string"==typeof e?rH(e):e;ro(r);let n=r.length;if(n<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:i,l:o}=rz._parseInt(r.subarray(2)),{d:a,l:s}=rz._parseInt(o);if(s.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(e){let t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{let t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),o=n.length/2,a=i.length/2,s=r(o),l=r(a);return`30${r(a+o+4)}02${l}${i}02${s}${n}`}},rV=BigInt(0),rG=BigInt(1);BigInt(2);let rK=BigInt(3);BigInt(4);let rJ=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),rY=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),rZ=BigInt(1),rQ=BigInt(2),rX=(e,t)=>(e+t/rQ)/t,r0=function(e,t,r=!1,n={}){if(e<=rI)throw Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:i,nByteLength:o}=rM(e,t);if(o>2048)throw Error("Field lengths over 2048 bytes are not supported");let a=function(e){if(e%rP===rN){let t=(e+rT)/rP;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}if(e%rC===rx){let t=(e-rx)/rC;return function(e,r){let n=e.mul(r,rO),i=e.pow(n,t),o=e.mul(r,i),a=e.mul(e.mul(o,rO),i),s=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(s),r))throw Error("Cannot find square root");return s}}return function(e){let t,r,n;let i=(e-rT)/rO;for(t=e-rT,r=0;t%rO===rI;t/=rO,r++);for(n=rO;n<e&&function(e,t,r){if(r<=rI||t<rI)throw Error("Expected power/modulo > 0");if(r===rT)return rI;let n=rT;for(;t>rI;)t&rT&&(n=n*e%r),e=e*e%r,t>>=rT;return n}(n,i,e)!==e-rT;n++);if(1===r){let t=(e+rT)/rP;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let o=(t+rT)/rO;return function(e,a){if(e.pow(a,i)===e.neg(e.ONE))throw Error("Cannot find square root");let s=r,l=e.pow(e.mul(e.ONE,n),t),u=e.pow(a,o),d=e.pow(a,t);for(;!e.eql(d,e.ONE);){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(d);t<s&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(l,rT<<BigInt(s-t-1));l=e.sqr(r),u=e.mul(u,r),d=e.mul(d,l),s=t}return u}}(e)}(e),s=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:rw(i),ZERO:rI,ONE:rT,create:t=>rL(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error(`Invalid field element: expected bigint, got ${typeof t}`);return rI<=t&&t<e},is0:e=>e===rI,isOdd:e=>(e&rT)===rT,neg:t=>rL(-t,e),eql:(e,t)=>e===t,sqr:t=>rL(t*t,e),add:(t,r)=>rL(t+r,e),sub:(t,r)=>rL(t-r,e),mul:(t,r)=>rL(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<rI)throw Error("Expected power > 0");if(r===rI)return e.ONE;if(r===rT)return t;let n=e.ONE,i=t;for(;r>rI;)r&rT&&(n=e.mul(n,i)),i=e.sqr(i),r>>=rT;return n})(s,e,t),div:(t,r)=>rL(t*rj(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>rj(t,e),sqrt:n.sqrt||(e=>a(s,e)),invertBatch:e=>(function(e,t){let r=Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r})(s,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?rb(e,o):rg(e,o),fromBytes:e=>{if(e.length!==o)throw Error(`Fp.fromBytes: expected ${o}, got ${e.length}`);return r?rp(e):rh(e)}});return Object.freeze(s)}(rJ,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),s=BigInt(88),l=e*e*e%rJ,u=l*l*e%rJ,d=rk(u,t,rJ)*u%rJ,c=rk(d,t,rJ)*u%rJ,f=rk(c,rQ,rJ)*l%rJ,h=rk(f,n,rJ)*f%rJ,p=rk(h,i,rJ)*h%rJ,g=rk(p,a,rJ)*p%rJ,b=rk(g,s,rJ)*g%rJ,y=rk(b,a,rJ)*p%rJ,m=rk(y,t,rJ)*u%rJ,w=rk(m,o,rJ)*h%rJ,_=rk(w,r,rJ)*l%rJ,v=rk(_,rQ,rJ);if(!r0.eql(r0.sqr(v),e))throw Error("Cannot find square root");return v}}),r1=function(e,t){let r=t=>(function(e){let t=function(e){let t=r$(e);return rA(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n}=t,i=r.BYTES+1,o=2*r.BYTES+1;function a(e){return rL(e,n)}let{ProjectivePoint:s,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:d}=function(e){let t=function(e){let t=r$(e);rA(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=t.toBytes||((e,t,n)=>{let i=t.toAffine();return rm(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=t.fromBytes||(e=>{let t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function o(e){let{a:n,b:i}=t,o=r.sqr(e),a=r.mul(o,e);return r.add(r.add(a,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),o(t.Gx)))throw Error("bad generator point: equation left != right");function a(e){return"bigint"==typeof e&&rV<e&&e<t.n}function s(e){if(!a(e))throw Error("Expected valid bigint: 0 < bigint < curve.n")}function l(e){let r;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:o,n:a}=t;if(n&&"bigint"!=typeof e){if(ri(e)&&(e=rs(e)),"string"!=typeof e||!n.includes(e.length))throw Error("Invalid key");e=e.padStart(2*i,"0")}try{r="bigint"==typeof e?e:rh(ry("private key",e,i))}catch{throw Error(`private key must be ${i} bytes, hex or bigint, not ${typeof e}`)}return o&&(r=rL(r,a)),s(r),r}let u=new Map;function d(e){if(!(e instanceof c))throw Error("ProjectivePoint expected")}class c{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw Error("x required");if(null==t||!r.isValid(t))throw Error("y required");if(null==n||!r.isValid(n))throw Error("z required")}static fromAffine(e){let{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw Error("invalid affine point");if(e instanceof c)throw Error("projective point not allowed");let i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?c.ZERO:new c(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(c.fromAffine)}static fromHex(e){let t=c.fromAffine(i(ry("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return c.BASE.multiply(l(e))}_setWindowSize(e){this._WINDOW_SIZE=e,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw Error("bad point: ZERO")}let{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw Error("bad point: x or y not FE");let i=r.sqr(n),a=o(e);if(!r.eql(i,a))throw Error("bad point: equation left != right");if(!this.isTorsionFree())throw Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){d(e);let{px:t,py:n,pz:i}=this,{px:o,py:a,pz:s}=e,l=r.eql(r.mul(t,s),r.mul(o,i)),u=r.eql(r.mul(n,s),r.mul(a,i));return l&&u}negate(){return new c(this.px,r.neg(this.py),this.pz)}double(){let{a:e,b:n}=t,i=r.mul(n,rK),{px:o,py:a,pz:s}=this,l=r.ZERO,u=r.ZERO,d=r.ZERO,f=r.mul(o,o),h=r.mul(a,a),p=r.mul(s,s),g=r.mul(o,a);return g=r.add(g,g),d=r.mul(o,s),d=r.add(d,d),l=r.mul(e,d),u=r.mul(i,p),u=r.add(l,u),l=r.sub(h,u),u=r.add(h,u),u=r.mul(l,u),l=r.mul(g,l),d=r.mul(i,d),p=r.mul(e,p),g=r.sub(f,p),g=r.mul(e,g),g=r.add(g,d),d=r.add(f,f),f=r.add(d,f),f=r.add(f,p),f=r.mul(f,g),u=r.add(u,f),p=r.mul(a,s),p=r.add(p,p),f=r.mul(p,g),l=r.sub(l,f),d=r.mul(p,h),d=r.add(d,d),new c(l,u,d=r.add(d,d))}add(e){d(e);let{px:n,py:i,pz:o}=this,{px:a,py:s,pz:l}=e,u=r.ZERO,f=r.ZERO,h=r.ZERO,p=t.a,g=r.mul(t.b,rK),b=r.mul(n,a),y=r.mul(i,s),m=r.mul(o,l),w=r.add(n,i),_=r.add(a,s);w=r.mul(w,_),_=r.add(b,y),w=r.sub(w,_),_=r.add(n,o);let v=r.add(a,l);return _=r.mul(_,v),v=r.add(b,m),_=r.sub(_,v),v=r.add(i,o),u=r.add(s,l),v=r.mul(v,u),u=r.add(y,m),v=r.sub(v,u),h=r.mul(p,_),u=r.mul(g,m),h=r.add(u,h),u=r.sub(y,h),h=r.add(y,h),f=r.mul(u,h),y=r.add(b,b),y=r.add(y,b),m=r.mul(p,m),_=r.mul(g,_),y=r.add(y,m),m=r.sub(b,m),m=r.mul(p,m),_=r.add(_,m),b=r.mul(y,_),f=r.add(f,b),b=r.mul(v,_),u=r.mul(w,u),u=r.sub(u,b),b=r.mul(w,y),h=r.mul(v,h),new c(u,f,h=r.add(h,b))}subtract(e){return this.add(e.negate())}is0(){return this.equals(c.ZERO)}wNAF(e){return h.wNAFCached(this,u,e,e=>{let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(c.fromAffine)})}multiplyUnsafe(e){let n=c.ZERO;if(e===rV)return n;if(s(e),e===rG)return this;let{endo:i}=t;if(!i)return h.unsafeLadder(this,e);let{k1neg:o,k1:a,k2neg:l,k2:u}=i.splitScalar(e),d=n,f=n,p=this;for(;a>rV||u>rV;)a&rG&&(d=d.add(p)),u&rG&&(f=f.add(p)),p=p.double(),a>>=rG,u>>=rG;return o&&(d=d.negate()),l&&(f=f.negate()),f=new c(r.mul(f.px,i.beta),f.py,f.pz),d.add(f)}multiply(e){let n,i;s(e);let{endo:o}=t;if(o){let{k1neg:t,k1:a,k2neg:s,k2:l}=o.splitScalar(e),{p:u,f:d}=this.wNAF(a),{p:f,f:p}=this.wNAF(l);u=h.constTimeNegate(t,u),f=h.constTimeNegate(s,f),f=new c(r.mul(f.px,o.beta),f.py,f.pz),n=u.add(f),i=d.add(p)}else{let{p:t,f:r}=this.wNAF(e);n=t,i=r}return c.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=c.BASE,i=(e,t)=>t!==rV&&t!==rG&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){let{px:t,py:n,pz:i}=this,o=this.is0();null==e&&(e=o?r.ONE:r.inv(i));let a=r.mul(t,e),s=r.mul(n,e),l=r.mul(i,e);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw Error("invZ was invalid");return{x:a,y:s}}isTorsionFree(){let{h:e,isTorsionFree:r}=t;if(e===rG)return!0;if(r)return r(c,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:r}=t;return e===rG?this:r?r(c,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),n(c,this,e)}toHex(e=!0){return rs(this.toRawBytes(e))}}c.BASE=new c(t.Gx,t.Gy,r.ONE),c.ZERO=new c(r.ZERO,r.ONE,r.ZERO);let f=t.nBitLength,h=function(e,t){let r=(e,t)=>{let r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>rW;)r&rF&&(n=n.add(i)),i=i.double(),r>>=rF;return n},precomputeWindow(e,t){let{windows:r,windowSize:i}=n(t),o=[],a=e,s=a;for(let e=0;e<r;e++){s=a,o.push(s);for(let e=1;e<i;e++)s=s.add(a),o.push(s);a=s.double()}return o},wNAF(t,i,o){let{windows:a,windowSize:s}=n(t),l=e.ZERO,u=e.BASE,d=BigInt(2**t-1),c=2**t,f=BigInt(t);for(let e=0;e<a;e++){let t=e*s,n=Number(o&d);o>>=f,n>s&&(n-=c,o+=rF);let a=t+Math.abs(n)-1,h=e%2!=0,p=n<0;0===n?u=u.add(r(h,i[t])):l=l.add(r(p,i[a]))}return{p:l,f:u}},wNAFCached(e,t,r,n){let i=e._WINDOW_SIZE||1,o=t.get(e);return o||(o=this.precomputeWindow(e,i),1!==i&&t.set(e,n(o))),this.wNAF(i,o,r)}}}(c,t.endo?Math.ceil(f/2):f);return{CURVE:t,ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:a}}({...t,toBytes(e,t,n){let i=t.toAffine(),o=r.toBytes(i.x);return n?rm(Uint8Array.from([t.hasEvenY()?2:3]),o):rm(Uint8Array.from([4]),o,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],a=e.subarray(1);if(t===i&&(2===n||3===n)){let e;let t=rh(a);if(!(rV<t&&t<r.ORDER))throw Error("Point is not on curve");let i=u(t);try{e=r.sqrt(i)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&n)==1!=((e&rG)===rG)&&(e=r.neg(e)),{x:t,y:e}}if(t===o&&4===n)return{x:r.fromBytes(a.subarray(0,r.BYTES)),y:r.fromBytes(a.subarray(r.BYTES,2*r.BYTES))};throw Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),c=e=>rs(rg(e,t.nByteLength)),f=(e,t,r)=>rh(e.slice(t,r));class h{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){let r=t.nByteLength;return new h(f(e=ry("compactSignature",e,2*r),0,r),f(e,r,2*r))}static fromDER(e){let{r:t,s:r}=rz.toSig(ry("DER",e));return new h(t,r)}assertValidity(){if(!d(this.r))throw Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new h(this.r,this.s,e)}recoverPublicKey(e){let{r:i,s:o,recovery:l}=this,u=b(ry("msgHash",e));if(null==l||![0,1,2,3].includes(l))throw Error("recovery id invalid");let d=2===l||3===l?i+t.n:i;if(d>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let f=(1&l)==0?"02":"03",h=s.fromHex(f+c(d)),p=rj(d,n),g=a(-u*p),y=a(o*p),m=s.BASE.multiplyAndAddUnsafe(h,g,y);if(!m)throw Error("point at infinify");return m.assertValidity(),m}hasHighS(){return this.s>n>>rG}normalizeS(){return this.hasHighS()?new h(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return rf(this.toDERHex())}toDERHex(){return rz.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return rf(this.toCompactHex())}toCompactHex(){return c(this.r)+c(this.s)}}function p(e){let t=ri(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===i||n===o:r?n===2*i||n===2*o:e instanceof s}let g=t.bits2int||function(e){let r=rh(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},b=t.bits2int_modN||function(e){return a(g(e))},y=rw(t.nBitLength);function m(e){if("bigint"!=typeof e)throw Error("bigint expected");if(!(rV<=e&&e<y))throw Error(`bigint expected < 2^${t.nBitLength}`);return rg(e,t.nByteLength)}let w={lowS:t.lowS,prehash:!1},_={lowS:t.lowS,prehash:!1};return s.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return s.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(p(e))throw Error("first arg must be private key");if(!p(t))throw Error("second arg must be public key");return s.fromHex(t).multiply(l(e)).toRawBytes(r)},sign:function(e,i,o=w){let{seed:u,k2sig:c}=function(e,i,o=w){if(["recovered","canonical"].some(e=>e in o))throw Error("sign() legacy options not supported");let{hash:u,randomBytes:c}=t,{lowS:f,prehash:p,extraEntropy:y}=o;null==f&&(f=!0),e=ry("msgHash",e),p&&(e=ry("prehashed msgHash",u(e)));let _=b(e),v=l(i),E=[m(v),m(_)];if(null!=y&&!1!==y){let e=!0===y?c(r.BYTES):y;E.push(ry("extraEntropy",e))}return{seed:rm(...E),k2sig:function(e){let t=g(e);if(!d(t))return;let r=rj(t,n),i=s.BASE.multiply(t).toAffine(),o=a(i.x);if(o===rV)return;let l=a(r*a(_+o*v));if(l===rV)return;let u=(i.x===o?0:2)|Number(i.y&rG),c=l;return f&&l>n>>rG&&(c=l>n>>rG?a(-l):l,u^=1),new h(o,c,u)}}}(e,i,o);return rE(t.hash.outputLen,t.nByteLength,t.hmac)(u,c)},verify:function(e,r,i,o=_){let l,u;if(r=ry("msgHash",r),i=ry("publicKey",i),"strict"in o)throw Error("options.strict was renamed to lowS");let{lowS:d,prehash:c}=o;try{if("string"==typeof e||ri(e))try{l=h.fromDER(e)}catch(t){if(!(t instanceof rz.Err))throw t;l=h.fromCompact(e)}else if("object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s){let{r:t,s:r}=e;l=new h(t,r)}else throw Error("PARSE");u=s.fromHex(i)}catch(e){if("PARSE"===e.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(d&&l.hasHighS())return!1;c&&(r=t.hash(r));let{r:f,s:p}=l,g=b(r),y=rj(p,n),m=a(g*y),w=a(f*y),v=s.BASE.multiplyAndAddUnsafe(u,m,w)?.toAffine();return!!v&&a(v.x)===f},ProjectivePoint:s,Signature:h,utils:{isValidPrivateKey(e){try{return l(e),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let e=rU(t.n);return function(e,t,r=!1){let n=e.length,i=rD(t),o=rU(t);if(n<16||n<o||n>1024)throw Error(`expected ${o}-1024 bytes of input, got ${n}`);let a=rL(r?rh(e):rp(e),t-rT)+rT;return r?rb(a,i):rg(a,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=s.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...e,hash:t,hmac:(e,...r)=>re(t,e,function(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];tG(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}(...r)),randomBytes:t0});return Object.freeze({...r(t),create:r})}({a:BigInt(0),b:BigInt(7),Fp:r0,n:rY,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-rZ*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),o=rX(t*e,rY),a=rX(-r*e,rY),s=rL(e-o*t-a*n,rY),l=rL(-o*r-a*t,rY),u=s>i,d=l>i;if(u&&(s=rY-s),d&&(l=rY-l),s>i||l>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:u,k1:s,k2neg:d,k2:l}}}},t7);BigInt(0),r1.ProjectivePoint,BigInt(0);let r2={},r4={};for(let e=0;e<16;e++){let t=e,r=16*e,n=e.toString(16).toLowerCase();r4[n]=t,r4[n.toUpperCase()]=t,r2[n]=r,r2[n.toUpperCase()]=r}Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));for(let e=0;e<=65535;e++)BigInt(e);let r3=e=>{if("string"!=typeof e)throw Error(`hex argument type ${typeof e} must be of type string`);if(!/^0x[0-9a-fA-F]*$/.test(e))throw Error(`Input must be a 0x-prefixed hexadecimal string, got ${e}`);let t=e.slice(2);return function(e){let t=e.length,r=new Uint8Array(t/2);for(let n=0;n<t;n+=2)r[n/2]=r2[e[n]]+r4[e[n+1]];return r}(t.length%2==0?t:function(e){let t=e;if("string"!=typeof t)throw Error(`[padToEven] value must be type 'string', received ${typeof t}`);return t.length%2&&(t=`0${t}`),t}(t))},r9=e=>{if(!Number.isSafeInteger(e)||e<0)throw Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`},r8=e=>r3(r9(e));BigInt("0xffffffffffffffff"),BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),r1.CURVE.n,r1.CURVE.n,BigInt(2),BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),r3("0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"),r3("0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347"),r3("0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421"),Uint8Array.from([128]),BigInt(-1),BigInt(0),BigInt(1),BigInt(2),BigInt(3),BigInt(7),BigInt(8),BigInt(27),BigInt(28),BigInt(31),BigInt(32),BigInt(64),BigInt(128),BigInt(255),BigInt(256),BigInt(96),BigInt(100),BigInt(160),BigInt(224),BigInt(7922816251426434e13),BigInt(1461501637330903e33),BigInt(2695994666715064e52),BigInt(1e9),Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),(r7=nn||(nn={})).String="string",r7.Bytes="view",r7.Number="number",(r5=ni||(ni={})).String="string",r5.Bytes="view",r5.JSON="json",(ne=no||(no={}))[ne.Number=0]="Number",ne[ne.BigInt=1]="BigInt",ne[ne.Uint8Array=2]="Uint8Array",ne[ne.PrefixedHexString=3]="PrefixedHexString",(nt=na||(na={}))[nt.Deposit=0]="Deposit",nt[nt.Withdrawal=1]="Withdrawal",nt[nt.Consolidation=2]="Consolidation",(nr=ns||(ns={}))[nr.Version=0]="Version",nr[nr.Balance=1]="Balance",nr[nr.Nonce=2]="Nonce",nr[nr.CodeHash=3]="CodeHash",nr[nr.CodeSize=4]="CodeSize",r8(ns.Version),r8(ns.Balance),r8(ns.Nonce),r8(ns.CodeHash),r8(ns.CodeSize),BigInt(256),BigInt(31);var r6,r7,r5,ne,nt,nr,nn,ni,no,na,ns,nl,nu={exports:{}},nd={},nc={};nE||(nE=1,nu.exports=function(){if(nv)return nd;nv=1,Object.defineProperty(nd,"__esModule",{value:!0});var e=(nl||(nl=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.default=function(e){var t=e.length,r=t%4;if(!r)return e;var i=t,o=4-r,a=t+o,s=n.C.alloc(a);for(s.write(e);o--;)s.write("=",i++);return s.toString()}),nc);function t(e,t){return void 0===t&&(t="utf8"),n.C.isBuffer(e)?i(e.toString("base64")):i(n.C.from(e,t).toString("base64"))}function r(t){return t=t.toString(),e.default(t).replace(/\-/g,"+").replace(/_/g,"/")}function i(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}return t.encode=t,t.decode=function(e,t){return void 0===t&&(t="utf8"),n.C.from(r(e),"base64").toString(t)},t.toBase64=r,t.fromBase64=i,t.toBuffer=function(e){return n.C.from(r(e),"base64")},nd.default=t,nd}().default,nu.exports.default=nu.exports),nu.exports;let nf={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},nh={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"};function np(e){let t=!1,r=0,n;try{n=window[e],t=!0,r=n.length;let i="__storage_test__";return n.setItem(i,i),n.removeItem(i),!0}catch(e){return e&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==r}}nf.MAINNET,nf.TESTNET,nf.CYAN,nf.AQUA,nf.CELESTE,nf.AQUA,nh.SAPPHIRE_MAINNET,nf.CELESTE,nh.SAPPHIRE_MAINNET,nf.CYAN,nh.SAPPHIRE_MAINNET,nf.MAINNET,nh.SAPPHIRE_MAINNET,nf.TESTNET,nh.SAPPHIRE_DEVNET,nf.MAINNET,nf.TESTNET,nf.CYAN,nf.AQUA,nf.CELESTE,nh.SAPPHIRE_MAINNET,nh.SAPPHIRE_DEVNET,nf.MAINNET,nf.TESTNET,nf.CYAN,nf.AQUA,nf.CELESTE,nf.MAINNET,nf.TESTNET,nf.CYAN,nf.AQUA,nf.CELESTE;class ng{constructor(){B(this,"store",new Map)}getItem(e){return this.store.get(e)||null}setItem(e,t){this.store.set(e,t)}removeItem(e){this.store.delete(e)}}class nb{constructor(e,t){B(this,"storage",void 0),B(this,"_storeKey",void 0),this.storage=t,this._storeKey=e;try{t.getItem(e)||this.resetStore()}catch{}}static getInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"local";if(!this.instanceMap.has(e)){let r;r="local"===t&&np("localStorage")?window.localStorage:"session"===t&&np("sessionStorage")?window.sessionStorage:new ng,this.instanceMap.set(e,new this(e,r))}return this.instanceMap.get(e)}toJSON(){return this.storage.getItem(this._storeKey)}resetStore(){let e=this.getStore();return this.storage.removeItem(this._storeKey),e}getStore(){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")}get(e){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")[e]}set(e,t){let r=JSON.parse(this.storage.getItem(this._storeKey)||"{}");r[e]=t,this.storage.setItem(this._storeKey,JSON.stringify(r))}}B(nb,"instanceMap",new Map),D(D({},nh),nf);let ny={IFRAME_STATUS:"iframe_status",CLOSE_WINDOW:"close_window",USER_LOGGED_IN:"user_logged_in",USER_LOGGED_OUT:"user_logged_out"},nm={LOGOUT:"logout",WALLET_INSTANCE_ID:"wallet_instance_id",USER_INFO:"user_info",SET_PROVIDER:"set_provider",TOPUP:"topup",IFRAME_STATUS:"iframe_status",CLOSED_WINDOW:"closed_window",GET_PROVIDER_STATE:"get_provider_state"},nw={GET_PROVIDER_STATE:"wallet_get_provider_state"},n_={ACCOUNTS_CHANGED:"wallet_accounts_changed",CHAIN_CHANGED:"wallet_chain_changed",UNLOCK_STATE_CHANGED:"wallet_unlock_state_changed"};var nv,nE,nS,nA,nR=(U||(U=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;let t=R();Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return t.EthereumRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return t.EthereumProviderError}});let r=x();Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});let n=function(){if(L)return k;L=1,Object.defineProperty(k,"__esModule",{value:!0}),k.ethErrors=void 0;let e=R(),t=x(),r=P();function n(r,n){let[i,a]=o(n);return new e.EthereumRpcError(r,i||t.getMessageFromCode(r),a)}function i(r,n){let[i,a]=o(n);return new e.EthereumProviderError(r,i||t.getMessageFromCode(r),a)}function o(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){let{message:t,data:r}=e;if(t&&"string"!=typeof t)throw Error("Must specify string message.");return[t||void 0,r]}}return[]}return k.ethErrors={rpc:{parse:e=>n(r.errorCodes.rpc.parse,e),invalidRequest:e=>n(r.errorCodes.rpc.invalidRequest,e),invalidParams:e=>n(r.errorCodes.rpc.invalidParams,e),methodNotFound:e=>n(r.errorCodes.rpc.methodNotFound,e),internal:e=>n(r.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Ethereum RPC Server errors must provide single object argument.");let{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw Error('"code" must be an integer such that: -32099 <= code <= -32005');return n(t,e)},invalidInput:e=>n(r.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>n(r.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>n(r.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>n(r.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>n(r.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>n(r.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>i(r.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>i(r.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>i(r.errorCodes.provider.unsupportedMethod,e),disconnected:e=>i(r.errorCodes.provider.disconnected,e),chainDisconnected:e=>i(r.errorCodes.provider.chainDisconnected,e),custom:t=>{if(!t||"object"!=typeof t||Array.isArray(t))throw Error("Ethereum Provider custom errors must provide single object argument.");let{code:r,message:n,data:i}=t;if(!n||"string"!=typeof n)throw Error('"message" must be a nonempty string');return new e.EthereumProviderError(r,n,i)}}},k}();Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});let i=P();Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})}(E)),E),nI=(nA||(nA=1,nS=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!=i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!=i--;){var n,i,o,a=o[i];if(!e(t[a],r[a]))return!1}return!0}return t!=t&&r!=r}),nS);let nT=(0,i.g)(nI);function nO(e){return null!==e&&"object"==typeof e&&"function"==typeof e.pipe}var nN={errors:{disconnected:()=>"Torus: Lost connection to Torus.",permanentlyDisconnected:()=>"Torus: Disconnected from iframe. Page reload required.",unsupportedSync:e=>`Torus: The Torus Ethereum provider does not support synchronous methods like ${e} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidOptions:e=>`Invalid options. Received: { maxEventListeners: ${e}}`,invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:e=>`'args.logger' must include required method '${e}'.`},info:{connected:e=>`Torus: Connected to chain with ID "${e}".`}};let nP={PRODUCTION:"production"},nx={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"};var nC={en:{embed:{continue:"Continue",actionRequired:"Authorization required",pendingAction:"Click continue to proceed with your request in a popup",cookiesRequired:"Cookies Required",enableCookies:"Please enable cookies in your browser preferences to access Torus",clickHere:"More Info"}},de:{embed:{continue:"Fortsetzen",actionRequired:"Autorisierung erforderlich",pendingAction:"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren",cookiesRequired:"Cookies ben\xf6tigt",enableCookies:"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen",clickHere:"Mehr Info"}},ja:{embed:{continue:"",actionRequired:"",pendingAction:"",cookiesRequired:"",enableCookies:"TorusCookie",clickHere:""}},ko:{embed:{continue:"",actionRequired:" ",pendingAction:"    .",cookiesRequired:" ",enableCookies:"     Torus .",clickHere:"  "}},zh:{embed:{continue:"",actionRequired:"",pendingAction:"",cookiesRequired:"Cookie",enableCookies:"cookieTorus",clickHere:""}}},nL=tz.getLogger("solana-embed");let nk=()=>Math.random().toString(36).slice(2),nj=async e=>{let t,r;switch(e){case"testing":t="https://solana-testing.tor.us",r="debug";break;case"development":t="http://localhost:8080",r="debug";break;default:t="https://solana.tor.us",r="error"}return{torusUrl:t,logLevel:r}},nB=()=>{let e=(window.navigator.language||"en-US").split("-");return Object.prototype.hasOwnProperty.call(nC,e[0])?e[0]:"en"},nM={height:660,width:375},nD={height:740,width:1315},nU={height:700,width:1200},nW={height:600,width:400};function nF(e){let{width:t,height:r}=e,n=void 0!==window.screenLeft?window.screenLeft:window.screenX,i=void 0!==window.screenTop?window.screenTop:window.screenY,o=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height;return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${r/1},width=${t/1},top=${Math.abs((a-r)/2/1+i)},left=${Math.abs((o-t)/2/1+n)}`}class n$ extends tT{constructor(e,t){var r,n;let{maxEventListeners:i=100,jsonRpcStreamName:o="provider"}=t;if(super(),B(this,"isTorus",void 0),B(this,"_rpcEngine",void 0),B(this,"jsonRpcConnectionEvents",void 0),B(this,"_state",void 0),!(nO(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState&&nO(r=e)&&!1!==r.readable&&"function"==typeof r._read&&"object"==typeof r._readableState))throw Error(nN.errors.invalidDuplexStream());this.isTorus=!0,this.setMaxListeners(i),this._handleConnect=this._handleConnect.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this._initializeState=this._initializeState.bind(this),this.request=this.request.bind(this),this.sendAsync=this.sendAsync.bind(this);let a=new tL;tp(e,a,e,this._handleStreamDisconnect.bind(this,"Torus")),a.ignoreStream("phishing");let s=function(){let e={},t=new tT,r=new e$.Duplex({objectMode:!0,read:function(){return!1},write:function(r,n,i){let o;try{r.id?function(t){let r=e[t.id];if(!r)throw Error(`StreamMiddleware - Unknown response id "${t.id}"`);delete e[t.id],Object.assign(r.res,t),setTimeout(r.end)}(r):t.emit("notification",r)}catch(e){o=e}i(o)}});return{events:t,middleware:(t,n,i,o)=>{r.push(t),e[t.id]={req:t,res:n,next:i,end:o}},stream:r}}();tp(s.stream,a.createStream(o),s.stream,this._handleStreamDisconnect.bind(this,"Torus RpcProvider"));let l=new tP;l.push((e,t,r,n)=>{let i=e.id,o=Math.random().toString(36).slice(2);e.id=o,t.id=o,r(r=>{e.id=i,t.id=i,r()})}),l.push((e,t,r)=>{"string"==typeof e.method&&e.method||(t.error=nR.ethErrors.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:e})),r(e=>{let{error:r}=t;return r&&nL.error(`Torus - RPC Error: ${r.message}`,r),e()})}),l.push((n={origin:location.origin},function(e,t,r){r(r=>{t.error&&tz.warn(`Error in RPC response:
`,t),e.isTorusInternal||(tz.info(`RPC (${n.origin}):`,e,"->",t),r())})})),l.push(s.middleware),this._rpcEngine=l,this.jsonRpcConnectionEvents=s.events}async request(e){if(!e||"object"!=typeof e||Array.isArray(e))throw nR.ethErrors.rpc.invalidRequest({message:nN.errors.invalidRequestArgs(),data:e});let{method:t,params:r}=e;if("string"!=typeof t||0===t.length)throw nR.ethErrors.rpc.invalidRequest({message:nN.errors.invalidRequestMethod(),data:e});if(void 0!==r&&!Array.isArray(r)&&("object"!=typeof r||null===r))throw nR.ethErrors.rpc.invalidRequest({message:nN.errors.invalidRequestParams(),data:e});return new Promise((e,n)=>{this._rpcRequest({method:t,params:r},tN(e,n))})}send(e,t){this._rpcRequest(e,t)}sendAsync(e){return new Promise((t,r)=>{this._rpcRequest(e,tN(t,r))})}_handleStreamDisconnect(e,t){let r;r=`Torus: Lost connection to "${e}".`,t?.stack&&(r+=`
${t.stack}`),nL.warn(r),this&&this.listenerCount("error")>0&&this.emit("error",r),this._handleDisconnect(!1,t?t.message:void 0)}}let nq=e=>{let t=window.document.createElement("template"),r=e.trim();return t.innerHTML=r,t.content.firstChild};function nH(e){return void 0===e.version}class nz extends tT{constructor(e){let{url:t,target:r,features:n,timeout:i=3e4}=e;super(),B(this,"url",void 0),B(this,"target",void 0),B(this,"features",void 0),B(this,"window",void 0),B(this,"windowTimer",void 0),B(this,"iClosedWindow",void 0),B(this,"timeout",void 0),this.url=t,this.target=r||"_blank",this.features=n||nF(nU),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=i,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),void 0===this.window&&clearInterval(this.windowTimer)},500))}open(){return this.window=window.open(this.url.href,this.target,this.features),this.window?.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}}class nV extends n${constructor(e,t){let{maxEventListeners:r=100,jsonRpcStreamName:n="provider"}=t;super(e,{maxEventListeners:r,jsonRpcStreamName:n}),B(this,"embedTranslations",void 0),B(this,"torusUrl",void 0),B(this,"dappStorageKey",void 0),B(this,"windowRefs",void 0),B(this,"tryWindowHandle",void 0),B(this,"torusAlertContainer",void 0),B(this,"torusIframe",void 0),this._state=D({},nV._defaultState),this.torusUrl="",this.dappStorageKey="";let i=nC[nB()];this.embedTranslations=i.embed,this.windowRefs={},this.on("connect",()=>{this._state.isConnected=!0}),this.jsonRpcConnectionEvents.on("notification",e=>{let{method:t,params:r}=e;if(t===ny.IFRAME_STATUS){let{isFullScreen:e,rid:t}=r;this._displayIframe({isFull:e,rid:t})}else if("create_window"===t){let{windowId:e,url:t}=r;this._createPopupBlockAlert(e,t)}else if(t===ny.CLOSE_WINDOW)this._handleCloseWindow(r);else if(t===ny.USER_LOGGED_IN){let{currentLoginProvider:e}=r;this._state.isLoggedIn=!0,this._state.currentLoginProvider=e}else t===ny.USER_LOGGED_OUT&&(this._state.isLoggedIn=!1,this._state.currentLoginProvider=null,this._displayIframe())})}get isLoggedIn(){return this._state.isLoggedIn}get isIFrameFullScreen(){return this._state.isIFrameFullScreen}isConnected(){return this._state.isConnected}async _initializeState(e){try{let{torusUrl:t,dappStorageKey:r,torusAlertContainer:n,torusIframe:i}=e;this.torusUrl=t,this.dappStorageKey=r,this.torusAlertContainer=n,this.torusIframe=i,this.torusIframe.addEventListener("load",()=>{this._state.isIFrameFullScreen||this._displayIframe()});let{currentLoginProvider:o,isLoggedIn:a}=await this.request({method:nm.GET_PROVIDER_STATE,params:[]});this._handleConnect(o,a)}catch(e){nL.error("Torus: Failed to get initial state. Please report this bug.",e)}finally{nL.info("initialized communication state"),this._state.initialized=!0,this.emit("_initialized")}}_handleWindow(e){let{url:t,target:r,features:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new URL(t||`${this.torusUrl}/redirect?windowId=${e}`);this.dappStorageKey&&(i.hash?i.hash+=`&dappStorageKey=${this.dappStorageKey}`:i.hash=`#dappStorageKey=${this.dappStorageKey}`);let o=new nz({url:i,target:r,features:n});if(o.open(),!o.window){this._createPopupBlockAlert(e,i.href);return}this.windowRefs[e]=o,this.request({method:"opened_window",params:{windowId:e}}),o.once("close",()=>{delete this.windowRefs[e],this.request({method:nm.CLOSED_WINDOW,params:{windowId:e}})})}_displayIframe(){let{isFull:e=!1,rid:t=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={};if(e)r.display="block",r.width="100%",r.height="100%",r.top="0px",r.right="0px",r.left="0px",r.bottom="0px";else switch(r.display=this._state.torusWidgetVisibility?"block":"none",r.height="70px",r.width="70px",this._state.buttonPosition){case nx.TOP_LEFT:r.top="0px",r.left="0px",r.right="auto",r.bottom="auto";break;case nx.TOP_RIGHT:r.top="0px",r.right="0px",r.left="auto",r.bottom="auto";break;case nx.BOTTOM_RIGHT:r.bottom="0px",r.right="0px",r.top="auto",r.left="auto";break;case nx.BOTTOM_LEFT:default:r.bottom="0px",r.left="0px",r.top="auto",r.right="auto"}Object.assign(this.torusIframe.style,r),this._state.isIFrameFullScreen=e,this.request({method:nm.IFRAME_STATUS,params:{isIFrameFullScreen:e,rid:t}})}hideTorusButton(){this._state.torusWidgetVisibility=!1,this._displayIframe()}showTorusButton(){this._state.torusWidgetVisibility=!0,this._displayIframe()}_rpcRequest(e,t){Array.isArray(e)||e.jsonrpc||(e.jsonrpc="2.0"),this.tryWindowHandle(e,t)}_handleConnect(e,t){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{currentLoginProvider:e,isLoggedIn:t}),nL.debug(nN.info.connected(e)))}_handleDisconnect(e,t){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let r;this._state.isConnected=!1,e?(r=new nR.EthereumRpcError(1013,t||nN.errors.disconnected()),nL.debug(r)):(r=new nR.EthereumRpcError(1011,t||nN.errors.permanentlyDisconnected()),nL.error(r),this._state.currentLoginProvider=null,this._state.isLoggedIn=!1,this._state.torusWidgetVisibility=!1,this._state.isIFrameFullScreen=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleCloseWindow(e){let{windowId:t}=e;this.windowRefs[t]&&(this.windowRefs[t].close(),delete this.windowRefs[t])}async _createPopupBlockAlert(e,t){let r=this.getLogoUrl(),n=nq(`<div id="torusAlert" class="torus-alert--v2"><div id="torusAlert__logo"><img src="${r}" /></div><div><h1 id="torusAlert__title">${this.embedTranslations.actionRequired}</h1><p id="torusAlert__desc">${this.embedTranslations.pendingAction}</p></div></div>`),i=nq(`<div><a id="torusAlert__btn">${this.embedTranslations.continue}</a></div>`),o=nq('<div id="torusAlert__btn-container"></div>');o.appendChild(i),n.appendChild(o),(()=>{this.torusAlertContainer.appendChild(n)})(),(()=>{i.addEventListener("click",()=>{this._handleWindow(e,{url:t,target:"_blank",features:nF(nW)}),n.remove(),0===this.torusAlertContainer.children.length&&(this.torusAlertContainer.style.display="none")})})(),this.torusAlertContainer.style.display="block"}getLogoUrl(){return`${this.torusUrl}/images/torus_icon-blue.svg`}}B(nV,"_defaultState",{buttonPosition:"bottom-left",currentLoginProvider:null,isIFrameFullScreen:!1,hasEmittedConnection:!1,torusWidgetVisibility:!1,initialized:!1,isLoggedIn:!1,isPermanentlyDisconnected:!1,isConnected:!1});class nG extends n${constructor(e,t){let{maxEventListeners:r=100,jsonRpcStreamName:n="provider"}=t;super(e,{maxEventListeners:r,jsonRpcStreamName:n}),B(this,"chainId",void 0),B(this,"selectedAddress",void 0),B(this,"tryWindowHandle",void 0),this._state=D({},nG._defaultState),this.selectedAddress=null,this.chainId=null,this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this.on("connect",()=>{this._state.isConnected=!0}),this.jsonRpcConnectionEvents.on("notification",e=>{let{method:t,params:r}=e;t===n_.ACCOUNTS_CHANGED?this._handleAccountsChanged(r):t===n_.UNLOCK_STATE_CHANGED?this._handleUnlockStateChanged(r):t===n_.CHAIN_CHANGED&&this._handleChainChanged(r)})}isConnected(){return this._state.isConnected}async _initializeState(){try{let{accounts:e,chainId:t,isUnlocked:r}=await this.request({method:nw.GET_PROVIDER_STATE,params:[]});this.emit("connect",{chainId:t}),this._handleChainChanged({chainId:t}),this._handleUnlockStateChanged({accounts:e,isUnlocked:r}),this._handleAccountsChanged(e)}catch(e){nL.error("Torus: Failed to get initial state. Please report this bug.",e)}finally{nL.info("initialized provider state"),this._state.initialized=!0,this.emit("_initialized")}}_rpcRequest(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t;if(!Array.isArray(e)){if(e.jsonrpc||(e.jsonrpc="2.0"),"solana_accounts"===e.method||"solana_requestAccounts"===e.method)n=(n,i)=>{this._handleAccountsChanged(i.result||[],"solana_accounts"===e.method,r),t(n,i)};else if("wallet_getProviderState"===e.method){this._rpcEngine.handle(e,n);return}}this.tryWindowHandle(e,n)}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),nL.debug(nN.info.connected(e)))}_handleDisconnect(e,t){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let r;this._state.isConnected=!1,e?(r=new nR.EthereumRpcError(1013,t||nN.errors.disconnected()),nL.debug(r)):(r=new nR.EthereumRpcError(1011,t||nN.errors.permanentlyDisconnected()),nL.error(r),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleAccountsChanged(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e;for(let t of(Array.isArray(n)||(nL.error("Torus: Received non-array accounts parameter. Please report this bug.",n),n=[]),e))if("string"!=typeof t){nL.error("Torus: Received non-string account. Please report this bug.",e),n=[];break}nT(this._state.accounts,n)||(t&&Array.isArray(this._state.accounts)&&this._state.accounts.length>0&&!r&&nL.error('Torus: "solana_accounts" unexpectedly updated accounts. Please report this bug.',n),this._state.accounts=n,this.emit("accountsChanged",n)),this.selectedAddress!==n[0]&&(this.selectedAddress=n[0]||null)}_handleChainChanged(){let{chainId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e){nL.error("Torus: Received invalid network parameters. Please report this bug.",{chainId:e});return}"loading"===e?this._handleDisconnect(!0):(this._handleConnect(e),e!==this.chainId&&(this.chainId=e,this._state.initialized&&this.emit("chainChanged",this.chainId)))}_handleUnlockStateChanged(){let{accounts:e,isUnlocked:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("boolean"!=typeof t){nL.error("Torus: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:t});return}t!==this._state.isUnlocked&&(this._state.isUnlocked=t,this._handleAccountsChanged(e||[]))}}function nK(e){return new Promise((t,r)=>{try{let r=document.createElement("img");r.onload=()=>t(!0),r.onerror=()=>t(!1),r.src=e}catch(e){r(e)}})}B(nG,"_defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});let nJ=e=>{let{document:t}=e,r=t.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;let n=t.querySelector('head > meta[name="title"]');return n?n.content:t.title&&t.title.length>0?t.title:e.location.hostname};async function nY(e){try{let{document:t}=e,r=t.querySelector('head > link[rel="shortcut icon"]');return r&&await nK(r.href)||(r=Array.from(t.querySelectorAll('head > link[rel="icon"]')).find(e=>!!e.href))&&await nK(r.href)?r.href:""}catch{return""}}let nZ=async()=>({name:nJ(window),icon:await nY(window)}),nQ=["send_transaction","sign_transaction","sign_all_transactions","sign_message","connect"],nX=[nm.SET_PROVIDER],n0=function(e){let t;try{t=window[e];let r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(e){return e&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}("localStorage");!async function(){try{if(typeof document>"u")return;let e=document.createElement("link"),{torusUrl:t}=await nj("production");e.href=`${t}/frame`,e.crossOrigin="anonymous",e.type="text/html",e.rel="prefetch",e.relList&&e.relList.supports&&e.relList.supports("prefetch")&&document.head.appendChild(e)}catch(e){nL.warn(e)}}();class n1{constructor(){let{modalZIndex:e=99999}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};B(this,"isInitialized",void 0),B(this,"torusAlert",void 0),B(this,"modalZIndex",void 0),B(this,"alertZIndex",void 0),B(this,"requestedLoginProvider",void 0),B(this,"provider",void 0),B(this,"communicationProvider",void 0),B(this,"dappStorageKey",void 0),B(this,"isTopupHidden",!1),B(this,"torusAlertContainer",void 0),B(this,"torusUrl",void 0),B(this,"torusIframe",void 0),B(this,"styleLink",void 0),this.torusUrl="",this.isInitialized=!1,this.requestedLoginProvider=null,this.modalZIndex=e,this.alertZIndex=e+1e3,this.dappStorageKey=""}get isLoggedIn(){return!!this.communicationProvider&&this.communicationProvider.isLoggedIn}async init(){let{buildEnv:e=nP.PRODUCTION,enableLogging:t=!1,network:r,showTorusButton:n=!1,useLocalStorage:i=!1,buttonPosition:o=nx.BOTTOM_LEFT,apiKey:a="torus-default",extraParams:s={},whiteLabel:l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.isInitialized)throw Error("Already initialized");let{torusUrl:u,logLevel:d}=await nj(e);nL.enableAll(),nL.info(u,"url loaded"),nL.info("Solana Embed Version :2.1.0"),this.torusUrl=u,nL.setDefaultLevel(d),t?nL.enableAll():nL.disableAll();let c=this.handleDappStorageKey(i),f=new URL(u);f.pathname.endsWith("/")?f.pathname+="frame":f.pathname+="/frame";let h=new URLSearchParams;return c&&h.append("dappStorageKey",c),h.append("origin",window.location.origin),f.hash=h.toString(),this.torusIframe=nq(`<iframe
        id="torusIframe"
        class="torusIframe"
        src="${f.href}"
        style="display: none; position: fixed; top: 0; right: 0; width: 100%;
        height: 100%; border: none; border-radius: 0; z-index: ${this.modalZIndex.toString()}"
      ></iframe>`),this.torusAlertContainer=nq(`<div id="torusAlertContainer" style="display:none; z-index: ${this.alertZIndex.toString()}"></div>`),this.styleLink=nq(`<link href="${u}/css/widget.css" rel="stylesheet" type="text/css">`),new Promise((e,t)=>{try{this.torusIframe.addEventListener("load",async()=>{let t=await nZ();this.torusIframe.contentWindow.postMessage({buttonPosition:o,apiKey:a,network:r,dappMetadata:t,extraParams:s,whiteLabel:l},f.origin),await this._setupWeb3({torusUrl:u}),n&&this.showTorusButton(),l?.topupHide?this.isTopupHidden=l.topupHide:this.hideTorusButton(),this.isInitialized=!0,window.torus=this,e()}),window.document.head.appendChild(this.styleLink),window.document.body.appendChild(this.torusIframe),window.document.body.appendChild(this.torusAlertContainer)}catch(e){t(e)}})}async login(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isInitialized)throw Error("Call init() first");try{this.requestedLoginProvider=e.loginProvider||null,this.requestedLoginProvider||this.communicationProvider._displayIframe({isFull:!0});let t=await new Promise((t,r)=>{this.provider._rpcRequest({method:"solana_requestAccounts",params:[this.requestedLoginProvider,e.login_hint]},tN(t,r))});if(Array.isArray(t)&&t.length>0)return t;throw Error("Login failed")}catch(e){throw nL.error("login failed",e),e}finally{this.communicationProvider.isIFrameFullScreen&&this.communicationProvider._displayIframe()}}async loginWithPrivateKey(e){if(!this.isInitialized)throw Error("Call init() first");let{privateKey:t,userInfo:r}=e,{success:n}=await this.communicationProvider.request({method:"login_with_private_key",params:{privateKey:t,userInfo:r}});if(!n)throw Error("Login Failed")}async logout(){if(!this.communicationProvider.isLoggedIn)throw Error("Not logged in");await this.communicationProvider.request({method:nm.LOGOUT,params:[]}),this.requestedLoginProvider=null}async cleanUp(){this.communicationProvider.isLoggedIn&&await this.logout(),this.clearInit()}clearInit(){function e(e){return e instanceof Element||e instanceof Document}e(this.styleLink)&&window.document.body.contains(this.styleLink)&&(this.styleLink.remove(),this.styleLink=void 0),e(this.torusIframe)&&window.document.body.contains(this.torusIframe)&&(this.torusIframe.remove(),this.torusIframe=void 0),e(this.torusAlertContainer)&&window.document.body.contains(this.torusAlertContainer)&&(this.torusAlert=void 0,this.torusAlertContainer.remove(),this.torusAlertContainer=void 0),this.isInitialized=!1}hideTorusButton(){this.communicationProvider.hideTorusButton()}showTorusButton(){this.communicationProvider.showTorusButton()}async setProvider(e){await this.communicationProvider.request({method:nm.SET_PROVIDER,params:D({},e)})}async showWallet(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=await this.communicationProvider.request({method:nm.WALLET_INSTANCE_ID,params:[]}),n=e?`/${e}`:"",i=new URL(`${this.torusUrl}/wallet${n}`);i.searchParams.append("instanceId",r),Object.keys(t).forEach(e=>{i.searchParams.append(e,t[e])}),this.dappStorageKey&&(i.hash=`#dappStorageKey=${this.dappStorageKey}`),new nz({url:i,features:nF(nD)}).open()}async getUserInfo(){return await this.communicationProvider.request({method:nm.USER_INFO,params:[]})}async initiateTopup(e,t){if(!this.isInitialized)throw Error("Torus is not initialized");let r=nk();return this.communicationProvider._handleWindow(r),await this.communicationProvider.request({method:nm.TOPUP,params:{provider:e,params:t,windowId:r}})}async getAccounts(){return await this.provider.request({method:"getAccounts",params:[]})}async sendTransaction(e){let t=nH(e),r=t?e.serialize({requireAllSignatures:!1}).toString("hex"):n.C.from(e.serialize()).toString("hex");return await this.provider.request({method:"send_transaction",params:{message:r,isLegacyTransaction:t}})}async signAndSendTransaction(e,t){let r=nH(e),i=r?e.serialize({requireAllSignatures:!1}).toString("hex"):n.C.from(e.serialize()).toString("hex");return{signature:await this.provider.request({method:"send_transaction",params:{message:i,options:t,isLegacyTransaction:r}})}}async signTransaction(e){let t=nH(e),r=t?e.serializeMessage().toString("hex"):n.C.from(e.message.serialize()).toString("hex"),o=JSON.parse(await this.provider.request({method:"sign_transaction",params:{message:r,messageOnly:!0,isLegacyTransaction:t}})),a={publicKey:new i.P(o.publicKey),signature:n.C.from(o.signature,"hex")};return e.addSignature(a.publicKey,a.signature),e}async signAllTransactions(e){let t;let r=e.map(e=>(t=nH(e))?e.serializeMessage().toString("hex"):n.C.from(e.message.serialize()).toString("hex")),o=(await this.provider.request({method:"sign_all_transactions",params:{message:r,messageOnly:!0,isLegacyTransaction:t}})).map(e=>{let t=JSON.parse(e);return{publicKey:new i.P(t.publicKey),signature:n.C.from(t.signature,"hex")}});return e.forEach((e,t)=>(e.addSignature(o[t].publicKey,o[t].signature),e)),e}async signMessage(e){return await this.provider.request({method:"sign_message",params:{data:e}})}async getGaslessPublicKey(){return await this.provider.request({method:"get_gasless_public_key",params:[]})}handleDappStorageKey(e){let t=`torus-${window.location.hostname}`,r="";if(n0&&e){let e=window.localStorage.getItem(t);if(e)r=e;else{let e=`torus-app-${nk()}`;window.localStorage.setItem(t,e),r=e}}return this.dappStorageKey=r,r}async _setupWeb3(e){nL.info("setupWeb3 running");let t=new tb({name:"embed_torus",target:"iframe_torus",targetWindow:this.torusIframe.contentWindow}),r=new tb({name:"embed_communication",target:"iframe_communication",targetWindow:this.torusIframe.contentWindow}),n=new nG(t,{}),i=new nV(r,{});n.tryWindowHandle=(e,t)=>{if(!Array.isArray(e)&&nQ.includes(e.method)){if(!this.communicationProvider.isLoggedIn)throw Error("User Not Logged In");let t=nk();i._handleWindow(t,{target:"_blank",features:nF(nW)}),e.windowId=t}n._rpcEngine.handle(e,t)},i.tryWindowHandle=(e,t)=>{if(!Array.isArray(e)&&nX.includes(e.method)){let t=nk();i._handleWindow(t,{target:"_blank",features:nF(nM)}),e.params.windowId=t}i._rpcEngine.handle(e,t)};let o=e=>{let t=n[e],r=this;n[e]=function(e,n){let{method:i,params:o=[]}=e;if("solana_requestAccounts"===i){if(!n)return r.login({loginProvider:o[0]});r.login({loginProvider:o[0]}).then(e=>n(null,e)).catch(e=>n(e))}return t.apply(this,[e,n])}};o("request"),o("sendAsync"),o("send");let a=new Proxy(n,{deleteProperty:()=>!0}),s=new Proxy(i,{deleteProperty:()=>!0});this.provider=a,this.communicationProvider=s,await Promise.all([n._initializeState(),i._initializeState(D(D({},e),{},{dappStorageKey:this.dappStorageKey,torusAlertContainer:this.torusAlertContainer,torusIframe:this.torusIframe}))]),nL.debug("Torus - injected provider")}}}}]);