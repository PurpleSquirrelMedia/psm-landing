"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7904],{27904:function(e,t,r){let n;r.d(t,{A:function(){return eD},B:function(){return iT},C:function(){return n1},D:function(){return id},E:function(){return eR},F:function(){return iK},I:function(){return M},N:function(){return c},O:function(){return ew},P:function(){return rJ},Q:function(){return rG},a:function(){return z},b:function(){return nu},c:function(){return nf},d:function(){return r4},e:function(){return nd},f:function(){return nQ},g:function(){return u},h:function(){return em},i:function(){return H},j:function(){return ib},k:function(){return ez},l:function(){return iC},m:function(){return iS},n:function(){return iI},o:function(){return iB},p:function(){return ig},q:function(){return rX},r:function(){return W},s:function(){return rZ},t:function(){return n0},u:function(){return eu},v:function(){return el},w:function(){return ip},x:function(){return iy},y:function(){return eM},z:function(){return iA}});var i,o=r(73109),s=r(63753),a=r(90686),l=r(9433),u=(0,a.ab)();let c=(0,s.g)(u);var f={},h=function(e,t){return(h=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},d=function(){return(d=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function g(e){return this instanceof g?(this.v=e,this):new g(e)}let y=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return d},__asyncDelegator:function(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:g(e[n](t)),done:"return"===n}:i?i(t):t}:i}},__asyncGenerator:function(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{var r;(r=i[e](t)).value instanceof g?Promise.resolve(r.value.v).then(l,u):c(o[0][2],r)}catch(e){c(o[0][3],e)}}function l(e){a("next",e)}function u(e){a("throw",e)}function c(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}},__await:g,__awaiter:function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,r){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,r),r},__createBinding:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},__decorate:function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__exportStar:function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])},__extends:function(e,t){function r(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},__generator:function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__metadata:function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param:function(e,t){return function(r,n){t(r,n,e)}},__read:b,__rest:function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},__values:p},Symbol.toStringTag,{value:"Module"})),m=(0,s.ae)(y);var v,w,_,E={},x={},O={},S={},I={},A={};function T(){return B||(B=1,Object.defineProperty(S,"__esModule",{value:!0}),m.__exportStar((w||(w=1,Object.defineProperty(I,"__esModule",{value:!0}),I.ONE_THOUSAND=I.ONE_HUNDRED=void 0,I.ONE_HUNDRED=100,I.ONE_THOUSAND=1e3),I),S),m.__exportStar((_||(_=1,Object.defineProperty(A,"__esModule",{value:!0}),A.ONE_YEAR=A.FOUR_WEEKS=A.THREE_WEEKS=A.TWO_WEEKS=A.ONE_WEEK=A.THIRTY_DAYS=A.SEVEN_DAYS=A.FIVE_DAYS=A.THREE_DAYS=A.ONE_DAY=A.TWENTY_FOUR_HOURS=A.TWELVE_HOURS=A.SIX_HOURS=A.THREE_HOURS=A.ONE_HOUR=A.SIXTY_MINUTES=A.THIRTY_MINUTES=A.TEN_MINUTES=A.FIVE_MINUTES=A.ONE_MINUTE=A.SIXTY_SECONDS=A.THIRTY_SECONDS=A.TEN_SECONDS=A.FIVE_SECONDS=A.ONE_SECOND=void 0,A.ONE_SECOND=1,A.FIVE_SECONDS=5,A.TEN_SECONDS=10,A.THIRTY_SECONDS=30,A.SIXTY_SECONDS=60,A.ONE_MINUTE=A.SIXTY_SECONDS,A.FIVE_MINUTES=5*A.ONE_MINUTE,A.TEN_MINUTES=10*A.ONE_MINUTE,A.THIRTY_MINUTES=30*A.ONE_MINUTE,A.SIXTY_MINUTES=60*A.ONE_MINUTE,A.ONE_HOUR=A.SIXTY_MINUTES,A.THREE_HOURS=3*A.ONE_HOUR,A.SIX_HOURS=6*A.ONE_HOUR,A.TWELVE_HOURS=12*A.ONE_HOUR,A.TWENTY_FOUR_HOURS=24*A.ONE_HOUR,A.ONE_DAY=A.TWENTY_FOUR_HOURS,A.THREE_DAYS=3*A.ONE_DAY,A.FIVE_DAYS=5*A.ONE_DAY,A.SEVEN_DAYS=7*A.ONE_DAY,A.THIRTY_DAYS=30*A.ONE_DAY,A.ONE_WEEK=A.SEVEN_DAYS,A.TWO_WEEKS=2*A.ONE_WEEK,A.THREE_WEEKS=3*A.ONE_WEEK,A.FOUR_WEEKS=4*A.ONE_WEEK,A.ONE_YEAR=365*A.ONE_DAY),A),S)),S}var B,P,N,j,C,L={},U={},k={},z=(ne||(ne=1,Object.defineProperty(f,"__esModule",{value:!0}),m.__exportStar((N||(N=1,Object.defineProperty(E,"__esModule",{value:!0}),m.__exportStar((v||(v=1,Object.defineProperty(x,"__esModule",{value:!0}),x.delay=void 0,x.delay=function(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}),x),E),m.__exportStar(function(){if(P)return O;P=1,Object.defineProperty(O,"__esModule",{value:!0}),O.fromMiliseconds=O.toMiliseconds=void 0;let e=T();return O.toMiliseconds=function(t){return t*e.ONE_THOUSAND},O.fromMiliseconds=function(t){return Math.floor(t/e.ONE_THOUSAND)},O}(),E)),E),f),m.__exportStar(function(){if(j)return L;j=1,Object.defineProperty(L,"__esModule",{value:!0}),L.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let t=this.get(e);if("u">typeof t.elapsed)throw Error(`Watch already stopped for label: ${e}`);let r=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:r})}get(e){let t=this.timestamps.get(e);if(typeof t>"u")throw Error(`No timestamp found for label: ${e}`);return t}elapsed(e){let t=this.get(e);return t.elapsed||Date.now()-t.started}}return L.Watch=e,L.default=e,L}(),f),m.__exportStar((r7||(r7=1,Object.defineProperty(U,"__esModule",{value:!0}),m.__exportStar(function(){if(C)return k;C=1,Object.defineProperty(k,"__esModule",{value:!0}),k.IWatch=void 0;class e{}return k.IWatch=e,k}(),U)),U),f),m.__exportStar(T(),f)),f);class M{}let R=class extends M{constructor(e){super()}},D=z.FIVE_SECONDS,W={pulse:"heartbeat_pulse"},H=class e extends R{constructor(e){super(e),this.events=new u.EventEmitter,this.interval=D,this.interval=e?.interval||D}static async init(t){let r=new e(t);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),z.toMiliseconds(this.interval))}pulse(){this.events.emit(W.pulse)}},F=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,K=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,V=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function $(e,t){if("__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`);return}return t}function q(e,t={}){if("string"!=typeof e)return e;if('"'===e[0]&&'"'===e[e.length-1]&&-1===e.indexOf("\\"))return e.slice(1,-1);let r=e.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!V.test(e)){if(t.strict)throw SyntaxError("[destr] Invalid JSON");return e}try{if(F.test(e)||K.test(e)){if(t.strict)throw Error("[destr] Possible prototype pollution");return JSON.parse(e,$)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}function Y(e,...t){try{var r;return(r=e(...t))&&"function"==typeof r.then?r:Promise.resolve(r)}catch(e){return Promise.reject(e)}}function G(e){if(function(e){let t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){let t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"==typeof e.toJSON)return G(e.toJSON());throw Error("[unstorage] Cannot stringify value!")}let Z="base64:";function J(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function X(e){return(e=J(e))?e+":":""}let Q=()=>{let e=new Map;return{name:"memory",getInstance:()=>e,hasItem:t=>e.has(t),getItem:t=>e.get(t)??null,getItemRaw:t=>e.get(t)??null,setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys:()=>[...e.keys()],clear(){e.clear()},dispose(){e.clear()}}};function ee(e,t,r){return e.watch?e.watch((e,n)=>t(e,r+n)):()=>{}}async function et(e){"function"==typeof e.dispose&&await Y(e.dispose)}function er(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function en(e,t){let r;let n=()=>{if(r)return r;let n=indexedDB.open(e);return n.onupgradeneeded=()=>n.result.createObjectStore(t),(r=er(n)).then(e=>{e.onclose=()=>r=void 0},()=>{}),r};return(e,r)=>n().then(n=>r(n.transaction(t,e).objectStore(t)))}function ei(){return n||(n=en("keyval-store","keyval")),n}function eo(e,t=ei()){return t("readonly",t=>er(t.get(e)))}let es=e=>JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString()+"n":t),ea=e=>JSON.parse(e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3'),(e,t)=>"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t);function el(e){if("string"!=typeof e)throw Error(`Cannot safe json parse value of type ${typeof e}`);try{return ea(e)}catch{return e}}function eu(e){return"string"==typeof e?e:es(e)||""}var ec=(e={})=>{let t;let r=e.base&&e.base.length>0?`${e.base}:`:"",n=e=>r+e;return e.dbName&&e.storeName&&(t=en(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await eo(n(e),t)>"u"),getItem:async e=>await eo(n(e),t)??null,setItem:(e,r)=>(function(e,t,r=ei()){return r("readwrite",r=>(r.put(t,e),er(r.transaction)))})(n(e),r,t),removeItem:e=>(function(e,t=ei()){return t("readwrite",t=>(t.delete(e),er(t.transaction)))})(n(e),t),getKeys:()=>(function(e=ei()){return e("readonly",e=>{var t;if(e.getAllKeys)return er(e.getAllKeys());let r=[];return(t=e=>r.push(e.key),e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},er(e.transaction)).then(()=>r)})})(t),clear:()=>(function(e=ei()){return e("readwrite",e=>(e.clear(),er(e.transaction)))})(t)}};let ef=class{constructor(){this.indexedDb=function(e={}){let t={mounts:{"":e.driver||Q()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=e=>{for(let r of t.mountpoints)if(e.startsWith(r))return{base:r,relativeKey:e.slice(r.length),driver:t.mounts[r]};return{base:"",relativeKey:e,driver:t.mounts[""]}},n=(e,r)=>t.mountpoints.filter(t=>t.startsWith(e)||r&&e.startsWith(t)).map(r=>({relativeBase:e.length>r.length?e.slice(r.length):void 0,mountpoint:r,driver:t.mounts[r]})),i=(e,r)=>{if(t.watching)for(let n of(r=J(r),t.watchListeners))n(e,r)},s=async()=>{if(!t.watching)for(let e in t.watching=!0,t.mounts)t.unwatch[e]=await ee(t.mounts[e],i,e)},a=async()=>{if(t.watching){for(let e in t.unwatch)await t.unwatch[e]();t.unwatch={},t.watching=!1}},l=(e,t,n)=>{let i=new Map,o=e=>{let t=i.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},i.set(e.base,t)),t};for(let n of e){let e="string"==typeof n,i=J(e?n:n.key),s=e?void 0:n.value,a=e||!n.options?t:{...t,...n.options},l=r(i);o(l).items.push({key:i,value:s,relativeKey:l.relativeKey,options:a})}return Promise.all([...i.values()].map(e=>n(e))).then(e=>e.flat())},u={hasItem(e,t={}){let{relativeKey:n,driver:i}=r(e=J(e));return Y(i.hasItem,n,t)},getItem(e,t={}){let{relativeKey:n,driver:i}=r(e=J(e));return Y(i.getItem,n,t).then(e=>q(e))},getItems:(e,t={})=>l(e,t,e=>e.driver.getItems?Y(e.driver.getItems,e.items.map(e=>({key:e.relativeKey,options:e.options})),t).then(t=>t.map(t=>({key:function(...e){return J(e.join(":"))}(e.base,t.key),value:q(t.value)}))):Promise.all(e.items.map(t=>Y(e.driver.getItem,t.relativeKey,t.options).then(e=>({key:t.key,value:q(e)}))))),getItemRaw(e,t={}){let{relativeKey:n,driver:i}=r(e=J(e));return i.getItemRaw?Y(i.getItemRaw,n,t):Y(i.getItem,n,t).then(e=>{var t;return"string"==typeof e&&e.startsWith(Z)?(t=e.slice(Z.length),globalThis.Buffer?o.C.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))):e})},async setItem(e,t,n={}){if(void 0===t)return u.removeItem(e);let{relativeKey:o,driver:s}=r(e=J(e));s.setItem&&(await Y(s.setItem,o,G(t),n),s.watch||i("update",e))},async setItems(e,t){await l(e,t,async e=>{if(e.driver.setItems)return Y(e.driver.setItems,e.items.map(e=>({key:e.relativeKey,value:G(e.value),options:e.options})),t);e.driver.setItem&&await Promise.all(e.items.map(t=>Y(e.driver.setItem,t.relativeKey,G(t.value),t.options)))})},async setItemRaw(e,t,n={}){if(void 0===t)return u.removeItem(e,n);let{relativeKey:s,driver:a}=r(e=J(e));if(a.setItemRaw)await Y(a.setItemRaw,s,t,n);else{if(!a.setItem)return;await Y(a.setItem,s,"string"==typeof t?t:Z+(globalThis.Buffer?o.C.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))),n)}a.watch||i("update",e)},async removeItem(e,t={}){"boolean"==typeof t&&(t={removeMeta:t});let{relativeKey:n,driver:o}=r(e=J(e));o.removeItem&&(await Y(o.removeItem,n,t),(t.removeMeta||t.removeMata)&&await Y(o.removeItem,n+"$",t),o.watch||i("remove",e))},async getMeta(e,t={}){"boolean"==typeof t&&(t={nativeOnly:t});let{relativeKey:n,driver:i}=r(e=J(e)),o=Object.create(null);if(i.getMeta&&Object.assign(o,await Y(i.getMeta,n,t)),!t.nativeOnly){let e=await Y(i.getItem,n+"$",t).then(e=>q(e));e&&"object"==typeof e&&("string"==typeof e.atime&&(e.atime=new Date(e.atime)),"string"==typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(o,e))}return o},setMeta(e,t,r={}){return this.setItem(e+"$",t,r)},removeMeta(e,t={}){return this.removeItem(e+"$",t)},async getKeys(e,t={}){let r=n(e=X(e),!0),i=[],o=[],s=!0;for(let e of r){for(let r of(e.driver.flags?.maxDepth||(s=!1),await Y(e.driver.getKeys,e.relativeBase,t))){let t=e.mountpoint+J(r);i.some(e=>t.startsWith(e))||o.push(t)}i=[e.mountpoint,...i.filter(t=>!t.startsWith(e.mountpoint))]}let a=void 0!==t.maxDepth&&!s;return o.filter(r=>{var n;return(!a||function(e,t){if(void 0===t)return!0;let r=0,n=e.indexOf(":");for(;n>-1;)r++,n=e.indexOf(":",n+1);return r<=t}(r,t.maxDepth))&&((n=e)?r.startsWith(n)&&"$"!==r[r.length-1]:"$"!==r[r.length-1])})},async clear(e,t={}){e=X(e),await Promise.all(n(e,!1).map(async e=>e.driver.clear?Y(e.driver.clear,e.relativeBase,t):e.driver.removeItem?Promise.all((await e.driver.getKeys(e.relativeBase||"",t)).map(r=>e.driver.removeItem(r,t))):void 0))},async dispose(){await Promise.all(Object.values(t.mounts).map(e=>et(e)))},watch:async e=>(await s(),t.watchListeners.push(e),async()=>{t.watchListeners=t.watchListeners.filter(t=>t!==e),0===t.watchListeners.length&&await a()}),async unwatch(){t.watchListeners=[],await a()},mount(e,r){if((e=X(e))&&t.mounts[e])throw Error(`already mounted at ${e}`);return e&&(t.mountpoints.push(e),t.mountpoints.sort((e,t)=>t.length-e.length)),t.mounts[e]=r,t.watching&&Promise.resolve(ee(r,i,e)).then(r=>{t.unwatch[e]=r}).catch(console.error),u},async unmount(e,r=!0){(e=X(e))&&t.mounts[e]&&(t.watching&&e in t.unwatch&&(t.unwatch[e]?.(),delete t.unwatch[e]),r&&await et(t.mounts[e]),t.mountpoints=t.mountpoints.filter(t=>t!==e),delete t.mounts[e])},getMount(e=""){let t=r(e=J(e)+":");return{driver:t.driver,base:t.base}},getMounts:(e="",t={})=>n(e=J(e),t.parents).map(e=>({driver:e.driver,base:e.mountpoint})),keys:(e,t={})=>u.getKeys(e,t),get:(e,t={})=>u.getItem(e,t),set:(e,t,r={})=>u.setItem(e,t,r),has:(e,t={})=>u.hasItem(e,t),del:(e,t={})=>u.removeItem(e,t),remove:(e,t={})=>u.removeItem(e,t)};return u}({driver:ec({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){let t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,eu(t))}async removeItem(e){await this.indexedDb.removeItem(e)}};var eh="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof o.ca?o.ca:"u">typeof self?self:{},ed={exports:{}};function ep(e){var t;return[e[0],el(null!=(t=e[1])?t:"")]}!function(){function e(){}e.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){let e=this;Object.keys(e).forEach(function(t){e[t]=void 0,delete e[t]})},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),"u">typeof eh&&eh.localStorage?ed.exports=eh.localStorage:"u">typeof window&&window.localStorage?ed.exports=window.localStorage:ed.exports=new e}();let eb=class{constructor(){this.localStorage=ed.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(ep)}async getItem(e){let t=this.localStorage.getItem(e);if(null!==t)return el(t)}async setItem(e,t){this.localStorage.setItem(e,eu(t))}async removeItem(e){this.localStorage.removeItem(e)}},eg=async(e,t,r)=>{let n="wc_storage_version",i=await t.getItem(n);if(i&&i>=1){r(t);return}let o=await e.getKeys();if(!o.length){r(t);return}let s=[];for(;o.length;){let r=o.shift();if(!r)continue;let n=r.toLowerCase();if(n.includes("wc@")||n.includes("walletconnect")||n.includes("wc_")||n.includes("wallet_connect")){let n=await e.getItem(r);await t.setItem(r,n),s.push(r)}}await t.setItem(n,1),r(t),ey(e,s)},ey=async(e,t)=>{t.length&&t.forEach(async t=>{await e.removeItem(t)})},em=class{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};let e=new eb;this.storage=e;try{let t=new ef;eg(e,t,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{let t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}};var ev=function(){if(ni)return nn;ni=1;let e=function(){if(nr)return nt;function e(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}return nr=1,nt=function(t,r,n){var i=n&&n.stringify||e;if("object"==typeof t&&null!==t){var o=r.length+1;if(1===o)return t;var s=Array(o);s[0]=i(t);for(var a=1;a<o;a++)s[a]=i(r[a]);return s.join(" ")}if("string"!=typeof t)return t;var l=r.length;if(0===l)return t;for(var u="",c=0,f=-1,h=t&&t.length||0,d=0;d<h;){if(37===t.charCodeAt(d)&&d+1<h){switch(f=f>-1?f:0,t.charCodeAt(d+1)){case 100:case 102:if(c>=l||null==r[c])break;f<d&&(u+=t.slice(f,d)),u+=Number(r[c]),f=d+2,d++;break;case 105:if(c>=l||null==r[c])break;f<d&&(u+=t.slice(f,d)),u+=Math.floor(Number(r[c])),f=d+2,d++;break;case 79:case 111:case 106:if(c>=l||void 0===r[c])break;f<d&&(u+=t.slice(f,d));var p=typeof r[c];if("string"===p){u+="'"+r[c]+"'",f=d+2,d++;break}if("function"===p){u+=r[c].name||"<anonymous>",f=d+2,d++;break}u+=i(r[c]),f=d+2,d++;break;case 115:if(c>=l)break;f<d&&(u+=t.slice(f,d)),u+=String(r[c]),f=d+2,d++;break;case 37:f<d&&(u+=t.slice(f,d)),u+="%",f=d+2,d++,c--}++c}++d}return -1===f?t:(f<h&&(u+=t.slice(f)),u)}}();nn=r;let t=function(){function e(e){return"u">typeof e&&e}try{return"u">typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}().console||{};function r(e){var a,l;(e=e||{}).browser=e.browser||{};let h=e.browser.transmit;if(h&&"function"!=typeof h.send)throw Error("pino: transmit option must have a send function");let d=e.browser.write||t;e.browser.write&&(e.browser.asObject=!0);let p=e.serializers||{},b=Array.isArray(a=e.browser.serialize)?a.filter(function(e){return"!stdSerializers.err"!==e}):!0===a&&Object.keys(p),g=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(g=!1),"function"==typeof d&&(d.error=d.fatal=d.warn=d.info=d.debug=d.trace=d),!1===e.enabled&&(e.level="silent");let y=e.level||"info",m=Object.create(d);m.log||(m.log=u),Object.defineProperty(m,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(m,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,n(v,m,"error","log"),n(v,m,"fatal","error"),n(v,m,"warn","error"),n(v,m,"info","log"),n(v,m,"debug","log"),n(v,m,"trace","log")}});let v={transmit:h,serialize:b,asObject:e.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:"function"==typeof(l=e).timestamp?l.timestamp:!1===l.timestamp?c:f};return m.levels=r.levels,m.level=y,m.setMaxListeners=m.getMaxListeners=m.emit=m.addListener=m.on=m.prependListener=m.once=m.prependOnceListener=m.removeListener=m.removeAllListeners=m.listeners=m.listenerCount=m.eventNames=m.write=m.flush=u,m.serializers=p,m._serialize=b,m._stdErrSerialize=g,m.child=function(t,r){if(!t)throw Error("missing bindings for child Pino");r=r||{},b&&t.serializers&&(r.serializers=t.serializers);let n=r.serializers;if(b&&n){var a=Object.assign({},p,n),l=!0===e.browser.serialize?Object.keys(a):b;delete t.serializers,i([t],l,a,this._stdErrSerialize)}function u(e){this._childLevel=(0|e._childLevel)+1,this.error=o(e,t,"error"),this.fatal=o(e,t,"fatal"),this.warn=o(e,t,"warn"),this.info=o(e,t,"info"),this.debug=o(e,t,"debug"),this.trace=o(e,t,"trace"),a&&(this.serializers=a,this._serialize=l),h&&(this._logEvent=s([].concat(e._logEvent.bindings,t)))}return u.prototype=this,new u(this)},h&&(m._logEvent=s()),m}function n(n,o,a,l){var c;let f=Object.getPrototypeOf(o);o[a]=o.levelVal>o.levels.values[a]?u:f[a]?f[a]:t[a]||t[l]||u,(n.transmit||o[a]!==u)&&(o[a]=(c=o[a],function(){let l=n.timestamp(),u=Array(arguments.length),f=Object.getPrototypeOf&&Object.getPrototypeOf(this)===t?t:this;for(var h=0;h<u.length;h++)u[h]=arguments[h];if(n.serialize&&!n.asObject&&i(u,this._serialize,this.serializers,this._stdErrSerialize),n.asObject?c.call(f,function(t,n,o,s){t._serialize&&i(o,t._serialize,t.serializers,t._stdErrSerialize);let a=o.slice(),l=a[0],u={};s&&(u.time=s),u.level=r.levels.values[n];let c=(0|t._childLevel)+1;if(c<1&&(c=1),null!==l&&"object"==typeof l){for(;c--&&"object"==typeof a[0];)Object.assign(u,a.shift());l=a.length?e(a.shift(),a):void 0}else"string"==typeof l&&(l=e(a.shift(),a));return void 0!==l&&(u.msg=l),u}(this,a,u,l)):c.apply(f,u),n.transmit){let e=n.transmit.level||o.level,t=r.levels.values[e],c=r.levels.values[a];if(c<t)return;(function(e,t,r){let n=t.send,o=t.ts,a=t.methodLevel,l=t.methodValue,u=t.val,c=e._logEvent.bindings;i(r,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=o,e._logEvent.messages=r.filter(function(e){return -1===c.indexOf(e)}),e._logEvent.level.label=a,e._logEvent.level.value=l,n(a,e._logEvent,u),e._logEvent=s(c)})(this,{ts:l,methodLevel:a,methodValue:c,transmitValue:r.levels.values[n.transmit.level||o.level],send:n.transmit.send,val:o.levelVal},u)}}))}function i(e,t,n,i){for(let o in e)if(i&&e[o]instanceof Error)e[o]=r.stdSerializers.err(e[o]);else if("object"==typeof e[o]&&!Array.isArray(e[o]))for(let r in e[o])t&&t.indexOf(r)>-1&&r in n&&(e[o][r]=n[r](e[o][r]))}function o(e,t,r){return function(){let n=Array(1+arguments.length);n[0]=t;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return e[r].apply(this,n)}}function s(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function a(){return{}}function l(e){return e}function u(){}function c(){return!1}function f(){return Date.now()}return r.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},r.stdSerializers={mapHttpRequest:a,mapHttpResponse:a,wrapRequestSerializer:l,wrapResponseSerializer:l,wrapErrorSerializer:l,req:a,res:a,err:function(e){let t={type:e.constructor.name,msg:e.message,stack:e.stack};for(let r in e)void 0===t[r]&&(t[r]=e[r]);return t}},r.stdTimeFunctions=Object.assign({},{nullTime:c,epochTime:f,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}}),nn}();let ew=(0,s.g)(ev),e_={level:"info"},eE="custom_context",ex=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},eO=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){let t=new ex(e);if(t.size>this.maxSizeInBytes)throw Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?this.tail&&(this.tail.next=t):this.head=t,this.tail=t,this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;let e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){let e=[],t=this.head;for(;null!==t;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};let t=e.value;return e=e.next,{done:!1,value:t}}}}},eS=class{constructor(e,t=1024e3){this.level=e??"error",this.levelValue=ev.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new eO(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===ev.levels.values.error?console.error(e):t===ev.levels.values.warn?console.warn(e):t===ev.levels.values.debug?console.debug(e):t===ev.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(eu({timestamp:new Date().toISOString(),log:e}));let t="string"==typeof e?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new eO(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){let t=this.getLogArray();return t.push(eu({extraMetadata:e})),new Blob(t,{type:"application/json"})}};class eI{constructor(e,t=1024e3){this.baseChunkLogger=new eS(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){let t=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=t,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}}class eA{constructor(e,t=1024e3){this.baseChunkLogger=new eS(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var eT=Object.defineProperty,eB=Object.defineProperties,eP=Object.getOwnPropertyDescriptors,eN=Object.getOwnPropertySymbols,ej=Object.prototype.hasOwnProperty,eC=Object.prototype.propertyIsEnumerable,eL=(e,t,r)=>t in e?eT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,eU=(e,t)=>{for(var r in t||(t={}))ej.call(t,r)&&eL(e,r,t[r]);if(eN)for(var r of eN(t))eC.call(t,r)&&eL(e,r,t[r]);return e},ek=(e,t)=>eB(e,eP(t));function ez(e){return ek(eU({},e),{level:e?.level||e_.level})}function eM(e,t=eE){return typeof e.bindings>"u"?function(e,t=eE){return e[t]||""}(e,t):e.bindings().context||""}function eR(e,t,r=eE){let n=function(e,t,r=eE){let n=eM(e,r);return n.trim()?`${n}/${t}`:t}(e,t,r);return function(e,t,r=eE){return e[r]=t,e}(e.child({context:n}),n,r)}function eD(e){return"u">typeof e.loggerOverride&&"string"!=typeof e.loggerOverride?{logger:e.loggerOverride,chunkLoggerController:null}:"u">typeof window?function(e){var t,r;let n=new eI(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:ew(ek(eU({},e.opts),{level:"trace",browser:ek(eU({},null==(r=e.opts)?void 0:r.browser),{write:e=>n.write(e)})})),chunkLoggerController:n}}(e):function(e){var t;let r=new eA(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:ew(ek(eU({},e.opts),{level:"trace"}),r),chunkLoggerController:r}}(e)}function eW(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function eH(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}let eF="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,eK=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function eV(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}(e)),eW(e),e}class e${clone(){return this._cloneInto()}}function eq(e=32){if(eF&&"function"==typeof eF.getRandomValues)return eF.getRandomValues(new Uint8Array(e));if(eF&&"function"==typeof eF.randomBytes)return eF.randomBytes(e);throw Error("crypto.getRandomValues must be defined")}class eY extends e${constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=eK(this.buffer)}update(e){eH(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=eV(e)).length;for(let o=0;o<i;){let s=Math.min(n-this.pos,i-o);if(s===n){let t=eK(e);for(;n<=i-o;o+=n)this.process(t,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){eH(this),function(e,t){eW(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),l=n?4:0,u=n?0:4;e.setUint32(t+l,s,n),e.setUint32(t+u,a,n)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);let s=eK(e),a=this.outputLen;if(a%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=a/4,u=this.get();if(l>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)s.setUint32(4*e,u[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}let eG=BigInt(4294967296-1),eZ=BigInt(32),eJ={split:function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:o,l:s}=function(e,t=!1){return t?{h:Number(e&eG),l:Number(e>>eZ&eG)}:{h:0|Number(e>>eZ&eG),l:0|Number(e&eG)}}(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]},shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,add:function(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/4294967296|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/4294967296|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/4294967296|0)|0,add5H:(e,t,r,n,i,o)=>t+r+n+i+o+(e/4294967296|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},[eX,eQ]=eJ.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),e0=new Uint32Array(80),e1=new Uint32Array(80);class e2 extends eY{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:o,Dh:s,Dl:a,Eh:l,El:u,Fh:c,Fl:f,Gh:h,Gl:d,Hh:p,Hl:b}=this;return[e,t,r,n,i,o,s,a,l,u,c,f,h,d,p,b]}set(e,t,r,n,i,o,s,a,l,u,c,f,h,d,p,b){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|l,this.El=0|u,this.Fh=0|c,this.Fl=0|f,this.Gh=0|h,this.Gl=0|d,this.Hh=0|p,this.Hl=0|b}process(e,t){for(let r=0;r<16;r++,t+=4)e0[r]=e.getUint32(t),e1[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|e0[e-15],r=0|e1[e-15],n=eJ.rotrSH(t,r,1)^eJ.rotrSH(t,r,8)^eJ.shrSH(t,r,7),i=eJ.rotrSL(t,r,1)^eJ.rotrSL(t,r,8)^eJ.shrSL(t,r,7),o=0|e0[e-2],s=0|e1[e-2],a=eJ.rotrSH(o,s,19)^eJ.rotrBH(o,s,61)^eJ.shrSH(o,s,6),l=eJ.rotrSL(o,s,19)^eJ.rotrBL(o,s,61)^eJ.shrSL(o,s,6),u=eJ.add4L(i,l,e1[e-7],e1[e-16]),c=eJ.add4H(u,n,a,e0[e-7],e0[e-16]);e0[e]=0|c,e1[e]=0|u}let{Ah:r,Al:n,Bh:i,Bl:o,Ch:s,Cl:a,Dh:l,Dl:u,Eh:c,El:f,Fh:h,Fl:d,Gh:p,Gl:b,Hh:g,Hl:y}=this;for(let e=0;e<80;e++){let t=eJ.rotrSH(c,f,14)^eJ.rotrSH(c,f,18)^eJ.rotrBH(c,f,41),m=eJ.rotrSL(c,f,14)^eJ.rotrSL(c,f,18)^eJ.rotrBL(c,f,41),v=c&h^~c&p,w=f&d^~f&b,_=eJ.add5L(y,m,w,eQ[e],e1[e]),E=eJ.add5H(_,g,t,v,eX[e],e0[e]),x=0|_,O=eJ.rotrSH(r,n,28)^eJ.rotrBH(r,n,34)^eJ.rotrBH(r,n,39),S=eJ.rotrSL(r,n,28)^eJ.rotrBL(r,n,34)^eJ.rotrBL(r,n,39),I=r&i^r&s^i&s,A=n&o^n&a^o&a;g=0|p,y=0|b,p=0|h,b=0|d,h=0|c,d=0|f,({h:c,l:f}=eJ.add(0|l,0|u,0|E,0|x)),l=0|s,u=0|a,s=0|i,a=0|o,i=0|r,o=0|n;let T=eJ.add3L(x,S,A);r=eJ.add3H(T,E,O,I),n=0|T}({h:r,l:n}=eJ.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:o}=eJ.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=eJ.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:l,l:u}=eJ.add(0|this.Dh,0|this.Dl,0|l,0|u)),({h:c,l:f}=eJ.add(0|this.Eh,0|this.El,0|c,0|f)),({h:h,l:d}=eJ.add(0|this.Fh,0|this.Fl,0|h,0|d)),({h:p,l:b}=eJ.add(0|this.Gh,0|this.Gl,0|p,0|b)),({h:g,l:y}=eJ.add(0|this.Hh,0|this.Hl,0|g,0|y)),this.set(r,n,i,o,s,a,l,u,c,f,h,d,p,b,g,y)}roundClean(){e0.fill(0),e1.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let e3=function(e){let t=t=>e().update(eV(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}(()=>new e2),e5=BigInt(0),e8=BigInt(1),e6=BigInt(2);function e9(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function e4(e){if(!e9(e))throw Error("Uint8Array expected")}function e7(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}let te=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function tt(e){e4(e);let t="";for(let r=0;r<e.length;r++)t+=te[e[r]];return t}function tr(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?e5:BigInt("0x"+e)}let tn={_0:48,_9:57,A:65,F:70,a:97,f:102};function ti(e){return e>=tn._0&&e<=tn._9?e-tn._0:e>=tn.A&&e<=tn.F?e-(tn.A-10):e>=tn.a&&e<=tn.f?e-(tn.a-10):void 0}function to(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=ti(e.charCodeAt(i)),o=ti(e.charCodeAt(i+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+o}return n}function ts(e){return e4(e),tr(tt(Uint8Array.from(e).reverse()))}function ta(e,t){return to(e.toString(16).padStart(2*t,"0"))}function tl(e,t){return ta(e,t).reverse()}function tu(e,t,r){let n;if("string"==typeof t)try{n=to(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(e9(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function tc(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];e4(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let tf=e=>"bigint"==typeof e&&e5<=e;function th(e,t,r,n){if(!(tf(t)&&tf(r)&&tf(n))||!(r<=t)||!(t<n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}let td=e=>(e6<<BigInt(e-1))-e8,tp={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||e9(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function tb(e,t,r={}){let n=(t,r,n)=>{let i=tp[r];if("function"!=typeof i)throw Error("invalid validator function");let o=e[t];if(!(n&&void 0===o)&&!i(o,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+o)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function tg(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let o=e(r,...n);return t.set(r,o),o}}let ty=BigInt(0),tm=BigInt(1),tv=BigInt(2),tw=BigInt(3),t_=BigInt(4),tE=BigInt(5),tx=BigInt(8);function tO(e,t){let r=e%t;return r>=ty?r:t+r}function tS(e,t,r){let n=e;for(;t-- >ty;)n*=n,n%=r;return n}function tI(e,t){if(e===ty)throw Error("invert: expected non-zero number");if(t<=ty)throw Error("invert: expected positive modulus, got "+t);let r=tO(e,t),n=t,i=ty,o=tm;for(;r!==ty;){let e=n/r,t=n%r,s=i-o*e;n=r,r=t,i=o,o=s}if(n!==tm)throw Error("invert: does not exist");return tO(i,t)}let tA=(e,t)=>(tO(e,t)&tm)===tm,tT=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function tB(e,t){let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function tP(e,t,r=!1,n={}){let i;if(e<=ty)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:o,nByteLength:s}=tB(e,t);if(s>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let a=Object.freeze({ORDER:e,isLE:r,BITS:o,BYTES:s,MASK:td(o),ZERO:ty,ONE:tm,create:t=>tO(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return ty<=t&&t<e},is0:e=>e===ty,isOdd:e=>(e&tm)===tm,neg:t=>tO(-t,e),eql:(e,t)=>e===t,sqr:t=>tO(t*t,e),add:(t,r)=>tO(t+r,e),sub:(t,r)=>tO(t-r,e),mul:(t,r)=>tO(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<ty)throw Error("invalid exponent, negatives unsupported");if(r===ty)return e.ONE;if(r===tm)return t;let n=e.ONE,i=t;for(;r>ty;)r&tm&&(n=e.mul(n,i)),i=e.sqr(i),r>>=tm;return n})(a,e,t),div:(t,r)=>tO(t*tI(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>tI(t,e),sqrt:n.sqrt||(t=>(i||(i=function(e){if(e%t_===tw){let t=(e+tm)/t_;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}if(e%tx===tE){let t=(e-tE)/tx;return function(e,r){let n=e.mul(r,tv),i=e.pow(n,t),o=e.mul(r,i),s=e.mul(e.mul(o,tv),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),r))throw Error("Cannot find square root");return a}}return function(e){let t,r,n;let i=(e-tm)/tv;for(t=e-tm,r=0;t%tv===ty;t/=tv,r++);for(n=tv;n<e&&function(e,t,r){if(t<ty)throw Error("invalid exponent, negatives unsupported");if(r<=ty)throw Error("invalid modulus");if(r===tm)return ty;let n=tm;for(;t>ty;)t&tm&&(n=n*e%r),e=e*e%r,t>>=tm;return n}(n,i,e)!==e-tm;n++)if(n>1e3)throw Error("Cannot find square root: likely non-prime P");if(1===r){let t=(e+tm)/t_;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let o=(t+tm)/tv;return function(e,s){if(e.pow(s,i)===e.neg(e.ONE))throw Error("Cannot find square root");let a=r,l=e.pow(e.mul(e.ONE,n),t),u=e.pow(s,o),c=e.pow(s,t);for(;!e.eql(c,e.ONE);){if(e.eql(c,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(c);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(l,tm<<BigInt(a-t-1));l=e.sqr(r),u=e.mul(u,r),c=e.mul(c,l),a=t}return u}}(e)}(e)),i(a,t))),invertBatch:e=>(function(e,t){let r=Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r})(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?tl(e,s):ta(e,s),fromBytes:e=>{if(e.length!==s)throw Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return r?ts(e):tr(tt(e))}});return Object.freeze(a)}let tN=BigInt(0),tj=BigInt(1);function tC(e,t){let r=t.negate();return e?r:t}function tL(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function tU(e,t){return tL(e,t),{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}let tk=new WeakMap,tz=new WeakMap;function tM(e){return tz.get(e)||1}let tR=BigInt(0),tD=BigInt(1),tW=BigInt(2),tH=BigInt(8),tF={zip215:!0};BigInt(0),BigInt(1);let tK=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),tV=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);let t$=BigInt(1),tq=BigInt(2);BigInt(3);let tY=BigInt(5),tG=BigInt(8),tZ=tP(tK,void 0,!0),tJ=function(e){var t;let r=function(e){let t=(tb(e.Fp,tT.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),tb(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...tB(e.n,e.nBitLength),...e,p:e.Fp.ORDER}));return tb(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:n,n:i,prehash:o,hash:s,randomBytes:a,nByteLength:l,h:u}=r,c=tW<<BigInt(8*l)-tD,f=n.create,h=tP(r.n,r.nBitLength),d=r.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch{return{isValid:!1,value:tR}}}),p=r.adjustScalarBytes||(e=>e),b=r.domain||((e,t,r)=>{if(e7("phflag",r),t.length||r)throw Error("Contexts/pre-hash are not supported");return e});function g(e,t){th("coordinate "+e,t,tR,c)}function y(e){if(!(e instanceof w))throw Error("ExtendedPoint expected")}let m=tg((e,t)=>{let{ex:r,ey:i,ez:o}=e,s=e.is0();null==t&&(t=s?tH:n.inv(o));let a=f(r*t),l=f(i*t),u=f(o*t);if(s)return{x:tR,y:tD};if(u!==tD)throw Error("invZ was invalid");return{x:a,y:l}}),v=tg(e=>{let{a:t,d:n}=r;if(e.is0())throw Error("bad point: ZERO");let{ex:i,ey:o,ez:s,et:a}=e,l=f(i*i),u=f(o*o),c=f(s*s),h=f(c*c),d=f(l*t);if(f(c*f(d+u))!==f(h+f(n*f(l*u))))throw Error("bad point: equation left != right (1)");if(f(i*o)!==f(s*a))throw Error("bad point: equation left != right (2)");return!0});class w{constructor(e,t,r,n){this.ex=e,this.ey=t,this.ez=r,this.et=n,g("x",e),g("y",t),g("z",r),g("t",n),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof w)throw Error("extended point not allowed");let{x:t,y:r}=e||{};return g("x",t),g("y",r),new w(t,r,tD,f(t*r))}static normalizeZ(e){let t=n.invertBatch(e.map(e=>e.ez));return e.map((e,r)=>e.toAffine(t[r])).map(w.fromAffine)}static msm(e,t){return function(e,t,r,n){if(function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t),r.length!==n.length)throw Error("arrays of points and scalars must have equal length");let i=e.ZERO,o=function(e){let t;for(t=0;e>e5;e>>=e8,t+=1);return t}(BigInt(r.length)),s=o>12?o-3:o>4?o-2:o?2:1,a=(1<<s)-1,l=Array(a+1).fill(i),u=Math.floor((t.BITS-1)/s)*s,c=i;for(let e=u;e>=0;e-=s){l.fill(i);for(let t=0;t<n.length;t++){let i=Number(n[t]>>BigInt(e)&BigInt(a));l[i]=l[i].add(r[t])}let t=i;for(let e=l.length-1,r=i;e>0;e--)r=r.add(l[e]),t=t.add(r);if(c=c.add(t),0!==e)for(let e=0;e<s;e++)c=c.double()}return c}(w,h,e,t)}_setWindowSize(e){x.setWindowSize(this,e)}assertValidity(){v(this)}equals(e){y(e);let{ex:t,ey:r,ez:n}=this,{ex:i,ey:o,ez:s}=e,a=f(t*s),l=f(i*n),u=f(r*s),c=f(o*n);return a===l&&u===c}is0(){return this.equals(w.ZERO)}negate(){return new w(f(-this.ex),this.ey,this.ez,f(-this.et))}double(){let{a:e}=r,{ex:t,ey:n,ez:i}=this,o=f(t*t),s=f(n*n),a=f(tW*f(i*i)),l=f(e*o),u=t+n,c=f(f(u*u)-o-s),h=l+s,d=h-a,p=l-s,b=f(c*d),g=f(h*p),y=f(c*p);return new w(b,g,f(d*h),y)}add(e){y(e);let{a:t,d:n}=r,{ex:i,ey:o,ez:s,et:a}=this,{ex:l,ey:u,ez:c,et:h}=e;if(t===BigInt(-1)){let e=f((o-i)*(u+l)),t=f((o+i)*(u-l)),r=f(t-e);if(r===tR)return this.double();let n=f(s*tW*h),d=f(a*tW*c),p=d+n,b=t+e,g=d-n,y=f(p*r),m=f(b*g),v=f(p*g);return new w(y,m,f(r*b),v)}let d=f(i*l),p=f(o*u),b=f(a*n*h),g=f(s*c),m=f((i+o)*(l+u)-d-p),v=g-b,_=g+b,E=f(p-t*d),x=f(m*v),O=f(_*E),S=f(m*E);return new w(x,O,f(v*_),S)}subtract(e){return this.add(e.negate())}wNAF(e){return x.wNAFCached(this,e,w.normalizeZ)}multiply(e){th("scalar",e,tD,i);let{p:t,f:r}=this.wNAF(e);return w.normalizeZ([t,r])[0]}multiplyUnsafe(e,t=w.ZERO){return th("scalar",e,tR,i),e===tR?E:this.is0()||e===tD?this:x.wNAFCachedUnsafe(this,e,w.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return x.unsafeLadder(this,i).is0()}toAffine(e){return m(this,e)}clearCofactor(){let{h:e}=r;return e===tD?this:this.multiplyUnsafe(e)}static fromHex(e,t=!1){let{d:i,a:o}=r,s=n.BYTES;e=tu("pointHex",e,s),e7("zip215",t);let a=e.slice(),l=e[s-1];a[s-1]=-129&l;let u=ts(a);th("pointHex.y",u,tR,t?c:n.ORDER);let h=f(u*u),{isValid:p,value:b}=d(f(h-tD),f(i*h-o));if(!p)throw Error("Point.fromHex: invalid y coordinate");let g=(b&tD)===tD,y=(128&l)!=0;if(!t&&b===tR&&y)throw Error("Point.fromHex: x=0 and x_0=1");return y!==g&&(b=f(-b)),w.fromAffine({x:b,y:u})}static fromPrivateKey(e){return O(e).point}toRawBytes(){let{x:e,y:t}=this.toAffine(),r=tl(t,n.BYTES);return r[r.length-1]|=e&tD?128:0,r}toHex(){return tt(this.toRawBytes())}}w.BASE=new w(r.Gx,r.Gy,tD,f(r.Gx*r.Gy)),w.ZERO=new w(tR,tD,tD,tR);let{BASE:_,ZERO:E}=w,x=(t=8*l,{constTimeNegate:tC,hasPrecomputes:e=>1!==tM(e),unsafeLadder(e,t,r=w.ZERO){let n=e;for(;t>tN;)t&tj&&(r=r.add(n)),n=n.double(),t>>=tj;return r},precomputeWindow(e,r){let{windows:n,windowSize:i}=tU(r,t),o=[],s=e,a=s;for(let e=0;e<n;e++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(e,r,n){let{windows:i,windowSize:o}=tU(e,t),s=w.ZERO,a=w.BASE,l=BigInt(2**e-1),u=2**e,c=BigInt(e);for(let e=0;e<i;e++){let t=e*o,i=Number(n&l);n>>=c,i>o&&(i-=u,n+=tj);let f=t+Math.abs(i)-1,h=e%2!=0,d=i<0;0===i?a=a.add(tC(h,r[t])):s=s.add(tC(d,r[f]))}return{p:s,f:a}},wNAFUnsafe(e,r,n,i=w.ZERO){let{windows:o,windowSize:s}=tU(e,t),a=BigInt(2**e-1),l=2**e,u=BigInt(e);for(let e=0;e<o;e++){let t=e*s;if(n===tN)break;let o=Number(n&a);if(n>>=u,o>s&&(o-=l,n+=tj),0===o)continue;let c=r[t+Math.abs(o)-1];o<0&&(c=c.negate()),i=i.add(c)}return i},getPrecomputes(e,t,r){let n=tk.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&tk.set(t,r(n))),n},wNAFCached(e,t,r){let n=tM(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=tM(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){tL(r,t),tz.set(e,r),tk.delete(e)}});function O(e){let t=n.BYTES;e=tu("private key",e,t);let r=tu("hashed private key",s(e),2*t),o=p(r.slice(0,t)),a=r.slice(t,2*t),l=tO(ts(o),i),u=_.multiply(l),c=u.toRawBytes();return{head:o,prefix:a,scalar:l,point:u,pointBytes:c}}function S(e=new Uint8Array,...t){return tO(ts(s(b(tc(...t),tu("context",e),!!o))),i)}return _._setWindowSize(8),{CURVE:r,getPublicKey:function(e){return O(e).pointBytes},sign:function(e,t,r={}){e=tu("message",e),o&&(e=o(e));let{prefix:s,scalar:a,pointBytes:l}=O(t),u=S(r.context,s,e),c=_.multiply(u).toRawBytes(),f=tO(u+S(r.context,c,l,e)*a,i);return th("signature.s",f,tR,i),tu("result",tc(c,tl(f,n.BYTES)),2*n.BYTES)},verify:function(e,t,r,i=tF){let s,a,l;let{context:u,zip215:c}=i,f=n.BYTES;e=tu("signature",e,2*f),t=tu("message",t),r=tu("publicKey",r,f),void 0!==c&&e7("zip215",c),o&&(t=o(t));let h=ts(e.slice(f,2*f));try{s=w.fromHex(r,c),a=w.fromHex(e.slice(0,f),c),l=_.multiplyUnsafe(h)}catch{return!1}if(!c&&s.isSmallOrder())return!1;let d=S(u,a.toRawBytes(),s.toRawBytes(),t);return a.add(s.multiplyUnsafe(d)).subtract(l).clearCofactor().equals(w.ZERO)},ExtendedPoint:w,utils:{getExtendedPublicKey:O,randomPrivateKey:()=>a(n.BYTES),precompute:(e=8,t=w.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:tZ,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:tG,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:e3,randomBytes:eq,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:function(e,t){let r=tO(t*t*t,tK),n=function(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=e*e%tK*e%tK,s=tS(o,tq,tK)*o%tK,a=tS(s,t$,tK)*e%tK,l=tS(a,tY,tK)*a%tK,u=tS(l,t,tK)*l%tK,c=tS(u,r,tK)*u%tK,f=tS(c,n,tK)*c%tK,h=tS(f,i,tK)*f%tK,d=tS(h,i,tK)*f%tK,p=tS(d,t,tK)*l%tK;return{pow_p_5_8:tS(p,tq,tK)*e%tK,b2:o}}(e*tO(r*r*t,tK)).pow_p_5_8,i=tO(e*r*n,tK),o=tO(t*i*i,tK),s=i,a=tO(i*tV,tK),l=o===e,u=o===tO(-e,tK),c=o===tO(-e*tV,tK);return l&&(i=s),(u||c)&&(i=a),tA(i,tK)&&(i=tO(-i,tK)),{isValid:l||u,value:i}}}),tX="base64url",tQ="utf8",t0="utf8",t1="base58btc";function t2(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function t3(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?t2(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function t5(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));let r=t3(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return t2(r)}var t8=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw TypeError(o+" is ambiguous");r[s]=i}var a=e.length,l=e.charAt(0),u=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===l;)n++,t++;for(var o=(e.length-t)*u+1>>>0,s=new Uint8Array(o);e[t];){var c=r[e.charCodeAt(t)];if(255===c)return;for(var f=0,h=o-1;(0!==c||f<i)&&-1!==h;h--,f++)c+=a*s[h]>>>0,s[h]=c%256>>>0,c=c/256>>>0;if(0!==c)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===s[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=s[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*c+1>>>0,u=new Uint8Array(s);i!==o;){for(var f=t[i],h=0,d=s-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*u[d]>>>0,u[d]=f%a>>>0,f=f/a>>>0;if(0!==f)throw Error("Non-zero carry");n=h,i++}for(var p=s-n;p!==s&&0===u[p];)p++;for(var b=l.repeat(r);p<s;++p)b+=e.charAt(u[p]);return b},decodeUnsafe:f,decode:function(e){var r=f(e);if(r)return r;throw Error(`Non-${t} character`)}}};let t6=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},t9=e=>new TextEncoder().encode(e),t4=e=>new TextDecoder().decode(e);class t7{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class re{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return rr(this,e)}}class rt{constructor(e){this.decoders=e}or(e){return rr(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let rr=(e,t)=>new rt({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class rn{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new t7(e,t,r),this.decoder=new re(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let ri=({name:e,prefix:t,encode:r,decode:n})=>new rn(e,t,r,n),ro=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=t8(r,t);return ri({prefix:e,name:t,encode:n,decode:e=>t6(i(e))})},rs=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let s=new Uint8Array(o*r/8|0),a=0,l=0,u=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);l=l<<r|o,(a+=r)>=8&&(a-=8,s[u++]=255&l>>a)}if(a>=r||255&l<<8-a)throw SyntaxError("Unexpected end of data");return s},ra=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",s=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o},rl=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>ri({prefix:t,name:e,encode:e=>ra(e,n,r),decode:t=>rs(t,n,r,e)});var ru=Object.freeze({__proto__:null,identity:ri({prefix:"\0",name:"identity",encode:e=>t4(e),decode:e=>t9(e)})}),rc=Object.freeze({__proto__:null,base2:rl({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),rf=Object.freeze({__proto__:null,base8:rl({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),rh=Object.freeze({__proto__:null,base10:ro({prefix:"9",name:"base10",alphabet:"0123456789"})}),rd=Object.freeze({__proto__:null,base16:rl({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:rl({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});let rp=rl({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),rb=rl({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),rg=rl({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ry=rl({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),rm=rl({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),rv=rl({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});var rw=Object.freeze({__proto__:null,base32:rp,base32upper:rb,base32pad:rg,base32padupper:ry,base32hex:rm,base32hexupper:rv,base32hexpad:rl({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper:rl({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:rl({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),r_=Object.freeze({__proto__:null,base36:ro({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:ro({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),rE=Object.freeze({__proto__:null,base58btc:ro({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:ro({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});let rx=rl({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});var rO=Object.freeze({__proto__:null,base64:rx,base64pad:rl({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url:rl({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:rl({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let rS=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),rI=rS.reduce((e,t,r)=>(e[r]=t,e),[]),rA=rS.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);var rT=Object.freeze({__proto__:null,base256emoji:ri({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=rI[t],"")},decode:function(e){let t=[];for(let r of e){let e=rA[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}})});function rB(e,t){var r,n=0,t=t||0,i=0,o=t,s=e.length;do{if(o>=s)throw rB.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return rB.bytes=o-t,n}var rP=function e(t,r,n){r=r||[],n=n||0;for(var i=n;t>=2147483648;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r};let rN=(e,t,r=0)=>(rP(e,t,r),t),rj=e=>e<128?1:e<16384?2:e<2097152?3:e<268435456?4:e<34359738368?5:e<4398046511104?6:e<562949953421312?7:e<72057594037927940?8:e<0x7fffffffffffffff?9:10,rC=(e,t)=>{let r=t.byteLength,n=rj(e),i=n+rj(r),o=new Uint8Array(i+r);return rN(e,o,0),rN(r,o,n),o.set(t,i),new rL(e,r,t,o)};class rL{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let rU=({name:e,code:t,encode:r})=>new rk(e,t,r);class rk{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?rC(this.code,t):t.then(e=>rC(this.code,e))}throw Error("Unknown type, must be binary type")}}let rz=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t));var rM=Object.freeze({__proto__:null,sha256:rU({name:"sha2-256",code:18,encode:rz("SHA-256")}),sha512:rU({name:"sha2-512",code:19,encode:rz("SHA-512")})}),rR=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:t6,digest:e=>rC(0,t6(e))}});new TextEncoder,new TextDecoder;let rD={...ru,...rc,...rf,...rh,...rd,...rw,...r_,...rE,...rO,...rT};function rW(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...rM,...rR});let rH=rW("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),rF=rW("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=t3((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),rK={utf8:rH,"utf-8":rH,hex:rD.base16,latin1:rF,ascii:rF,binary:rF,...rD};function rV(e,t="utf8"){let r=rK[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function r$(e,t="utf8"){let r=rK[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?t2(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function rq(e){return el(rV(r$(e,tX),tQ))}function rY(e){return rV(r$(eu(e),tQ),tX)}function rG(e){return["did","key","z"+rV(t5([r$("K36",t1),e]),t1)].join(":")}function rZ(e){let t=e.split("."),r=rq(t[0]);return{header:r,payload:rq(t[1]),signature:r$(t[2],tX),data:r$(t.slice(0,2).join("."),t0)}}function rJ(e=eq(32)){let t=tJ.getPublicKey(e);return{secretKey:t5([e,t]),publicKey:t}}async function rX(e,t,r,n,i=z.fromMiliseconds(Date.now())){var o,s;let a={alg:"EdDSA",typ:"JWT"},l={iss:rG(n.publicKey),sub:e,aud:t,iat:i,exp:i+r},u=r$([rY((o={header:a,payload:l}).header),rY(o.payload)].join("."),t0);return[rY((s={header:a,payload:l,signature:tJ.sign(u,n.secretKey.slice(0,32))}).header),rY(s.payload),rV(s.signature,tX)].join(".")}var rQ=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},r0=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},r1=function(e){this.version=e,this.type="node",this.name="node",this.os=o.p.platform},r2=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},r3=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},r5=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},r8=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,r6=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],r9=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function r4(e){return typeof document>"u"&&"u">typeof navigator&&"ReactNative"===navigator.product?new r5:"u">typeof navigator?function(e){var t=""!==e&&r6.reduce(function(t,r){var n=r[0],i=r[1];if(t)return t;var o=i.exec(e);return!!o&&[n,o]},!1);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new r3;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<3&&(i=rQ(rQ([],i,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-i.length),!0)):i=[];var o=i.join("."),s=function(e){for(var t=0,r=r9.length;t<r;t++){var n=r9[t],i=n[0];if(n[1].exec(e))return i}return null}(e),a=r8.exec(e);return a&&a[1]?new r2(r,o,s,a[1]):new r0(r,o,s)}(navigator.userAgent):"u">typeof o.p&&o.p.version?new r1(o.p.version.slice(1)):null}var r7,ne,nt,nr,nn,ni,no,ns={};function na(){if(no)return ns;function e(e){let t;return"u">typeof window&&"u">typeof window[e]&&(t=window[e]),t}function t(t){let r=e(t);if(!r)throw Error(`${t} is not defined in Window`);return r}return no=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.getLocalStorage=ns.getLocalStorageOrThrow=ns.getCrypto=ns.getCryptoOrThrow=ns.getLocation=ns.getLocationOrThrow=ns.getNavigator=ns.getNavigatorOrThrow=ns.getDocument=ns.getDocumentOrThrow=ns.getFromWindowOrThrow=ns.getFromWindow=void 0,ns.getFromWindow=e,ns.getFromWindowOrThrow=t,ns.getDocumentOrThrow=function(){return t("document")},ns.getDocument=function(){return e("document")},ns.getNavigatorOrThrow=function(){return t("navigator")},ns.getNavigator=function(){return e("navigator")},ns.getLocationOrThrow=function(){return t("location")},ns.getLocation=function(){return e("location")},ns.getCryptoOrThrow=function(){return t("crypto")},ns.getCrypto=function(){return e("crypto")},ns.getLocalStorageOrThrow=function(){return t("localStorage")},ns.getLocalStorage=function(){return e("localStorage")},ns}var nl,nu=na(),nc={},nf=function(){if(nl)return nc;nl=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.getWindowMetadata=void 0;let e=na();return nc.getWindowMetadata=function(){let t,r,n;try{t=e.getDocumentOrThrow(),r=e.getLocationOrThrow()}catch{return null}function i(...e){let r=t.getElementsByTagName("meta");for(let t=0;t<r.length;t++){let n=r[t],i=["itemprop","property","name"].map(e=>n.getAttribute(e)).filter(t=>!!t&&e.includes(t));if(i.length&&i){let e=n.getAttribute("content");if(e)return e}}return""}let o=((n=i("name","og:site_name","og:title","twitter:title"))||(n=t.title),n);return{description:i("description","og:description","twitter:description","keywords"),url:r.origin,icons:function(){let e=t.getElementsByTagName("link"),n=[];for(let t=0;t<e.length;t++){let i=e[t],o=i.getAttribute("rel");if(o&&o.toLowerCase().indexOf("icon")>-1){let e=i.getAttribute("href");if(e){if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let t=r.protocol+"//"+r.host;if(0===e.indexOf("/"))t+=e;else{let n=r.pathname.split("/");n.pop(),t+=n.join("/")+"/"+e}n.push(t)}else if(0===e.indexOf("//")){let t=r.protocol+e;n.push(t)}else n.push(e)}}}return n}(),name:o}},nc}();function nh(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function nd(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));let r=nh(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return r}var np=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw TypeError(o+" is ambiguous");r[s]=i}var a=e.length,l=e.charAt(0),u=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===l;)n++,t++;for(var o=(e.length-t)*u+1>>>0,s=new Uint8Array(o);e[t];){var c=r[e.charCodeAt(t)];if(255===c)return;for(var f=0,h=o-1;(0!==c||f<i)&&-1!==h;h--,f++)c+=a*s[h]>>>0,s[h]=c%256>>>0,c=c/256>>>0;if(0!==c)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===s[d];)d++;for(var p=new Uint8Array(n+(o-d)),b=n;d!==o;)p[b++]=s[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*c+1>>>0,u=new Uint8Array(s);i!==o;){for(var f=t[i],h=0,d=s-1;(0!==f||h<n)&&-1!==d;d--,h++)f+=256*u[d]>>>0,u[d]=f%a>>>0,f=f/a>>>0;if(0!==f)throw Error("Non-zero carry");n=h,i++}for(var p=s-n;p!==s&&0===u[p];)p++;for(var b=l.repeat(r);p<s;++p)b+=e.charAt(u[p]);return b},decodeUnsafe:f,decode:function(e){var r=f(e);if(r)return r;throw Error(`Non-${t} character`)}}};let nb=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},ng=e=>new TextEncoder().encode(e),ny=e=>new TextDecoder().decode(e);class nm{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class nv{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return n_(this,e)}}class nw{constructor(e){this.decoders=e}or(e){return n_(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let n_=(e,t)=>new nw({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class nE{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new nm(e,t,r),this.decoder=new nv(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let nx=({name:e,prefix:t,encode:r,decode:n})=>new nE(e,t,r,n),nO=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=np(r,t);return nx({prefix:e,name:t,encode:n,decode:e=>nb(i(e))})},nS=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let s=new Uint8Array(o*r/8|0),a=0,l=0,u=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);l=l<<r|o,(a+=r)>=8&&(a-=8,s[u++]=255&l>>a)}if(a>=r||255&l<<8-a)throw SyntaxError("Unexpected end of data");return s},nI=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",s=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o},nA=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>nx({prefix:t,name:e,encode:e=>nI(e,n,r),decode:t=>nS(t,n,r,e)}),nT=Object.freeze(Object.defineProperty({__proto__:null,identity:nx({prefix:"\0",name:"identity",encode:e=>ny(e),decode:e=>ng(e)})},Symbol.toStringTag,{value:"Module"})),nB=Object.freeze(Object.defineProperty({__proto__:null,base2:nA({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})},Symbol.toStringTag,{value:"Module"})),nP=Object.freeze(Object.defineProperty({__proto__:null,base8:nA({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})},Symbol.toStringTag,{value:"Module"})),nN=Object.freeze(Object.defineProperty({__proto__:null,base10:nO({prefix:"9",name:"base10",alphabet:"0123456789"})},Symbol.toStringTag,{value:"Module"})),nj=Object.freeze(Object.defineProperty({__proto__:null,base16:nA({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:nA({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})},Symbol.toStringTag,{value:"Module"})),nC=nA({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),nL=nA({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),nU=nA({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),nk=nA({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),nz=nA({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),nM=nA({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),nR=Object.freeze(Object.defineProperty({__proto__:null,base32:nC,base32hex:nz,base32hexpad:nA({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper:nA({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32hexupper:nM,base32pad:nU,base32padupper:nk,base32upper:nL,base32z:nA({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})},Symbol.toStringTag,{value:"Module"})),nD=Object.freeze(Object.defineProperty({__proto__:null,base36:nO({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:nO({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})},Symbol.toStringTag,{value:"Module"})),nW=Object.freeze(Object.defineProperty({__proto__:null,base58btc:nO({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:nO({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},Symbol.toStringTag,{value:"Module"})),nH=nA({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),nF=Object.freeze(Object.defineProperty({__proto__:null,base64:nH,base64pad:nA({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url:nA({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:nA({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})},Symbol.toStringTag,{value:"Module"})),nK=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),nV=nK.reduce((e,t,r)=>(e[r]=t,e),[]),n$=nK.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),nq=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:nx({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=nV[t],"")},decode:function(e){let t=[];for(let r of e){let e=n$[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}})},Symbol.toStringTag,{value:"Module"}));new TextEncoder,new TextDecoder;let nY={...nT,...nB,...nP,...nN,...nj,...nR,...nD,...nW,...nF,...nq};function nG(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}let nZ=nG("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),nJ=nG("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=nh((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),nX={utf8:nZ,"utf-8":nZ,hex:nY.base16,latin1:nJ,ascii:nJ,binary:nJ,...nY};function nQ(e,t="utf8"){let r=nX[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}function n0(e,t="utf8"){let r=nX[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}let n1={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},n2="INTERNAL_ERROR",n3="SERVER_ERROR",n5=[-32700,-32600,-32601,-32602,-32603],n8={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[n2]:{code:-32603,message:"Internal error"},[n3]:{code:-32e3,message:"Server error"}};function n6(e){return Object.keys(n8).includes(e)?n8[e]:n8[n3]}function n9(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?Error(`Unavailable ${r} RPC url at ${t}`):e}var n4={},n7=function(e,t){return(n7=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},ie=function(){return(ie=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function it(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ir(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function ii(e){return this instanceof ii?(this.v=e,this):new ii(e)}let io=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return ie},__asyncDelegator:function(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:ii(e[n](t)),done:"return"===n}:i?i(t):t}:i}},__asyncGenerator:function(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{var r;(r=i[e](t)).value instanceof ii?Promise.resolve(r.value.v).then(l,u):c(o[0][2],r)}catch(e){c(o[0][3],e)}}function l(e){a("next",e)}function u(e){a("throw",e)}function c(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=it(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}},__await:ii,__awaiter:function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,r){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,r),r},__createBinding:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},__decorate:function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__exportStar:function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])},__extends:function(e,t){function r(){this.constructor=e}n7(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},__generator:function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__metadata:function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param:function(e,t){return function(r,n){t(r,n,e)}},__read:ir,__rest:function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ir(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},__values:it},Symbol.toStringTag,{value:"Module"})),is=(0,s.ae)(io);var ia,il,iu={},ic={},ih=(i||(i=1,Object.defineProperty(n4,"__esModule",{value:!0}),is.__exportStar(function(){if(ia)return iu;function e(){return(null===s.c||void 0===s.c?void 0:s.c.crypto)||(null===s.c||void 0===s.c?void 0:s.c.msCrypto)||{}}function t(){let t=e();return t.subtle||t.webkitSubtle}return ia=1,Object.defineProperty(iu,"__esModule",{value:!0}),iu.isBrowserCryptoAvailable=iu.getSubtleCrypto=iu.getBrowerCrypto=void 0,iu.getBrowerCrypto=e,iu.getSubtleCrypto=t,iu.isBrowserCryptoAvailable=function(){return!!e()&&!!t()},iu}(),n4),is.__exportStar(function(){if(il)return ic;function e(){return typeof document>"u"&&"u">typeof navigator&&"ReactNative"===navigator.product}function t(){return"u">typeof o.p&&"u">typeof o.p.versions&&"u">typeof o.p.versions.node}return il=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.isBrowser=ic.isNode=ic.isReactNative=void 0,ic.isReactNative=e,ic.isNode=t,ic.isBrowser=function(){return!e()&&!t()},ic}(),n4)),n4);function id(e=3){return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function ip(e=6){return BigInt(id(e))}function ib(e,t,r){return{id:r||id(),jsonrpc:"2.0",method:e,params:t}}function ig(e,t){return{id:e,jsonrpc:"2.0",result:t}}function iy(e,t,r){var n,i,o;return{id:e,jsonrpc:"2.0",error:typeof(n=t)>"u"?n6(n2):("string"==typeof n&&(n=Object.assign(Object.assign({},n6(n3)),{message:n})),i=n.code,n5.includes(i)&&(o=n.code,n=Object.values(n8).find(e=>e.code===o)||n8[n3]),n)}}class im{}class iv extends im{constructor(){super()}}class iw extends iv{constructor(e){super()}}function i_(e,t){let r=function(e){let t=e.match(RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}(e);return!(typeof r>"u")&&new RegExp(t).test(r)}function iE(e){return i_(e,"^https?:")}function ix(e){return i_(e,"^wss?:")}function iO(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function iS(e){return iO(e)&&"method"in e}function iI(e){return iO(e)&&(iA(e)||iT(e))}function iA(e){return"result"in e}function iT(e){return"error"in e}class iB extends iw{constructor(e){super(e),this.events=new u.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(ib(e.method,e.params||[],e.id||ip().toString()),t)}async requestStrict(e,t){return new Promise(async(r,n)=>{if(!this.connection.connected)try{await this.open()}catch(e){n(e)}this.events.on(`${e.id}`,e=>{iT(e)?n(e.error):r(e.result)});try{await this.connection.send(e,t)}catch(e){n(e)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),iI(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}let iP=()=>"u">typeof WebSocket||"u">typeof o.ca&&"u">typeof o.ca.WebSocket||"u">typeof window&&"u">typeof window.WebSocket||"u">typeof self&&"u">typeof self.WebSocket,iN=e=>e.split("?")[0],ij="u">typeof WebSocket?WebSocket:"u">typeof o.ca&&"u">typeof o.ca.WebSocket?o.ca.WebSocket:"u">typeof window&&"u">typeof window.WebSocket?window.WebSocket:"u">typeof self&&"u">typeof self.WebSocket?self.WebSocket:require("ws"),iC=class{constructor(e){if(this.url=e,this.events=new u.EventEmitter,this.registering=!1,!ix(e))throw Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return"u">typeof this.socket}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u"){t(Error("Connection already closed"));return}this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(eu(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!ix(e))throw Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(Error("WebSocket connection is missing or invalid"));e(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,r)=>{let n=ih.isReactNative()?void 0:{rejectUnauthorized:!RegExp("wss?://localhost(:d{2,5})?").test(e)},i=new ij(e,[],n);iP()?i.onerror=e=>{r(this.emitError(e.error))}:i.on("error",e=>{r(this.emitError(e))}),i.onopen=()=>{this.onOpen(i),t(i)}})}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;let t="string"==typeof e.data?el(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let r=this.parseError(t),n=iy(e,r.message||r.toString());this.events.emit("payload",n)}parseError(e,t=this.url){return n9(e,iN(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){let t=this.parseError(Error(e?.message||`WebSocket connection failed for host: ${iN(this.url)}`));return this.events.emit("register_error",t),t}};var iL=Object.defineProperty,iU=Object.defineProperties,ik=Object.getOwnPropertyDescriptors,iz=Object.getOwnPropertySymbols,iM=Object.prototype.hasOwnProperty,iR=Object.prototype.propertyIsEnumerable,iD=(e,t,r)=>t in e?iL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,iW=(e,t)=>{for(var r in t||(t={}))iM.call(t,r)&&iD(e,r,t[r]);if(iz)for(var r of iz(t))iR.call(t,r)&&iD(e,r,t[r]);return e},iH=(e,t)=>iU(e,ik(t));let iF={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class iK{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new u.EventEmitter,this.isAvailable=!1,this.registering=!1,!iE(e))throw Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{let t=eu(e),r=await (await (0,l.o)(this.url,iH(iW({},iF),{body:t}))).json();this.onPayload({data:r})}catch(t){this.onError(e.id,t)}}async register(e=this.url){if(!iE(e))throw Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){let e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return t(Error("HTTP connection is missing or invalid"));e()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){let t=eu({id:1,jsonrpc:"2.0",method:"test",params:[]});await (0,l.o)(e,iH(iW({},iF),{body:t}))}this.onOpen()}catch(t){let e=this.parseError(t);throw this.events.emit("register_error",e),this.onClose(),e}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;let t="string"==typeof e.data?el(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let r=this.parseError(t),n=iy(e,r.message||r.toString());this.events.emit("payload",n)}parseError(e,t=this.url){return n9(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}}}]);