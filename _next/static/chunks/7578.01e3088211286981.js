"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7578],{37578:function(e,t,r){r.d(t,{A:function(){return ey},B:function(){return s},E:function(){return R},F:function(){return T},I:function(){return N},L:function(){return P},N:function(){return S},R:function(){return Z},S:function(){return c},T:function(){return F},U:function(){return A},a:function(){return f},b:function(){return w},c:function(){return M},d:function(){return z},e:function(){return $},f:function(){return E},g:function(){return q},h:function(){return p},i:function(){return a},j:function(){return k},k:function(){return C},l:function(){return I},m:function(){return U},n:function(){return y},o:function(){return b},p:function(){return u},q:function(){return eu},r:function(){return eo},s:function(){return h},t:function(){return g},u:function(){return eE},v:function(){return eP},w:function(){return ev},x:function(){return eT},y:function(){return eM},z:function(){return ee}});let n="2.38.4",o={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${n}`};class s extends Error{constructor(e,t={}){let r=t.cause instanceof s?t.cause.details:t.cause?.message?t.cause.message:t.details,a=t.cause instanceof s&&t.cause.docsPath||t.docsPath,c=o.getDocsUrl?.({...t,docsPath:a});super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...c?[`Docs: ${c}`]:[],...r?[`Details: ${r}`]:[],...o.version?[`Version: ${o.version}`]:[]].join(`
`),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=a,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=n}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&void 0!==t.cause?e(t.cause,r):r?null:t}(this,e)}}function a(e,{strict:t=!0}={}){return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}class c extends s{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class i extends s{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}function u(e,{dir:t,size:r=32}={}){return"string"==typeof e?function(e,{dir:t,size:r=32}={}){if(null===r)return e;let n=e.replace("0x","");if(n.length>2*r)throw new i({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n["right"===t?"padEnd":"padStart"](2*r,"0")}`}(e,{dir:t,size:r}):function(e,{dir:t,size:r=32}={}){if(null===r)return e;if(e.length>r)throw new i({size:e.length,targetSize:r,type:"bytes"});let n=new Uint8Array(r);for(let o=0;o<r;o++){let s="right"===t;n[s?o:r-o-1]=e[s?o:e.length-o-1]}return n}(e,{dir:t,size:r})}class l extends s{constructor({max:e,min:t,signed:r,size:n,value:o}){super(`Number "${o}" is not in safe ${n?`${8*n}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class d extends s{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function h(e){return a(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function f(e,{size:t}){if(h(e)>t)throw new d({givenSize:h(e),maxSize:t})}function b(e,t={}){let{signed:r}=t;t.size&&f(e,{size:t.size});let n=BigInt(e);if(!r)return n;let o=(e.length-2)/2;return n<=(1n<<8n*BigInt(o)-1n)-1n?n:n-BigInt(`0x${"f".padStart(2*o,"f")}`)-1n}function p(e,t={}){return Number(b(e,t))}let m=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function g(e,t={}){return"number"==typeof e||"bigint"==typeof e?y(e,t):"string"==typeof e?x(e,t):"boolean"==typeof e?function(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?(f(r,{size:t.size}),u(r,{size:t.size})):r}(e,t):w(e,t)}function w(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=m[e[t]];let n=`0x${r}`;return"number"==typeof t.size?(f(n,{size:t.size}),u(n,{dir:"right",size:t.size})):n}function y(e,t={}){let r;let{signed:n,size:o}=t,s=BigInt(e);o?r=n?(1n<<8n*BigInt(o)-1n)-1n:2n**(8n*BigInt(o))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let a="bigint"==typeof r&&n?-r-1n:0;if(r&&s>r||s<a){let t="bigint"==typeof e?"n":"";throw new l({max:r?`${r}${t}`:void 0,min:`${a}${t}`,signed:n,size:o,value:`${e}${t}`})}let c=`0x${(n&&s<0?(1n<<BigInt(8*o))+BigInt(s):s).toString(16)}`;return o?u(c,{size:o}):c}let v=new TextEncoder;function x(e,t={}){return w(v.encode(e),t)}class P extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}let j=(e,t,r)=>JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString():t,r),$={gwei:9,wei:18},O={ether:-9,wei:9};function E(e,t){let r=e.toString(),n=r.startsWith("-");n&&(r=r.slice(1));let[o,s]=[(r=r.padStart(t,"0")).slice(0,r.length-t),r.slice(r.length-t)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${o||"0"}${s?`.${s}`:""}`}function M(e,t="wei"){return E(e,O[t])}class R extends s{constructor({cause:e,message:t}={}){let r=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(R,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(R,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class T extends s{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${M(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(T,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class z extends s{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${M(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(z,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class S extends s{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(S,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class q extends s{constructor({cause:e,nonce:t}={}){super([`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(q,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class k extends s{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(k,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class N extends s{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(N,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class C extends s{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(C,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class I extends s{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(I,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class U extends s{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(U,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class F extends s{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${M(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${M(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(F,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class A extends s{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}let B=e=>e;class D extends s{constructor({body:e,cause:t,details:r,headers:n,status:o,url:s}){super("HTTP request failed.",{cause:t,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${B(s)}`,e&&`Request body: ${j(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=n,this.status=o,this.url=s}}class G extends s{constructor({body:e,error:t,url:r}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${B(r)}`,`Request body: ${j(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data}}class L extends s{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${B(t)}`,`Request body: ${j(e)}`],name:"TimeoutError"})}}class J extends s{constructor(e,{code:t,docsPath:r,metaMessages:n,name:o,shortMessage:s}){super(s,{cause:e,docsPath:r,metaMessages:n||e?.metaMessages,name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||e.name,this.code=e instanceof G?e.code:t??-1}}class W extends J{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class H extends J{constructor(e){super(e,{code:H.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(H,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class _ extends J{constructor(e){super(e,{code:_.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(_,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class V extends J{constructor(e,{method:t}={}){super(e,{code:V.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}}Object.defineProperty(V,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class X extends J{constructor(e){super(e,{code:X.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(X,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class K extends J{constructor(e){super(e,{code:K.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(K,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Q extends J{constructor(e){super(e,{code:Q.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Q,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Y extends J{constructor(e){super(e,{code:Y.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Z extends J{constructor(e){super(e,{code:Z.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Z,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class ee extends J{constructor(e){super(e,{code:ee.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(ee,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class et extends J{constructor(e,{method:t}={}){super(e,{code:et.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not supported.`})}}Object.defineProperty(et,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class er extends J{constructor(e){super(e,{code:er.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(er,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class en extends J{constructor(e){super(e,{code:en.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(en,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class eo extends W{constructor(e){super(e,{code:eo.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(eo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class es extends W{constructor(e){super(e,{code:es.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(es,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class ea extends W{constructor(e,{method:t}={}){super(e,{code:ea.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}}Object.defineProperty(ea,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ec extends W{constructor(e){super(e,{code:ec.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(ec,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ei extends W{constructor(e){super(e,{code:ei.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(ei,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class eu extends W{constructor(e){super(e,{code:eu.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(eu,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class el extends W{constructor(e){super(e,{code:el.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(el,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class ed extends W{constructor(e){super(e,{code:ed.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(ed,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class eh extends W{constructor(e){super(e,{code:eh.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(eh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class ef extends W{constructor(e){super(e,{code:ef.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(ef,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class eb extends W{constructor(e){super(e,{code:eb.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(eb,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class ep extends W{constructor(e){super(e,{code:ep.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(ep,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class em extends W{constructor(e){super(e,{code:em.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(em,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class eg extends J{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}let ew=new P(8192);async function ey(e){return new Promise(t=>setTimeout(t,e))}function ev(e,{delay:t=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((o,s)=>{let a=async({count:c=0}={})=>{let i=async({error:e})=>{let r="function"==typeof t?t({count:c,error:e}):t;r&&await ey(r),a({count:c+1})};try{let t=await e();o(t)}catch(e){if(c<r&&await n({count:c,error:e}))return i({error:e});s(e)}};a()})}let ex=new Map;function eP(e,{errorInstance:t=Error("timed out"),timeout:r,signal:n}){return new Promise((o,s)=>{(async()=>{let a;try{let c=new AbortController;r>0&&(a=setTimeout(()=>{n?c.abort():s(t)},r)),o(await e({signal:c?.signal||null}))}catch(e){e?.name==="AbortError"&&s(t),s(e)}finally{clearTimeout(a)}})()})}let ej={current:0,take(){return this.current++},reset(){this.current=0}},e$=256,eO;function eE(e=11){if(!eO||e$+e>512){eO="",e$=0;for(let e=0;e<256;e++)eO+=(256+256*Math.random()|0).toString(16).substring(1)}return eO.substring(e$,e$+++e)}function eM({key:e,methods:t,name:r,request:n,retryCount:o=3,retryDelay:a=150,timeout:c,type:i},u){return{config:{key:e,methods:t,name:r,request:n,retryCount:o,retryDelay:a,timeout:c,type:i},request:function(e,t={}){return async(r,n={})=>{let{dedupe:o=!1,methods:a,retryDelay:c=150,retryCount:i=3,uid:u}={...t,...n},{method:l}=r;if(a?.exclude?.includes(l)||a?.include&&!a.include.includes(l))throw new et(Error("method not supported"),{method:l});let d=o?x(`${u}.${j(r)}`):void 0;return function(e,{enabled:t=!0,id:r}){if(!t||!r)return e();if(ew.get(r))return ew.get(r);let n=e().finally(()=>ew.delete(r));return ew.set(r,n),n}(()=>ev(async()=>{try{return await e(r)}catch(e){switch(e.code){case H.code:throw new H(e);case _.code:throw new _(e);case V.code:throw new V(e,{method:r.method});case X.code:throw new X(e);case K.code:throw new K(e);case Q.code:throw new Q(e);case Y.code:throw new Y(e);case Z.code:throw new Z(e);case ee.code:throw new ee(e);case et.code:throw new et(e,{method:r.method});case er.code:throw new er(e);case en.code:throw new en(e);case eo.code:throw new eo(e);case es.code:throw new es(e);case ea.code:throw new ea(e);case ec.code:throw new ec(e);case ei.code:throw new ei(e);case eu.code:throw new eu(e);case el.code:throw new el(e);case ed.code:throw new ed(e);case eh.code:throw new eh(e);case ef.code:throw new ef(e);case eb.code:throw new eb(e);case ep.code:throw new ep(e);case em.code:throw new em(e);case 5e3:throw new eo(e);default:throw e instanceof s?e:new eg(e)}}},{delay:({count:e,error:t})=>{if(t&&t instanceof D){let e=t?.headers?.get("Retry-After");if(e?.match(/\d/))return 1e3*Number.parseInt(e,10)}return~~(1<<e)*c},retryCount:i,shouldRetry:({error:e})=>"code"in e&&"number"==typeof e.code?-1===e.code||e.code===er.code||e.code===K.code:!(e instanceof D)||!e.status||403===e.status||408===e.status||413===e.status||429===e.status||500===e.status||502===e.status||503===e.status||504===e.status}),{enabled:o,id:d})}}(n,{methods:t,retryCount:o,retryDelay:a,uid:eE()}),value:u}}class eR extends s{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function eT(e,t={}){let{batch:r,fetchFn:n,fetchOptions:o,key:s="http",methods:a,name:c="HTTP JSON-RPC",onFetchRequest:i,onFetchResponse:u,retryDelay:l,raw:d}=t;return({chain:h,retryCount:f,timeout:b})=>{let{batchSize:p=1e3,wait:m=0}="object"==typeof r?r:{},g=t.retryCount??f,w=b??t.timeout??1e4,y=e||h?.rpcUrls.default.http[0];if(!y)throw new eR;let v=function(e,t={}){return{async request(r){let{body:n,fetchFn:o=t.fetchFn??fetch,onRequest:s=t.onRequest,onResponse:a=t.onResponse,timeout:c=t.timeout??1e4}=r,i={...t.fetchOptions??{},...r.fetchOptions??{}},{headers:u,method:l,signal:d}=i;try{let t;let r=await eP(async({signal:t})=>{let r={...i,body:Array.isArray(n)?j(n.map(e=>({jsonrpc:"2.0",id:e.id??ej.take(),...e}))):j({jsonrpc:"2.0",id:n.id??ej.take(),...n}),headers:{"Content-Type":"application/json",...u},method:l||"POST",signal:d||(c>0?t:null)},a=new Request(e,r),h=await s?.(a,r)??{...r,url:e};return await o(h.url??e,h)},{errorInstance:new L({body:n,url:e}),timeout:c,signal:!0});if(a&&await a(r),r.headers.get("Content-Type")?.startsWith("application/json"))t=await r.json();else{t=await r.text();try{t=JSON.parse(t||"{}")}catch(e){if(r.ok)throw e;t={error:t}}}if(!r.ok)throw new D({body:n,details:j(t.error)||r.statusText,headers:r.headers,status:r.status,url:e});return t}catch(t){throw t instanceof D||t instanceof L?t:new D({body:n,cause:t,url:e})}}}}(y,{fetchFn:n,fetchOptions:o,onRequest:i,onResponse:u,timeout:w});return eM({key:s,methods:a,name:c,async request({method:e,params:t}){let n={method:e,params:t},{schedule:o}=function({fn:e,id:t,shouldSplitBatch:r,wait:n=0,sort:o}){let s=async()=>{let t=i();a();let r=t.map(({args:e})=>e);0!==r.length&&e(r).then(e=>{o&&Array.isArray(e)&&e.sort(o);for(let r=0;r<t.length;r++){let{resolve:n}=t[r];n?.([e[r],e])}}).catch(e=>{for(let r=0;r<t.length;r++){let{reject:n}=t[r];n?.(e)}})},a=()=>ex.delete(t),c=()=>i().map(({args:e})=>e),i=()=>ex.get(t)||[],u=e=>ex.set(t,[...i(),e]);return{flush:a,async schedule(e){let t,o;let{promise:a,resolve:l,reject:d}=(t=()=>{},o=()=>{},{promise:new Promise((e,r)=>{t=e,o=r}),resolve:t,reject:o});return r?.([...c(),e])&&s(),i().length>0?u({args:e,resolve:l,reject:d}):(u({args:e,resolve:l,reject:d}),setTimeout(s,n)),a}}}({id:y,wait:m,shouldSplitBatch:e=>e.length>p,fn:e=>v.request({body:e}),sort:(e,t)=>e.id-t.id}),s=async e=>r?o(e):[await v.request({body:e})],[{error:a,result:c}]=await s(n);if(d)return{error:a,result:c};if(a)throw new G({body:n,error:a,url:y});return c},retryCount:g,retryDelay:l,timeout:w,type:"http"},{fetchOptions:o,url:y})}}}}]);