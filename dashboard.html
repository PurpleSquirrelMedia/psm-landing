<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advertiser Dashboard - Purple Squirrel Media</title>
    <meta name="description" content="Manage your OTT/CTV advertising campaigns with real-time analytics and Solana payments.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script>
    <style>
        :root {
            --primary: #7c3aed;
            --primary-dark: #1a0a2e;
            --bg-dark: #0a0612;
            --bg-card: #151020;
            --bg-card-hover: #1e1530;
            --text-primary: #ffffff;
            --text-muted: #9ca3af;
            --success: #14F195;
            --warning: #f59e0b;
            --danger: #ef4444;
            --info: #3b82f6;
            --solana: #9945ff;
            --border: rgba(255,255,255,0.08);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Poppins', sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            min-height: 100vh;
        }

        /* Layout */
        .dashboard-layout {
            display: grid;
            grid-template-columns: 260px 1fr;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            background: var(--bg-card);
            border-right: 1px solid var(--border);
            padding: 25px 0;
            position: sticky;
            top: 0;
            height: 100vh;
            overflow-y: auto;
        }
        .sidebar-logo {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 0 25px 30px;
            border-bottom: 1px solid var(--border);
            text-decoration: none;
            color: white;
        }
        .sidebar-logo img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
        }
        .sidebar-logo span {
            font-weight: 600;
            font-size: 15px;
            line-height: 1.3;
        }
        .sidebar-logo small {
            display: block;
            font-weight: 400;
            opacity: 0.7;
            font-size: 12px;
        }

        .sidebar-nav {
            padding: 20px 0;
        }
        .nav-section {
            padding: 0 15px;
            margin-bottom: 25px;
        }
        .nav-section-title {
            font-size: 11px;
            text-transform: uppercase;
            color: var(--text-muted);
            letter-spacing: 1px;
            padding: 0 10px;
            margin-bottom: 10px;
        }
        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 15px;
            border-radius: 10px;
            color: var(--text-muted);
            text-decoration: none;
            font-size: 14px;
            transition: all 0.2s;
            margin-bottom: 4px;
        }
        .nav-item:hover {
            background: var(--bg-card-hover);
            color: white;
        }
        .nav-item.active {
            background: linear-gradient(135deg, var(--primary), rgba(124, 58, 237, 0.6));
            color: white;
        }
        .nav-item i { width: 20px; text-align: center; }

        .wallet-card {
            margin: 20px 15px;
            padding: 20px;
            background: linear-gradient(135deg, rgba(153, 69, 255, 0.2), rgba(20, 241, 149, 0.1));
            border-radius: 16px;
            border: 1px solid rgba(153, 69, 255, 0.3);
        }
        .wallet-card .label {
            font-size: 12px;
            color: var(--text-muted);
            margin-bottom: 5px;
        }
        .wallet-card .balance {
            font-size: 24px;
            font-weight: 700;
            color: var(--success);
        }
        .wallet-card .address {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 10px;
            word-break: break-all;
        }
        .wallet-btn {
            width: 100%;
            padding: 12px;
            background: var(--solana);
            border: none;
            border-radius: 10px;
            color: white;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            margin-top: 15px;
            transition: all 0.3s;
        }
        .wallet-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(153, 69, 255, 0.4);
        }

        /* Main Content */
        .main-content {
            padding: 30px;
            overflow-y: auto;
        }
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        .page-header h1 {
            font-size: 28px;
            font-weight: 600;
        }
        .header-actions {
            display: flex;
            gap: 15px;
        }
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            text-decoration: none;
        }
        .btn-primary {
            background: linear-gradient(135deg, var(--primary), #9333ea);
            color: white;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(124, 58, 237, 0.4);
        }
        .btn-outline {
            background: transparent;
            border: 1px solid var(--border);
            color: white;
        }
        .btn-outline:hover {
            background: var(--bg-card);
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        .stat-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 25px;
            border: 1px solid var(--border);
        }
        .stat-card .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        .stat-card .stat-icon {
            width: 45px;
            height: 45px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }
        .stat-icon.impressions { background: rgba(59, 130, 246, 0.2); color: var(--info); }
        .stat-icon.clicks { background: rgba(20, 241, 149, 0.2); color: var(--success); }
        .stat-icon.spent { background: rgba(153, 69, 255, 0.2); color: var(--solana); }
        .stat-icon.cpm { background: rgba(245, 158, 11, 0.2); color: var(--warning); }
        .stat-card .stat-change {
            font-size: 12px;
            padding: 4px 8px;
            border-radius: 20px;
        }
        .stat-change.positive { background: rgba(20, 241, 149, 0.2); color: var(--success); }
        .stat-change.negative { background: rgba(239, 68, 68, 0.2); color: var(--danger); }
        .stat-card .stat-value {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 5px;
        }
        .stat-card .stat-label {
            font-size: 14px;
            color: var(--text-muted);
        }

        /* Campaigns Table */
        .section-card {
            background: var(--bg-card);
            border-radius: 16px;
            border: 1px solid var(--border);
            margin-bottom: 30px;
        }
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 25px;
            border-bottom: 1px solid var(--border);
        }
        .section-header h2 {
            font-size: 18px;
            font-weight: 600;
        }
        .section-tabs {
            display: flex;
            gap: 5px;
        }
        .section-tab {
            padding: 8px 16px;
            border-radius: 8px;
            background: transparent;
            border: none;
            color: var(--text-muted);
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .section-tab:hover, .section-tab.active {
            background: var(--bg-card-hover);
            color: white;
        }

        .campaigns-table {
            width: 100%;
            border-collapse: collapse;
        }
        .campaigns-table th,
        .campaigns-table td {
            padding: 16px 25px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }
        .campaigns-table th {
            font-size: 12px;
            font-weight: 500;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .campaigns-table td {
            font-size: 14px;
        }
        .campaigns-table tr:last-child td {
            border-bottom: none;
        }
        .campaigns-table tr:hover td {
            background: var(--bg-card-hover);
        }
        .campaign-name {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .campaign-thumb {
            width: 50px;
            height: 30px;
            border-radius: 6px;
            background: linear-gradient(135deg, var(--primary), var(--info));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }
        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }
        .status-badge.active {
            background: rgba(20, 241, 149, 0.2);
            color: var(--success);
        }
        .status-badge.paused {
            background: rgba(245, 158, 11, 0.2);
            color: var(--warning);
        }
        .status-badge.ended {
            background: rgba(156, 163, 175, 0.2);
            color: var(--text-muted);
        }
        .status-badge .dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: currentColor;
        }
        .progress-bar {
            width: 100px;
            height: 6px;
            background: rgba(255,255,255,0.1);
            border-radius: 3px;
            overflow: hidden;
        }
        .progress-bar .fill {
            height: 100%;
            background: var(--success);
            border-radius: 3px;
        }
        .action-btns {
            display: flex;
            gap: 8px;
        }
        .action-btn {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            border: none;
            background: var(--bg-card-hover);
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.2s;
        }
        .action-btn:hover {
            color: white;
            background: var(--primary);
        }

        /* VAST Tag Generator */
        .vast-generator {
            padding: 25px;
        }
        .vast-generator h3 {
            font-size: 16px;
            margin-bottom: 20px;
        }
        .vast-options {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        .vast-option {
            padding: 15px;
            background: var(--bg-card-hover);
            border-radius: 12px;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.2s;
        }
        .vast-option:hover, .vast-option.selected {
            border-color: var(--primary);
        }
        .vast-option .title {
            font-weight: 500;
            margin-bottom: 5px;
        }
        .vast-option .desc {
            font-size: 12px;
            color: var(--text-muted);
        }
        .vast-tag-output {
            background: #0d0d0d;
            border-radius: 12px;
            padding: 20px;
            font-family: 'Monaco', monospace;
            font-size: 12px;
            color: var(--success);
            overflow-x: auto;
            margin-top: 15px;
        }
        .copy-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: var(--success);
            border: none;
            border-radius: 8px;
            color: #000;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            margin-top: 15px;
        }

        /* Create Campaign Modal */
        .modal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.85);
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }
        .modal.show { display: flex; }
        .modal-content {
            background: var(--bg-card);
            border-radius: 20px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid var(--border);
        }
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 25px;
            border-bottom: 1px solid var(--border);
        }
        .modal-header h2 { font-size: 20px; }
        .modal-close {
            width: 36px;
            height: 36px;
            border-radius: 10px;
            border: none;
            background: var(--bg-card-hover);
            color: var(--text-muted);
            cursor: pointer;
            font-size: 18px;
        }
        .modal-body { padding: 25px; }
        .form-group { margin-bottom: 20px; }
        .form-group label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 8px;
        }
        .form-input {
            width: 100%;
            padding: 14px 16px;
            background: var(--bg-dark);
            border: 1px solid var(--border);
            border-radius: 10px;
            color: white;
            font-size: 14px;
        }
        .form-input:focus {
            outline: none;
            border-color: var(--primary);
        }
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        .form-hint {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 6px;
        }
        .ad-formats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }
        .ad-format {
            padding: 15px;
            background: var(--bg-dark);
            border: 2px solid var(--border);
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }
        .ad-format:hover, .ad-format.selected {
            border-color: var(--primary);
            background: rgba(124, 58, 237, 0.1);
        }
        .ad-format i {
            font-size: 24px;
            color: var(--primary);
            margin-bottom: 8px;
        }
        .ad-format .name {
            font-size: 13px;
            font-weight: 500;
        }
        .payment-summary {
            background: linear-gradient(135deg, rgba(153, 69, 255, 0.15), rgba(20, 241, 149, 0.1));
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }
        .payment-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 14px;
        }
        .payment-row.total {
            font-size: 18px;
            font-weight: 600;
            padding-top: 10px;
            border-top: 1px solid var(--border);
            margin-top: 10px;
        }
        .payment-row .sol {
            color: var(--success);
        }
        .modal-footer {
            padding: 25px;
            border-top: 1px solid var(--border);
            display: flex;
            gap: 15px;
            justify-content: flex-end;
        }

        /* Charts placeholder */
        .chart-placeholder {
            height: 250px;
            background: linear-gradient(135deg, var(--bg-card-hover), var(--bg-dark));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
        }

        @media (max-width: 1200px) {
            .stats-grid { grid-template-columns: repeat(2, 1fr); }
        }
        @media (max-width: 900px) {
            .dashboard-layout { grid-template-columns: 1fr; }
            .sidebar { display: none; }
        }
        @media (max-width: 600px) {
            .stats-grid { grid-template-columns: 1fr; }
            .vast-options { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="dashboard-layout">
        <!-- Sidebar -->
        <aside class="sidebar">
            <a href="index.html" class="sidebar-logo">
                <img src="img/logo.png" alt="PSM">
                <span>Purple Squirrel<small>Ad Platform</small></span>
            </a>

            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-section-title">Overview</div>
                    <a href="#" class="nav-item active">
                        <i class="fas fa-chart-line"></i> Dashboard
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-bullhorn"></i> Campaigns
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-chart-bar"></i> Analytics
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">Ad Tools</div>
                    <a href="#" class="nav-item">
                        <i class="fas fa-code"></i> VAST Tags
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-film"></i> Creative Library
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-crosshairs"></i> Audiences
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">Blockchain</div>
                    <a href="#" class="nav-item">
                        <i class="fas fa-link"></i> On-Chain Logs
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-receipt"></i> Transactions
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">Account</div>
                    <a href="#" class="nav-item">
                        <i class="fas fa-cog"></i> Settings
                    </a>
                    <a href="advertise.html" class="nav-item">
                        <i class="fas fa-arrow-left"></i> Back to Site
                    </a>
                </div>
            </nav>

            <div class="wallet-card">
                <div class="label">Wallet Balance</div>
                <div class="balance" id="walletBalance">-- SOL</div>
                <div class="address" id="walletAddress">Not connected</div>
                <button class="wallet-btn" id="connectWalletBtn" onclick="connectWallet()">
                    <i class="fab fa-ethereum"></i> Connect Phantom
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="page-header">
                <h1>Advertiser Dashboard</h1>
                <div class="header-actions">
                    <button class="btn btn-outline">
                        <i class="fas fa-download"></i> Export Report
                    </button>
                    <button class="btn btn-primary" onclick="openCreateModal()">
                        <i class="fas fa-plus"></i> New Campaign
                    </button>
                </div>
            </div>

            <!-- Stats Grid -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon impressions">
                            <i class="fas fa-eye"></i>
                        </div>
                        <span class="stat-change positive">+12.5%</span>
                    </div>
                    <div class="stat-value">2.4M</div>
                    <div class="stat-label">Total Impressions</div>
                </div>
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon clicks">
                            <i class="fas fa-mouse-pointer"></i>
                        </div>
                        <span class="stat-change positive">+8.2%</span>
                    </div>
                    <div class="stat-value">18.2K</div>
                    <div class="stat-label">Total Clicks</div>
                </div>
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon spent">
                            <i class="fab fa-ethereum"></i>
                        </div>
                        <span class="stat-change negative">-3.1%</span>
                    </div>
                    <div class="stat-value">45.8 SOL</div>
                    <div class="stat-label">Total Spent</div>
                </div>
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon cpm">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <span class="stat-change positive">-5.4%</span>
                    </div>
                    <div class="stat-value">$6.82</div>
                    <div class="stat-label">Effective CPM</div>
                </div>
            </div>

            <!-- Campaigns Table -->
            <div class="section-card">
                <div class="section-header">
                    <h2>Active Campaigns</h2>
                    <div class="section-tabs">
                        <button class="section-tab active">All</button>
                        <button class="section-tab">Active</button>
                        <button class="section-tab">Paused</button>
                        <button class="section-tab">Ended</button>
                    </div>
                </div>
                <table class="campaigns-table">
                    <thead>
                        <tr>
                            <th>Campaign</th>
                            <th>Status</th>
                            <th>Format</th>
                            <th>Impressions</th>
                            <th>CTR</th>
                            <th>Spent</th>
                            <th>Budget Used</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div class="campaign-name">
                                    <div class="campaign-thumb"><i class="fas fa-play"></i></div>
                                    <div>
                                        <strong>Holiday Sale 2024</strong>
                                        <div style="font-size:12px;color:var(--text-muted)">Pre-roll • 15s</div>
                                    </div>
                                </div>
                            </td>
                            <td><span class="status-badge active"><span class="dot"></span> Active</span></td>
                            <td>Pre-roll</td>
                            <td>1.2M</td>
                            <td>0.82%</td>
                            <td>18.5 SOL</td>
                            <td>
                                <div class="progress-bar"><div class="fill" style="width:74%"></div></div>
                                <span style="font-size:12px;color:var(--text-muted)">74%</span>
                            </td>
                            <td>
                                <div class="action-btns">
                                    <button class="action-btn" title="Pause"><i class="fas fa-pause"></i></button>
                                    <button class="action-btn" title="Edit"><i class="fas fa-edit"></i></button>
                                    <button class="action-btn" title="Analytics"><i class="fas fa-chart-line"></i></button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="campaign-name">
                                    <div class="campaign-thumb" style="background:linear-gradient(135deg,var(--success),var(--info))"><i class="fas fa-ad"></i></div>
                                    <div>
                                        <strong>Brand Awareness Q4</strong>
                                        <div style="font-size:12px;color:var(--text-muted)">Overlay • Banner</div>
                                    </div>
                                </div>
                            </td>
                            <td><span class="status-badge active"><span class="dot"></span> Active</span></td>
                            <td>Overlay</td>
                            <td>856K</td>
                            <td>1.24%</td>
                            <td>12.3 SOL</td>
                            <td>
                                <div class="progress-bar"><div class="fill" style="width:45%"></div></div>
                                <span style="font-size:12px;color:var(--text-muted)">45%</span>
                            </td>
                            <td>
                                <div class="action-btns">
                                    <button class="action-btn" title="Pause"><i class="fas fa-pause"></i></button>
                                    <button class="action-btn" title="Edit"><i class="fas fa-edit"></i></button>
                                    <button class="action-btn" title="Analytics"><i class="fas fa-chart-line"></i></button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="campaign-name">
                                    <div class="campaign-thumb" style="background:linear-gradient(135deg,var(--warning),var(--danger))"><i class="fas fa-qrcode"></i></div>
                                    <div>
                                        <strong>QR Promo Test</strong>
                                        <div style="font-size:12px;color:var(--text-muted)">Interactive QR</div>
                                    </div>
                                </div>
                            </td>
                            <td><span class="status-badge paused"><span class="dot"></span> Paused</span></td>
                            <td>QR Code</td>
                            <td>124K</td>
                            <td>2.81%</td>
                            <td>5.2 SOL</td>
                            <td>
                                <div class="progress-bar"><div class="fill" style="width:100%"></div></div>
                                <span style="font-size:12px;color:var(--text-muted)">100%</span>
                            </td>
                            <td>
                                <div class="action-btns">
                                    <button class="action-btn" title="Resume"><i class="fas fa-play"></i></button>
                                    <button class="action-btn" title="Edit"><i class="fas fa-edit"></i></button>
                                    <button class="action-btn" title="Analytics"><i class="fas fa-chart-line"></i></button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- VAST Tag Generator -->
            <div class="section-card">
                <div class="section-header">
                    <h2>VAST Tag Generator</h2>
                </div>
                <div class="vast-generator">
                    <h3>Select Ad Format</h3>
                    <div class="vast-options">
                        <div class="vast-option selected" onclick="selectVastFormat(this, 'preroll')">
                            <div class="title"><i class="fas fa-play-circle"></i> Pre-roll</div>
                            <div class="desc">15-30s before content</div>
                        </div>
                        <div class="vast-option" onclick="selectVastFormat(this, 'midroll')">
                            <div class="title"><i class="fas fa-pause-circle"></i> Mid-roll</div>
                            <div class="desc">During content breaks</div>
                        </div>
                        <div class="vast-option" onclick="selectVastFormat(this, 'overlay')">
                            <div class="title"><i class="fas fa-layer-group"></i> Overlay</div>
                            <div class="desc">L-bar banner display</div>
                        </div>
                    </div>

                    <div class="vast-tag-output" id="vastOutput">
&lt;VAST version="4.2"&gt;
  &lt;Ad id="psm-preroll-001"&gt;
    &lt;InLine&gt;
      &lt;AdSystem&gt;Purple Squirrel Media&lt;/AdSystem&gt;
      &lt;AdTitle&gt;Your Campaign&lt;/AdTitle&gt;
      &lt;Impression&gt;
        &lt;![CDATA[https://api.purplesquirrel.media/v1/track/impression?cid=YOUR_CAMPAIGN_ID&amp;sol_wallet=ADVERTISER_WALLET]]&gt;
      &lt;/Impression&gt;
      &lt;Creatives&gt;
        &lt;Creative&gt;
          &lt;Linear&gt;
            &lt;Duration&gt;00:00:15&lt;/Duration&gt;
            &lt;MediaFiles&gt;
              &lt;MediaFile type="video/mp4" width="1920" height="1080"&gt;
                YOUR_VIDEO_URL
              &lt;/MediaFile&gt;
            &lt;/MediaFiles&gt;
            &lt;VideoClicks&gt;
              &lt;ClickThrough&gt;YOUR_LANDING_URL&lt;/ClickThrough&gt;
            &lt;/VideoClicks&gt;
          &lt;/Linear&gt;
        &lt;/Creative&gt;
      &lt;/Creatives&gt;
    &lt;/InLine&gt;
  &lt;/Ad&gt;
&lt;/VAST&gt;
                    </div>
                    <button class="copy-btn" onclick="copyVastTag()">
                        <i class="fas fa-copy"></i> Copy VAST Tag
                    </button>
                </div>
            </div>

            <!-- Performance Chart -->
            <div class="section-card">
                <div class="section-header">
                    <h2>Performance Over Time</h2>
                    <div class="section-tabs">
                        <button class="section-tab active">7 Days</button>
                        <button class="section-tab">30 Days</button>
                        <button class="section-tab">90 Days</button>
                    </div>
                </div>
                <div style="padding:25px">
                    <div class="chart-placeholder">
                        <div style="text-align:center">
                            <i class="fas fa-chart-area" style="font-size:48px;margin-bottom:15px;opacity:0.5"></i>
                            <p>Impressions & Clicks Chart</p>
                            <p style="font-size:12px;margin-top:5px">Connect wallet to view your data</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Create Campaign Modal -->
    <div class="modal" id="createModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Create New Campaign</h2>
                <button class="modal-close" onclick="closeCreateModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Campaign Name</label>
                    <input type="text" class="form-input" placeholder="e.g., Holiday Sale 2024" id="campaignName">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Start Date</label>
                        <input type="date" class="form-input" id="startDate">
                    </div>
                    <div class="form-group">
                        <label>End Date</label>
                        <input type="date" class="form-input" id="endDate">
                    </div>
                </div>

                <div class="form-group">
                    <label>Ad Format</label>
                    <div class="ad-formats">
                        <div class="ad-format selected" onclick="selectAdFormat(this, 'preroll')">
                            <i class="fas fa-play-circle"></i>
                            <div class="name">Pre-roll</div>
                        </div>
                        <div class="ad-format" onclick="selectAdFormat(this, 'midroll')">
                            <i class="fas fa-pause-circle"></i>
                            <div class="name">Mid-roll</div>
                        </div>
                        <div class="ad-format" onclick="selectAdFormat(this, 'overlay')">
                            <i class="fas fa-layer-group"></i>
                            <div class="name">Overlay</div>
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Budget (SOL)</label>
                        <input type="number" class="form-input" placeholder="10" id="budget" value="10" onchange="updatePaymentSummary()">
                        <p class="form-hint">Min: 1 SOL (~$200)</p>
                    </div>
                    <div class="form-group">
                        <label>Target CPM ($)</label>
                        <input type="number" class="form-input" placeholder="8.00" id="targetCpm" value="8.00">
                        <p class="form-hint">Platform avg: $6-12</p>
                    </div>
                </div>

                <div class="form-group">
                    <label>Video Creative URL</label>
                    <input type="url" class="form-input" placeholder="https://..." id="creativeUrl">
                    <p class="form-hint">MP4 format, max 30 seconds</p>
                </div>

                <div class="form-group">
                    <label>Click-through URL</label>
                    <input type="url" class="form-input" placeholder="https://yourbrand.com/landing" id="clickUrl">
                </div>

                <div class="payment-summary">
                    <div class="payment-row">
                        <span>Budget</span>
                        <span class="sol" id="summaryBudget">10 SOL</span>
                    </div>
                    <div class="payment-row">
                        <span>Est. Impressions</span>
                        <span id="summaryImpressions">~125,000</span>
                    </div>
                    <div class="payment-row">
                        <span>Platform Fee (0%)</span>
                        <span class="sol">0 SOL</span>
                    </div>
                    <div class="payment-row total">
                        <span>Total</span>
                        <span class="sol" id="summaryTotal">10 SOL</span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="closeCreateModal()">Cancel</button>
                <button class="btn btn-primary" onclick="createCampaign()">
                    <i class="fab fa-ethereum"></i> Pay & Launch
                </button>
            </div>
        </div>
    </div>

    <script>
        let walletConnected = false;
        let walletAddress = null;
        let selectedAdFormat = 'preroll';

        // Wallet connection
        async function connectWallet() {
            if (!window.solana?.isPhantom) {
                window.open('https://phantom.app/', '_blank');
                return;
            }

            try {
                const resp = await window.solana.connect();
                walletAddress = resp.publicKey.toString();
                walletConnected = true;

                document.getElementById('walletAddress').textContent =
                    walletAddress.slice(0, 8) + '...' + walletAddress.slice(-6);
                document.getElementById('connectWalletBtn').innerHTML =
                    '<i class="fas fa-check"></i> Connected';
                document.getElementById('connectWalletBtn').style.background = 'var(--success)';

                // Fetch balance (demo)
                document.getElementById('walletBalance').textContent = '24.5 SOL';
            } catch (err) {
                console.error('Wallet connection error:', err);
            }
        }

        // Check if already connected
        if (window.solana?.isConnected) {
            connectWallet();
        }

        // Modal functions
        function openCreateModal() {
            document.getElementById('createModal').classList.add('show');
        }

        function closeCreateModal() {
            document.getElementById('createModal').classList.remove('show');
        }

        // Ad format selection
        function selectAdFormat(el, format) {
            document.querySelectorAll('.ad-format').forEach(f => f.classList.remove('selected'));
            el.classList.add('selected');
            selectedAdFormat = format;
        }

        // VAST format selection
        function selectVastFormat(el, format) {
            document.querySelectorAll('.vast-option').forEach(f => f.classList.remove('selected'));
            el.classList.add('selected');
            updateVastTag(format);
        }

        function updateVastTag(format) {
            const templates = {
                preroll: `&lt;VAST version="4.2"&gt;
  &lt;Ad id="psm-preroll-001"&gt;
    &lt;InLine&gt;
      &lt;AdSystem&gt;Purple Squirrel Media&lt;/AdSystem&gt;
      &lt;AdTitle&gt;Your Campaign&lt;/AdTitle&gt;
      &lt;Impression&gt;
        &lt;![CDATA[https://api.purplesquirrel.media/v1/track/impression?cid=YOUR_CAMPAIGN_ID]]&gt;
      &lt;/Impression&gt;
      &lt;Creatives&gt;
        &lt;Creative&gt;
          &lt;Linear&gt;
            &lt;Duration&gt;00:00:15&lt;/Duration&gt;
            &lt;MediaFiles&gt;
              &lt;MediaFile type="video/mp4" width="1920" height="1080"&gt;YOUR_VIDEO_URL&lt;/MediaFile&gt;
            &lt;/MediaFiles&gt;
          &lt;/Linear&gt;
        &lt;/Creative&gt;
      &lt;/Creatives&gt;
    &lt;/InLine&gt;
  &lt;/Ad&gt;
&lt;/VAST&gt;`,
                midroll: `&lt;VAST version="4.2"&gt;
  &lt;Ad id="psm-midroll-001"&gt;
    &lt;InLine&gt;
      &lt;AdSystem&gt;Purple Squirrel Media&lt;/AdSystem&gt;
      &lt;AdTitle&gt;Mid-Roll Campaign&lt;/AdTitle&gt;
      &lt;Impression&gt;
        &lt;![CDATA[https://api.purplesquirrel.media/v1/track/impression?cid=YOUR_CAMPAIGN_ID&amp;type=midroll]]&gt;
      &lt;/Impression&gt;
      &lt;Creatives&gt;
        &lt;Creative&gt;
          &lt;Linear skipoffset="00:00:05"&gt;
            &lt;Duration&gt;00:00:30&lt;/Duration&gt;
            &lt;MediaFiles&gt;
              &lt;MediaFile type="video/mp4" width="1920" height="1080"&gt;YOUR_VIDEO_URL&lt;/MediaFile&gt;
            &lt;/MediaFiles&gt;
          &lt;/Linear&gt;
        &lt;/Creative&gt;
      &lt;/Creatives&gt;
    &lt;/InLine&gt;
  &lt;/Ad&gt;
&lt;/VAST&gt;`,
                overlay: `&lt;VAST version="4.2"&gt;
  &lt;Ad id="psm-overlay-001"&gt;
    &lt;InLine&gt;
      &lt;AdSystem&gt;Purple Squirrel Media&lt;/AdSystem&gt;
      &lt;AdTitle&gt;Overlay Banner&lt;/AdTitle&gt;
      &lt;Impression&gt;
        &lt;![CDATA[https://api.purplesquirrel.media/v1/track/impression?cid=YOUR_CAMPAIGN_ID&amp;type=overlay]]&gt;
      &lt;/Impression&gt;
      &lt;Creatives&gt;
        &lt;Creative&gt;
          &lt;NonLinearAds&gt;
            &lt;NonLinear width="728" height="90"&gt;
              &lt;StaticResource creativeType="image/png"&gt;YOUR_BANNER_URL&lt;/StaticResource&gt;
              &lt;NonLinearClickThrough&gt;YOUR_LANDING_URL&lt;/NonLinearClickThrough&gt;
            &lt;/NonLinear&gt;
          &lt;/NonLinearAds&gt;
        &lt;/Creative&gt;
      &lt;/Creatives&gt;
    &lt;/InLine&gt;
  &lt;/Ad&gt;
&lt;/VAST&gt;`
            };
            document.getElementById('vastOutput').innerHTML = templates[format];
        }

        function copyVastTag() {
            const vastText = document.getElementById('vastOutput').textContent;
            navigator.clipboard.writeText(vastText.replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&amp;/g, '&'));
            alert('VAST tag copied to clipboard!');
        }

        // Payment summary
        function updatePaymentSummary() {
            const budget = parseFloat(document.getElementById('budget').value) || 0;
            const cpm = parseFloat(document.getElementById('targetCpm').value) || 8;
            const impressions = Math.round((budget * 200) / cpm * 1000); // Rough estimate

            document.getElementById('summaryBudget').textContent = budget + ' SOL';
            document.getElementById('summaryTotal').textContent = budget + ' SOL';
            document.getElementById('summaryImpressions').textContent = '~' + impressions.toLocaleString();
        }

        // Create campaign
        async function createCampaign() {
            if (!walletConnected) {
                alert('Please connect your Phantom wallet first.');
                await connectWallet();
                return;
            }

            const name = document.getElementById('campaignName').value;
            const budget = document.getElementById('budget').value;

            if (!name || !budget) {
                alert('Please fill in all required fields.');
                return;
            }

            // In production, this would create a Solana transaction
            alert(`Campaign "${name}" created!\n\nBudget: ${budget} SOL\nFormat: ${selectedAdFormat}\n\nYour campaign is now live. Check the dashboard for real-time stats.`);
            closeCreateModal();
        }

        // Close modal on escape
        document.addEventListener('keydown', e => {
            if (e.key === 'Escape') closeCreateModal();
        });

        // Initialize
        updatePaymentSummary();
    </script>
</body>
</html>
